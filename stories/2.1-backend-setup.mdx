import { Meta } from '@storybook/addon-docs';

<Meta title="Backend/Setting up the zomes" />

# Setting up the zomes

> If you are using the [holochain-open-dev template](https://github.com/holochain-open-dev/templates) and scaffold an entry type with an `Image` field type, you will be prompted to install this module on your application.

> This guide assumes you are inside a nix-shell environment with `hc scaffold` available (for example, after you have run `nix-shell https://holochain.love --run "hc scaffold web-app"`).

1. Scaffold a new zome pair named `file_storage` with:

```bash
hc scaffold zome file_storage
```

Select the "Integrity/coordinator zome pair" option, and accept the path that the scaffolding tool offers to scaffold the zomes.

2. Add the `hc_zome_file_storage_coordinator` and `hc_zome_file_storage_integrity` zomes as dependencies with:

```bash
cargo add -p file_storage hc_zome_file_storage_coordinator
cargo add -p file_storage_integrity hc_zome_file_storage_integrity
```

3. Go into the newly scaffolded integrity zome's `lib.rs` (its path may be similar to `dnas/lobby/zomes/integrity/file_storage/src/lib.rs`) and **replace its contents with**:

```rust
extern crate hc_zome_file_storage_integrity;
```

4. Go into the newly scaffolded coordinator zome's `lib.rs` (its path may be similar to `dnas/lobby/zomes/coordinator/file_storage/src/lib.rs`) and **replace its contents with**:

```rust
extern crate hc_zome_file_storage_coordinator;
```
