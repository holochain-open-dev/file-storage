function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}import"./dist/storybook-prebuilt-53103ce5.js";import{c as t,u as n,a as r,g as o}from"./dist/storybook-prebuilt-3ba63d3f.js";import{D as i,b as a,c as s}from"./dist/storybook-prebuilt-4dae7756.js";import"./dist/storybook-prebuilt-c9cef5f5.js";import"./dist/storybook-prebuilt-9dd61b75.js";import{a as u}from"./dist/storybook-prebuilt-0b3b0ce5.js";import{P as l,_ as c}from"./dist/storybook-prebuilt-2f55489d.js";import{p as f}from"./dist/storybook-prebuilt-0b1685b3.js";import"./dist/storybook-prebuilt-d03cde97.js";import"./dist/storybook-prebuilt-ef0ce90f.js";import{r as d}from"./dist/storybook-prebuilt-c5081207.js";import{_ as p}from"./dist/storybook-prebuilt-e17bc3b1.js";import"./dist/storybook-prebuilt-1a6e3162.js";import"./dist/storybook-prebuilt-6918c481.js";import{r as h,_ as y}from"./dist/storybook-prebuilt-c5aee634.js";import{i as v}from"./dist/storybook-prebuilt-29c1a26d.js";import"./dist/storybook-prebuilt-d050466c.js";import"./dist/storybook-prebuilt-d40d7550.js";import"./dist/storybook-prebuilt-da3f7036.js";import"./dist/storybook-prebuilt-4e5e6cbb.js";import"./dist/storybook-prebuilt-8f2fc776.js";import{b as g}from"./dist/storybook-prebuilt-617f6ed7.js";import"./dist/storybook-prebuilt-52e8b197.js";import{i as m,_ as b}from"./dist/storybook-prebuilt-31092c1e.js";import{r as _}from"./dist/storybook-prebuilt-685049dd.js";import{_ as k,M as E}from"./dist/storybook-prebuilt-e1e8d54e.js";import{_ as O}from"./dist/storybook-prebuilt-85a38199.js";import"./dist/storybook-prebuilt-e856152c.js";import{r as w}from"./dist/storybook-prebuilt-6aa1ee92.js";import{_ as S}from"./dist/storybook-prebuilt-ffb249b0.js";import{r as P}from"./dist/storybook-prebuilt-1188e5c0.js";import{r as C}from"./dist/storybook-prebuilt-7a45086c.js";var I=Array.isArray,T=Object.keys,j=Object.prototype.hasOwnProperty,x="undefined"!=typeof Element;var K=function(t,n){try{return function t(n,r){if(n===r)return!0;if(n&&r&&"object"==e(n)&&"object"==e(r)){var o,i,a,s=I(n),u=I(r);if(s&&u){if((i=n.length)!=r.length)return!1;for(o=i;0!=o--;)if(!t(n[o],r[o]))return!1;return!0}if(s!=u)return!1;var l=n instanceof Date,c=r instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==r.getTime();var f=n instanceof RegExp,d=r instanceof RegExp;if(f!=d)return!1;if(f&&d)return n.toString()==r.toString();var p=T(n);if((i=p.length)!==T(r).length)return!1;for(o=i;0!=o--;)if(!j.call(r,p[o]))return!1;if(x&&n instanceof Element&&r instanceof Element)return n===r;for(o=i;0!=o--;)if(!("_owner"===(a=p[o])&&n.$$typeof||t(n[a],r[a])))return!1;return!0}return n!=n&&r!=r}(t,n)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}},M={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},L=Object.keys(M).map((function(e){return M[e]})),A={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},R=Object.keys(A).reduce((function(e,t){return e[A[t]]=t,e}),{}),D=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},N=function(e){var t=D(e,M.TITLE),n=D(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(function(){return t}));var r=D(e,"defaultTitle");return t||r||void 0},H=function(e){return D(e,"onChangeClientState")||function(){}},F=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Object.assign({},e,t)}),{})},q=function(e,t){return t.filter((function(e){return void 0!==e[M.BASE]})).map((function(e){return e[M.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),o=0;o<r.length;o+=1){var i=r[o].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}return t}),[])},U=function(t,n,r){var o={};return r.filter((function(n){return!!Array.isArray(n[t])||(void 0!==n[t]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+e(n[t])+'"'),!1)})).map((function(e){return e[t]})).reverse().reduce((function(e,t){var r={};t.filter((function(e){for(var t,i=Object.keys(e),a=0;a<i.length;a+=1){var s=i[a],u=s.toLowerCase();-1===n.indexOf(u)||"rel"===t&&"canonical"===e[t].toLowerCase()||"rel"===u&&"stylesheet"===e[u].toLowerCase()||(t=u),-1===n.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(t=s)}if(!t||!e[t])return!1;var l=e[t].toLowerCase();return o[t]||(o[t]={}),r[t]||(r[t]={}),!o[t][l]&&(r[t][l]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var i=Object.keys(r),a=0;a<i.length;a+=1){var s=i[a],u=Object.assign({},o[s],r[s]);o[s]=u}return e}),[]).reverse()},B=function(e){return Array.isArray(e)?e.join(""):e},z=[M.NOSCRIPT,M.SCRIPT,M.STYLE],G=function(e,t){return void 0===t&&(t=!0),!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},W=function(e){return Object.keys(e).reduce((function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},X=function(e,t){return void 0===t&&(t={}),Object.keys(e).reduce((function(t,n){return t[A[n]||n]=e[n],t}),t)},Y=function(e,t,n){switch(e){case M.TITLE:return{toComponent:function(){return n=X(t.titleAttributes,{key:e=t.title,"data-rh":!0}),[i.createElement(M.TITLE,n,e)];var e,n},toString:function(){return function(e,n,r,o){var i=W(t.titleAttributes),a=B(n);return i?"<"+e+' data-rh="true" '+i+">"+G(a,o)+"</"+e+">":"<"+e+' data-rh="true">'+G(a,o)+"</"+e+">"}(e,t.title,0,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return X(t)},toString:function(){return W(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var r={key:n,"data-rh":!0};return Object.keys(t).forEach((function(e){var n=A[e]||e;"innerHTML"===n||"cssText"===n?r.dangerouslySetInnerHTML={__html:t.innerHTML||t.cssText}:r[n]=t[e]})),i.createElement(e,r)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var o=Object.keys(r).filter((function(e){return!("innerHTML"===e||"cssText"===e)})).reduce((function(e,t){var o=void 0===r[t]?t:t+'="'+G(r[t],n)+'"';return e?e+" "+o:o}),""),i=r.innerHTML||r.cssText||"",a=-1===z.indexOf(e);return t+"<"+e+' data-rh="true" '+o+(a?"/>":">"+i+"</"+e+">")}),"")}(e,t,n)}}}},V=function(e){var t=e.bodyAttributes,n=e.encode,r=e.htmlAttributes,o=e.linkTags,i=e.metaTags,a=e.noscriptTags,s=e.scriptTags,u=e.styleTags,l=e.title;void 0===l&&(l="");var c=e.titleAttributes;return{base:Y(M.BASE,e.baseTag,n),bodyAttributes:Y("bodyAttributes",t,n),htmlAttributes:Y("htmlAttributes",r,n),link:Y(M.LINK,o,n),meta:Y(M.META,i,n),noscript:Y(M.NOSCRIPT,a,n),script:Y(M.SCRIPT,s,n),style:Y(M.STYLE,u,n),title:Y(M.TITLE,{title:l,titleAttributes:c},n)}},$=i.createContext({}),J=l.shape({setHelmet:l.func,helmetInstances:l.shape({get:l.func,add:l.func,remove:l.func})}),Z="undefined"!=typeof document,Q=function(e){function t(n){var r=this;e.call(this,n),this.instances=[],this.value={setHelmet:function(e){r.props.context.helmet=e},helmetInstances:{get:function(){return r.instances},add:function(e){r.instances.push(e)},remove:function(e){var t=r.instances.indexOf(e);r.instances.splice(t,1)}}},t.canUseDOM||(n.context.helmet=V({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.render=function(){return i.createElement($.Provider,{value:this.value},this.props.children)},t}(a);Q.canUseDOM=Z,Q.propTypes={context:l.shape({helmet:l.shape()}),children:l.node.isRequired},Q.defaultProps={context:{}},Q.displayName="HelmetProvider";var ee=function(e,t){var n,r=document.head||document.querySelector(M.HEAD),o=r.querySelectorAll(e+"[data-rh]"),i=[].slice.call(o),a=[];return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&("innerHTML"===o?r.innerHTML=t.innerHTML:"cssText"===o?r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText)):r.setAttribute(o,void 0===t[o]?"":t[o]));r.setAttribute("data-rh","true"),i.some((function(e,t){return n=t,r.isEqualNode(e)}))?i.splice(n,1):a.push(r)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return r.appendChild(e)})),{oldTags:i,newTags:a}},te=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),o=r?r.split(","):[],i=[].concat(o),a=Object.keys(t),s=0;s<a.length;s+=1){var u=a[s],l=t[u]||"";n.getAttribute(u)!==l&&n.setAttribute(u,l),-1===o.indexOf(u)&&o.push(u);var c=i.indexOf(u);-1!==c&&i.splice(c,1)}for(var f=i.length-1;f>=0;f-=1)n.removeAttribute(i[f]);o.length===i.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==a.join(",")&&n.setAttribute("data-rh",a.join(","))}},ne=function(e,t){var n=e.baseTag,r=e.htmlAttributes,o=e.linkTags,i=e.metaTags,a=e.noscriptTags,s=e.onChangeClientState,u=e.scriptTags,l=e.styleTags,c=e.title,f=e.titleAttributes;te(M.BODY,e.bodyAttributes),te(M.HTML,r),function(e,t){void 0!==e&&document.title!==e&&(document.title=B(e)),te(M.TITLE,t)}(c,f);var d={baseTag:ee(M.BASE,n),linkTags:ee(M.LINK,o),metaTags:ee(M.META,i),noscriptTags:ee(M.NOSCRIPT,a),scriptTags:ee(M.SCRIPT,u),styleTags:ee(M.STYLE,l)},p={},h={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(h[e]=d[e].oldTags)})),t&&t(),s(e,p,h)},re=null,oe=function(e){function t(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];e.apply(this,t),this.rendered=!1}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.shouldComponentUpdate=function(e){return!m(e,this.props)},t.prototype.componentDidUpdate=function(){this.emitChange()},t.prototype.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},t.prototype.emitChange=function(){var e,t,n=this.props.context,r=n.setHelmet,o=null,i=(e=n.helmetInstances.get().map((function(e){var t=Object.assign({},e.props);return delete t.context,t})),{baseTag:q(["href"],e),bodyAttributes:F("bodyAttributes",e),defer:D(e,"defer"),encode:D(e,"encodeSpecialCharacters"),htmlAttributes:F("htmlAttributes",e),linkTags:U(M.LINK,["rel","href"],e),metaTags:U(M.META,["name","charset","http-equiv","property","itemprop"],e),noscriptTags:U(M.NOSCRIPT,["innerHTML"],e),onChangeClientState:H(e),scriptTags:U(M.SCRIPT,["src","innerHTML"],e),styleTags:U(M.STYLE,["cssText"],e),title:N(e),titleAttributes:F("titleAttributes",e)});Q.canUseDOM?(t=i,re&&cancelAnimationFrame(re),t.defer?re=requestAnimationFrame((function(){ne(t,(function(){re=null}))})):(ne(t),re=null)):V&&(o=V(i)),r(o)},t.prototype.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},t.prototype.render=function(){return this.init(),null},t}(a);function ie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}oe.propTypes={context:J.isRequired},oe.displayName="HelmetDispatcher";var ae=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n,n.prototype.shouldComponentUpdate=function(e){return!K(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case M.SCRIPT:case M.NOSCRIPT:return{innerHTML:t};case M.STYLE:return{cssText:t};default:throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren;return Object.assign({},r,((t={})[n.type]=(r[n.type]||[]).concat([Object.assign({},e.newChildProps,this.mapNestedChildrenToProps(n,e.nestedChildren))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,o=e.newProps,i=e.newChildProps,a=e.nestedChildren;switch(r.type){case M.TITLE:return Object.assign({},o,((t={})[r.type]=a,t),{titleAttributes:Object.assign({},i)});case M.BODY:return Object.assign({},o,{bodyAttributes:Object.assign({},i)});case M.HTML:return Object.assign({},o,{htmlAttributes:Object.assign({},i)});default:return Object.assign({},o,((n={})[r.type]=Object.assign({},i),n))}},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Object.assign({},t);return Object.keys(e).forEach((function(t){var r;n=Object.assign({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return v(L.some((function(t){return e.type===t})),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+L.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),v(!t||"string"==typeof t||Array.isArray(t)&&!t.some((function(e){return"string"!=typeof e})),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},n.prototype.mapChildrenToProps=function(t,n){var r=this,o={};return i.Children.forEach(t,(function(t){if(t&&t.props){var i=t.props,a=i.children,s=ie(i,["children"]),u=Object.keys(s).reduce((function(e,t){return e[R[t]||t]=s[t],e}),{}),l=t.type;switch("symbol"==e(l)?l=l.toString():r.warnOnInvalidChildren(t,a),l){case M.FRAGMENT:n=r.mapChildrenToProps(a,n);break;case M.LINK:case M.META:case M.NOSCRIPT:case M.SCRIPT:case M.STYLE:o=r.flattenArrayTypeChildren({child:t,arrayTypeChildren:o,newChildProps:u,nestedChildren:a});break;default:n=r.mapObjectTypeChildren({child:t,newProps:n,newChildProps:u,nestedChildren:a})}}})),this.mapArrayTypeChildrenToProps(o,n)},n.prototype.render=function(){var e=this.props,t=e.children,n=ie(e,["children"]),r=Object.assign({},n);return t&&(r=this.mapChildrenToProps(t,r)),i.createElement($.Consumer,null,(function(e){return i.createElement(oe,Object.assign({},r,{context:e}))}))},n}(a);ae.propTypes={base:l.object,bodyAttributes:l.object,children:l.oneOfType([l.arrayOf(l.node),l.node]),defaultTitle:l.string,defer:l.bool,encodeSpecialCharacters:l.bool,htmlAttributes:l.object,link:l.arrayOf(l.object),meta:l.arrayOf(l.object),noscript:l.arrayOf(l.object),onChangeClientState:l.func,script:l.arrayOf(l.object),style:l.arrayOf(l.object),title:l.string,titleAttributes:l.object,titleTemplate:l.string},ae.defaultProps={defer:!0,encodeSpecialCharacters:!0},ae.displayName="Helmet";var se=Object.freeze({__proto__:null,Helmet:ae,HelmetProvider:Q}),ue=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"store",{enumerable:!0,get:function(){return n.default}}),t.set=t.get=void 0;var n=i(h),r=i(O),o=i(d);function i(e){return e&&e.__esModule?e:{default:e}}t.get=function(){try{return n.default.local.get("storybook-layout")||!1}catch(e){return console.error(e),!1}};var a=(0,o.default)(1)((function(e){try{n.default.local.set("storybook-layout",e)}catch(e){console.error(e)}})),s=(0,r.default)(a,500);t.set=s}));n(ue);ue.set,ue.get;var le=t((function(t,n){var r,o;window,t.exports=(r=i,o=_,function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==e(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(t,n,r){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){var r={}.hasOwnProperty;function i(){for(var t=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var a=e(o);if("string"===a||"number"===a)t.push(o);else if(Array.isArray(o)&&o.length){var s=i.apply(null,o);s&&t.push(s)}else if("object"===a)for(var u in o)r.call(o,u)&&o[u]&&t.push(u)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(o=function(){return i}.apply(n,[]))||(t.exports=o)}()},function(e,t,n){var r=n(7),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},function(e,t,n){var r=n(6);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n,r){r.r(n);var o=r(1),i=r.n(o),a=r(0),s=r.n(a),u=r(2),l=r.n(u),c=r(3),f=r.n(c);function d(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function p(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function h(e){return"number"==typeof e&&!isNaN(e)}function y(e){return parseInt(e,10)}function v(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var g=["Moz","Webkit","O","ms"];function m(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<g.length;n++)if(m(e,g[n])in t)return g[n];return""}();function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="";function O(e,t){return E||(E=d(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return p(e[t])}))),!!p(e[E])&&e[E](t)}function w(e,t,n){var r=e;do{if(O(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function S(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function P(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function C(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=y(n.borderTopWidth))+y(n.borderBottomWidth)}function I(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=y(n.borderLeftWidth))+y(n.borderRightWidth)}function T(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=y(n.paddingTop))-y(n.paddingBottom)}function j(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=y(n.paddingLeft))-y(n.paddingRight)}function x(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function K(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function M(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function L(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function A(e){return"both"===e.props.axis||"x"===e.props.axis}function R(e){return"both"===e.props.axis||"y"===e.props.axis}function D(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&d(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&d(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var o=F(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||o.offsetParent||o.ownerDocument.body,n.props.scale)}function N(e,t,n){var r=e.state,o=!h(r.lastX),i=F(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function H(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function F(e){var t=l.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function q(t){return(q="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={start:"touchstart",move:"touchmove",stop:"touchend"},Y={start:"mousedown",move:"mousemove",stop:"mouseup"},V=Y,$=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=B(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==q(o)&&"function"!=typeof o?z(r):o,W(z(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),W(z(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=l.a.findDOMNode(z(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!w(e.target,n.props.handle,t)||n.props.cancel&&w(e.target,n.props.cancel,t))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:o});var i=D(e,o,z(n));if(null!=i){var a=i.x,s=i.y,u=N(z(n),a,s);n.props.onStart,!1!==n.props.onStart(e,u)&&(n.props.enableUserSelectHack&&K(r),n.setState({dragging:!0,lastX:a,lastY:s}),S(r,V.move,n.handleDrag),S(r,V.stop,n.handleDragStop))}}})),W(z(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=D(e,n.state.touchIdentifier,z(n));if(null!=t){var r,o,i,a=t.x,s=t.y;if(Array.isArray(n.props.grid)){var u=a-n.state.lastX,l=s-n.state.lastY,c=U((r=n.props.grid,o=u,i=l,[Math.round(o/r[0])*r[0],Math.round(i/r[1])*r[1]]),2);if(u=c[0],l=c[1],!u&&!l)return;a=n.state.lastX+u,s=n.state.lastY+l}var f=N(z(n),a,s);if(!1!==n.props.onDrag(e,f))n.setState({lastX:a,lastY:s});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(d)}}})),W(z(n),"handleDragStop",(function(e){if(n.state.dragging){var t=D(e,n.state.touchIdentifier,z(n));if(null!=t){var r=t.x,o=t.y,i=N(z(n),r,o),a=l.a.findDOMNode(z(n));a&&n.props.enableUserSelectHack&&M(a.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,i),a&&(P(a.ownerDocument,V.move,n.handleDrag),P(a.ownerDocument,V.stop,n.handleDragStop))}}})),W(z(n),"onMouseDown",(function(e){return V=Y,n.handleDragStart(e)})),W(z(n),"onMouseUp",(function(e){return V=Y,n.handleDragStop(e)})),W(z(n),"onTouchStart",(function(e){return V=X,n.handleDragStart(e)})),W(z(n),"onTouchEnd",(function(e){return V=X,n.handleDragStop(e)})),n}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,i.a.Component),(n=[{key:"componentWillUnmount",value:function(){var e=l.a.findDOMNode(this);if(e){var t=e.ownerDocument;P(t,Y.move,this.handleDrag),P(t,X.move,this.handleDrag),P(t,Y.stop,this.handleDragStop),P(t,X.stop,this.handleDragStop),this.props.enableUserSelectHack&&M(t)}}},{key:"render",value:function(){return i.a.cloneElement(i.a.Children.only(this.props.children),{style:L(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();function J(t){return(J="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}W($,"displayName","DraggableCore"),W($,"propTypes",{allowAnyClick:s.a.bool,disabled:s.a.bool,enableUserSelectHack:s.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:s.a.arrayOf(s.a.number),handle:s.a.string,cancel:s.a.string,onStart:s.a.func,onDrag:s.a.func,onStop:s.a.func,onMouseDown:s.a.func,scale:s.a.number,className:v,style:v,transform:v}),W($,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),r.d(n,"default",(function(){return se})),r.d(n,"DraggableCore",(function(){return $}));var se=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=te(t).call(this,e),n=!r||"object"!==J(r)&&"function"!=typeof r?ne(this):r,ae(ne(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,H(ne(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),ae(ne(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=H(ne(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=F(e);if("string"==typeof r){var i,a=o.ownerDocument,s=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=s.getComputedStyle(o),l=s.getComputedStyle(i);r={left:-o.offsetLeft+y(l.paddingLeft)+y(u.marginLeft),top:-o.offsetTop+y(l.paddingTop)+y(u.marginTop),right:j(i)-I(o)-o.offsetLeft+y(l.paddingRight)-y(u.marginRight),bottom:T(i)-C(o)-o.offsetTop+y(l.paddingBottom)-y(u.marginBottom)}}return h(r.right)&&(t=Math.min(t,r.right)),h(r.bottom)&&(n=Math.min(n,r.bottom)),h(r.left)&&(t=Math.max(t,r.left)),h(r.top)&&(n=Math.max(n,r.top)),[t,n]}(ne(n),o.x,o.y),2),u=s[0],l=s[1];o.x=u,o.y=l,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),ae(ne(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,H(ne(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:ee({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,i.a.Component),oe(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:ee({},n)}}}]),oe(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&l.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,o=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,u=t.position,l=t.positionOffset,c=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),d={},p=null,h=!Boolean(u)||this.state.dragging,y=u||r,v={x:A(this)&&h?this.state.x:y.x,y:R(this)&&h?this.state.y:y.y};this.state.isElementSVG?p=function(e,t){return x(e,t,"")}(v,l):d=function(e,t){var n=x(e,t,"px");return k({},m("transform",b),n)}(v,l);var g=f()(n.props.className||"",o,(ae(e={},a,this.state.dragging),ae(e,s,this.state.dragged),e));return i.a.createElement($,Z({},c,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.a.cloneElement(i.a.Children.only(n),{className:g,style:ee({},n.props.style,{},d),transform:p}))}}]),t}();ae(se,"displayName","Draggable"),ae(se,"propTypes",ee({},$.propTypes,{axis:s.a.oneOf(["both","x","y","none"]),bounds:s.a.oneOfType([s.a.shape({left:s.a.number,right:s.a.number,top:s.a.number,bottom:s.a.number}),s.a.string,s.a.oneOf([!1])]),defaultClassName:s.a.string,defaultClassNameDragging:s.a.string,defaultClassNameDragged:s.a.string,defaultPosition:s.a.shape({x:s.a.number,y:s.a.number}),positionOffset:s.a.shape({x:s.a.oneOfType([s.a.number,s.a.string]),y:s.a.oneOfType([s.a.number,s.a.string])}),position:s.a.shape({x:s.a.number,y:s.a.number}),className:v,style:v,transform:v})),ae(se,"defaultProps",ee({},$.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))}));n(le);le.ReactDraggable;var ce=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Draggable",{enumerable:!0,get:function(){return r.default}}),t.Handle=void 0;var n,r=(n=le)&&n.__esModule?n:{default:n};var o=c.styled.div((function(e){var t=e.theme;return{zIndex:10,position:"absolute",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",color:e.isDragging?t.color.secondary:t.appBorderColor,overflow:"hidden",transition:"color 0.2s linear, background-position 0.2s linear, background-size 0.2s linear, background 0.2s linear","&:hover":{color:t.color.secondary}}}),(function(e){return{cursor:"x"===e.axis?"col-resize":"row-resize"}}),(function(e){var t=e.theme;return"x"===e.axis?{height:"100%",width:t.layoutMargin,marginLeft:0}:{height:t.layoutMargin,width:"100%",marginTop:0}}),(function(e){var t=e.shadow,n=e.isDragging;if("top"===t){var r={backgroundImage:"radial-gradient(at center center,rgba(0,0,0,0.2) 0%,transparent 70%,transparent 100%)",backgroundSize:"100% 50px",backgroundPosition:"50% 0",backgroundRepeat:"no-repeat"};return n?r:Object.assign({},r,{backgroundPosition:"50% 10px","&:hover":r})}if("left"===t){var o={backgroundImage:"radial-gradient(at center center,rgba(0,0,0,0.2) 0%,transparent 70%,transparent 100%)",backgroundSize:"50px 100%",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat"};return n?o:Object.assign({},o,{backgroundPosition:"10px 50%","&:hover":o})}return{}}));t.Handle=o}));n(ce);ce.Handle;var fe=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.Panel=t.Preview=t.Main=t.Nav=t.Root=void 0;var n,r=u(i),o=(n=l)&&n.__esModule?n:{default:n},a=u(ue);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=c.styled.div({position:"fixed",left:0,top:0,width:"100vw",height:"100vh",overflow:"hidden"});t.Root=m;var b=c.styled.div({position:"absolute",boxSizing:"border-box",top:0,left:0,width:"100%",height:"100%"},(function(e){return e.hidden?{opacity:0}:{opacity:1}}),(function(e){return e.top?{zIndex:9}:{}}),(function(e){var t=e.border,n=e.theme;switch(t){case"left":return{borderLeft:"1px solid ".concat(n.appBorderColor)};case"right":return{borderRight:"1px solid ".concat(n.appBorderColor)};case"top":return{borderTop:"1px solid ".concat(n.appBorderColor)};case"bottom":return{borderBottom:"1px solid ".concat(n.appBorderColor)};default:return{}}}),(function(e){return e.animate?{transition:["width","height","top","left","background","opacity","transform"].map((function(e){return"".concat(e," 0.1s ease-out")})).join(",")}:{}})),_=c.styled.div({position:"absolute",top:0,left:0,width:"100%",height:"100%"},(function(e){var t=e.isFullscreen,n=e.theme;return t?{boxShadow:"none",borderRadius:0}:{background:n.background.content,borderRadius:n.appBorderRadius,overflow:"hidden",boxShadow:"0 1px 5px 0 rgba(0, 0, 0, 0.1)"}})),k=function(e){var t=e.hidden,n=e.children,o=e.position,i=g(e,["hidden","children","position"]);return t?null:r.default.createElement(b,v({style:o},i),n)};t.Nav=k,k.propTypes={hidden:o.default.bool,children:o.default.node.isRequired,position:o.default.shape({})},k.defaultProps={hidden:!1,position:void 0};var E=function(e){var t=e.isFullscreen,n=e.children,o=e.position,i=g(e,["isFullscreen","children","position"]);return r.default.createElement(b,v({style:o,top:!0},i),r.default.createElement(_,{isFullscreen:t},n))};t.Main=E,E.displayName="Main",E.propTypes={isFullscreen:o.default.bool,children:o.default.node.isRequired,position:o.default.shape({})},E.defaultProps={isFullscreen:!1,position:void 0};var O=function(e){var t=e.hidden,n=e.children,o=e.position,i=g(e,["hidden","children","position"]);return r.default.createElement(b,v({style:o,top:!0,hidden:t},i),n)};t.Preview=O,O.displayName="Preview",O.propTypes={hidden:o.default.bool,children:o.default.node.isRequired,position:o.default.shape({})},O.defaultProps={hidden:!1,position:void 0};var w=function(e){var t=e.hidden,n=e.children,o=e.position,i=e.align,a=g(e,["hidden","children","position","align"]);return r.default.createElement(b,v({style:o,hidden:t},a,{border:"bottom"===i?"top":"left"}),n)};t.Panel=w,w.displayName="Panel",w.propTypes={hidden:o.default.bool,children:o.default.node.isRequired,position:o.default.shape({}),align:o.default.oneOf(["bottom","right"])},w.defaultProps={hidden:!1,position:void 0,align:"right"};var S=c.styled.div({position:"absolute",left:0,top:0,zIndex:15,height:"100vh",width:"100vw"}),P=function(e){var t=e.panelPosition,n=e.isPanelHidden,r=e.isNavHidden,o=e.isFullscreen,i=e.bounds,a=e.resizerPanel,s=e.resizerNav,u=e.margin;if(o||n)return{};var l=r?0:s.x,c=n?0:a.x,f=n?0:a.y;return"bottom"===t?{height:f-u,left:0,top:0,width:i.width-l-2*u}:{height:i.height-2*u,left:0,top:0,width:c-l-u}},C=function(e){var t=e.bounds,n=e.resizerNav,r=e.isNavHidden,o=e.isFullscreen,i=e.margin;if(o)return{};var a=r?0:n.x;return{height:t.height-2*i,left:a+i,top:i,width:t.width-a-2*i}},I=function(e){var t=e.isPanelBottom,n=e.isPanelHidden,r=e.isNavHidden,o=e.bounds,i=e.resizerPanel,a=e.resizerNav,s=e.margin,u=r?0:a.x,l=i.x,c=i.y;return t&&n?{height:o.height-c-s,left:0,top:c-s,width:o.width-u-2*s}:!t&&n?{height:o.height-2*s,left:l-u-s,top:0,width:o.width-l-s}:t?{height:o.height-c-s,left:0,top:c-s,width:o.width-u-2*s}:{height:o.height-2*s,left:l-u-s,top:0,width:o.width-l-s}},T=r.default.createElement(S,null),j=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,h(t).call(this,e))).resizeNav=function(e,t){t.deltaX&&n.setState({resizerNav:{x:t.x,y:t.y}})},n.resizePanel=function(e,t){var r=n.props.options;(t.deltaY&&"bottom"===r.panelPosition||t.deltaX&&"right"===r.panelPosition)&&n.setState({resizerPanel:{x:t.x,y:t.y}})},n.setDragNav=function(){n.setState({isDragging:"nav"})},n.setDragPanel=function(){n.setState({isDragging:"panel"})},n.unsetDrag=function(){n.setState({isDragging:!1})};var r=e.bounds,o=e.options,i=a.get(),s=i.resizerNav,u=i.resizerPanel;return n.state={isDragging:!1,resizerNav:s||{x:200,y:0},resizerPanel:u||("bottom"===o.panelPosition?{x:0,y:Math.round(.6*r.height)}:{x:r.width-400,y:0})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.bounds,r=e.options,o=t.resizerPanel,i=t.resizerNav,a=r.isFullscreen||!r.showNav,s=r.isFullscreen||!r.showPanel,u=r.panelPosition,l="right"===u,c="bottom"===u,f=i.x,d=o.x,p=o.y,h=!s&&l?400:200,y={};return a||(n.width-h<f?y.resizerNav={x:n.width-h,y:0}:(n.width-h<200||f<200)&&(y.resizerNav={x:200,y:0})),l&&!s&&(n.width-200<d||0===d?y.resizerPanel={x:n.width-200,y:0}:f+200>d&&(y.resizerPanel={x:f+200,y:0})),c&&!s&&(n.height-200<p||0===p)&&(y.resizerPanel={x:0,y:n.height-200}),y.resizerPanel||y.resizerNav?Object.assign({},t,{},y):t}}],(o=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.resizerPanel,o=n.resizerNav;a.set({resizerPanel:r,resizerNav:o});var i=e.bounds,s=i.width,u=i.height,l=this.props,c=l.bounds,f=l.options,d=c.width,p=c.height;d===s&&p===u||("bottom"===f.panelPosition?this.setState({resizerPanel:{x:t.resizerPanel.x,y:t.resizerPanel.y-(u-p)}}):this.setState({resizerPanel:{x:t.resizerPanel.x-(s-d),y:t.resizerPanel.y}}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.bounds,o=e.options,i=e.theme,a=e.viewMode,s=e.docsOnly,u=e.panelCount,l=this.state,c=l.isDragging,f=l.resizerNav,d=l.resizerPanel,p=i.layoutMargin,h=o.isFullscreen||!o.showNav,y=o.isFullscreen||!o.showPanel||s||"story"!==a||0===u,v=o.isFullscreen||h&&y,g=o.isToolshown,m=o.panelPosition,b="bottom"===m,_="right"===m,k=d.x,E=f.x;return n?r.default.createElement(r.Fragment,null,h?null:r.default.createElement(ce.Draggable,{axis:"x",position:f,bounds:{left:200,top:0,right:_&&!y?k-200:n.width-200,bottom:0},onStart:this.setDragNav,onDrag:this.resizeNav,onStop:this.unsetDrag},r.default.createElement(ce.Handle,{shadow:"left",axis:"x",isDragging:"nav"===c})),y?null:r.default.createElement(ce.Draggable,{axis:b?"y":"x",position:d,bounds:b?{left:0,top:200,right:0,bottom:n.height-200}:{left:h?200:E+200,top:0,right:n.width-200,bottom:0},onStart:this.setDragPanel,onDrag:this.resizePanel,onStop:this.unsetDrag},r.default.createElement(ce.Handle,{isDragging:"panel"===c,shadow:b?"top":"left",style:b?{left:E+p,width:n.width-E-2*p,marginTop:-p}:{marginLeft:-p},axis:b?"y":"x"})),c?T:null,t({mainProps:{viewMode:a,animate:!c,isFullscreen:v,position:C({bounds:n,resizerNav:f,isNavHidden:h,isFullscreen:v,margin:p})},previewProps:{viewMode:a,docsOnly:s,animate:!c,isFullscreen:v,isToolshown:g,position:P({isFullscreen:v,isNavHidden:h,isPanelHidden:y,resizerNav:f,resizerPanel:d,bounds:n,panelPosition:m,margin:p})},navProps:{viewMode:a,animate:!c,hidden:h,position:{height:n.height,left:0,top:0,width:E+p}},panelProps:{viewMode:a,animate:!c,align:o.panelPosition,hidden:y,position:I({isPanelBottom:b,isPanelHidden:y,isNavHidden:h,bounds:n,resizerPanel:d,resizerNav:f,margin:p})}})):null}}])&&d(n.prototype,o),i&&d(n,i),t}(r.Component);j.displayName="Layout",j.propTypes={children:o.default.func.isRequired,panelCount:o.default.number.isRequired,bounds:o.default.shape({width:o.default.number.isRequired,height:o.default.number.isRequired}).isRequired,options:o.default.shape({isFullscreen:o.default.bool.isRequired,showNav:o.default.bool.isRequired,showPanel:o.default.bool.isRequired,panelPosition:o.default.string.isRequired,isToolshown:o.default.bool.isRequired}).isRequired,viewMode:o.default.string,docsOnly:o.default.bool,theme:o.default.shape({layoutMargin:o.default.number}).isRequired},j.defaultProps={viewMode:void 0,docsOnly:!1};var x=(0,c.withTheme)(j);t.Layout=x}));n(fe);fe.Layout,fe.Panel,fe.Preview,fe.Main,fe.Nav,fe.Root;var de=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Mobile=void 0;var n,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),o=(n=l)&&n.__esModule?n:{default:n};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=c.styled.div({transition:"transform .2s ease",position:"absolute",top:0,height:"100%",overflow:"auto"},(function(e){var t=e.theme;return{background:t.background.content,"&:nth-of-type(1)":{borderRight:"1px solid ".concat(t.appBorderColor)},"&:nth-of-type(3)":{borderLeft:"1px solid ".concat(t.appBorderColor)}}}),(function(e){switch(e.index){case 0:return{width:"80vw",transform:"translateX(-80vw)",left:0};case 1:return{width:"100%",transform:"translateX(0) scale(1)",left:0};case 2:return{width:"80vw",transform:"translateX(80vw)",right:0};default:return{}}}),(function(e){var t=e.active,n=e.index;switch(!0){case 0===n&&0===t:return{transform:"translateX(-0px)"};case 1===n&&0===t:return{transform:"translateX(40vw) translateY(-42.5vh) translateY(40px) scale(0.2)"};case 1===n&&2===t:return{transform:"translateX(-40vw) translateY(-42.5vh) translateY(40px) scale(0.2)"};case 2===n&&2===t:return{transform:"translateX(0px)"};default:return{}}})),y=r.default.memo((function(e){var t=e.children,n=e.active;return r.default.createElement(y.Container,null,r.Children.toArray(t).map((function(e,t){return r.default.createElement(h,{key:t,index:t,active:n},e)})))}));y.displayName="Panels",y.propTypes={children:o.default.node.isRequired,active:o.default.number.isRequired},y.Container=c.styled.div({position:"fixed",top:0,left:0,width:"100vw",height:"calc(100% - 40px)"});var v=c.styled.nav({position:"fixed",bottom:0,left:0,width:"100vw",height:40,display:"flex",boxShadow:"0 1px 5px 0 rgba(0, 0, 0, 0.1)","& > *":{flex:1}},(function(e){return{background:e.theme.barBg}})),g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=f(this,d(t).call(this));var r=e.options;return n.state={active:r.initialActive||0},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.Nav,o=t.Preview,i=t.Panel,a=t.Notifications,s=t.pages,u=t.viewMode,l=t.options,c=this.state.active;return r.default.createElement(fe.Root,null,r.default.createElement(a,{placement:{position:"fixed",bottom:60,left:20,right:20}}),r.default.createElement(y,{active:c},r.default.createElement(n,null),r.default.createElement("div",null,r.default.createElement("div",{hidden:!u},r.default.createElement(o,{isToolshown:l.isToolshown,id:"main",viewMode:u,debug:l})),s.map((function(e){var t=e.key,n=e.route,o=e.render;return r.default.createElement(n,{key:t},o())}))),r.default.createElement(i,{hidden:!u})),r.default.createElement(v,{active:c},r.default.createElement(k.TabButton,{onClick:function(){return e.setState({active:0})},active:0===c},"Sidebar"),r.default.createElement(k.TabButton,{onClick:function(){return e.setState({active:1})},active:1===c||!1===c},u?"Canvas":null,s.map((function(e){var t=e.key,n=e.route;return r.default.createElement(n,{key:t},t)}))),u?r.default.createElement(k.TabButton,{onClick:function(){return e.setState({active:2})},active:2===c},"Addons"):null))}}])&&u(n.prototype,o),i&&u(n,i),t}(r.Component);t.Mobile=g,g.displayName="Mobile",g.displayName="MobileLayout",g.propTypes={Nav:o.default.any.isRequired,Preview:o.default.any.isRequired,Panel:o.default.any.isRequired,Notifications:o.default.any.isRequired,pages:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired,route:o.default.func.isRequired,render:o.default.func.isRequired})).isRequired,viewMode:o.default.string,options:o.default.shape({initialActive:o.default.number,isToolshown:o.default.bool}).isRequired},g.defaultProps={viewMode:void 0}}));n(de);de.Mobile;var pe=t((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Desktop=void 0;var r,o=c(i),a=(r=l)&&r.__esModule?r:{default:r},s=c(fe);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=o.default.memo((function(e){var t=e.Panel,n=e.Nav,r=e.Preview,i=e.Notifications,a=e.pages,u=e.options,l=e.viewMode,c=e.width,d=e.height,p=e.panelCount,h=e.docsOnly;return o.default.createElement(o.Fragment,null,o.default.createElement(i,{placement:{position:"fixed",bottom:20,left:20}}),c&&d?o.default.createElement(s.Layout,{options:u,bounds:{width:c,height:d},viewMode:l,docsOnly:h,panelCount:p},(function(e){var i=e.navProps,u=e.mainProps,c=e.panelProps,d=e.previewProps;return o.default.createElement(o.Fragment,null,o.default.createElement(s.Nav,i,o.default.createElement(n,{debug:i})),o.default.createElement(s.Main,u,o.default.createElement(s.Preview,f({},d,{hidden:"settings"===l}),o.default.createElement(r,{id:"main",debug:d})),o.default.createElement(s.Panel,f({},c,{hidden:"story"!==l}),o.default.createElement(t,{debug:c})),a.map((function(e){var t=e.key,n=e.route,r=e.render;return o.default.createElement(n,{key:t},r())}))))})):o.default.createElement("div",{title:JSON.stringify({width:c,height:d})}))}));t.Desktop=d,d.displayName="DesktopLayout",d.propTypes={width:a.default.number,panelCount:a.default.number.isRequired,height:a.default.number,Nav:a.default.any.isRequired,Preview:a.default.any.isRequired,Panel:a.default.any.isRequired,Notifications:a.default.any.isRequired,pages:a.default.arrayOf(a.default.shape({key:a.default.string.isRequired,route:a.default.func.isRequired,render:a.default.func.isRequired})).isRequired,options:a.default.shape({isFullscreen:a.default.bool.isRequired,showNav:a.default.bool.isRequired,showPanel:a.default.bool.isRequired,panelPosition:a.default.string.isRequired,isToolshown:a.default.bool.isRequired}).isRequired,viewMode:a.default.string,docsOnly:a.default.bool},d.defaultProps={viewMode:void 0,docsOnly:!1,height:0,width:0}}));n(pe);pe.Desktop;var he=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.shortcutToHumanString=t.keyToSymbol=t.eventMatchesShortcut=t.shortcutMatchesShortcut=t.eventToShortcut=t.isShortcutTaken=t.optionOrAltSymbol=t.controlOrMetaKey=t.controlOrMetaSymbol=t.isMacLike=void 0;var n=function(){return!(!u.navigator||!u.navigator.platform)&&!!u.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)};t.isMacLike=n;t.controlOrMetaSymbol=function(){return n()?"⌘":"ctrl"};t.controlOrMetaKey=function(){return n()?"meta":"control"};var r=function(){return n()?"⌥":"alt"};t.optionOrAltSymbol=r;t.isShortcutTaken=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};var o=function(e){if(["Meta","Alt","Control","Shift"].includes(e.key))return null;var t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("control"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),e.key&&1===e.key.length&&" "!==e.key&&t.push(e.key.toUpperCase())," "===e.key&&t.push("space"),"Escape"===e.key&&t.push("escape"),"ArrowRight"===e.key&&t.push("ArrowRight"),"ArrowDown"===e.key&&t.push("ArrowDown"),"ArrowUp"===e.key&&t.push("ArrowUp"),"ArrowLeft"===e.key&&t.push("ArrowLeft"),t.length>0?t:null};t.eventToShortcut=o;var i=function(e,t){return e&&e.length===t.length&&!e.find((function(e,n){return e!==t[n]}))};t.shortcutMatchesShortcut=i;t.eventMatchesShortcut=function(e,t){return i(o(e),t)};var a=function(e){return"alt"===e?r():"control"===e?"⌃":"meta"===e?"⌘":"shift"===e?"⇧​":"Enter"===e||"Backspace"===e||"Esc"===e?"":"escape"===e?"":" "===e?"SPACE":"ArrowUp"===e?"↑":"ArrowDown"===e?"↓":"ArrowLeft"===e?"←":"ArrowRight"===e?"→":e.toUpperCase()};t.keyToSymbol=a;t.shortcutToHumanString=function(e){return e.map(a).join(" ")}}));n(he);he.shortcutToHumanString,he.keyToSymbol,he.eventMatchesShortcut,he.shortcutMatchesShortcut,he.eventToShortcut,he.isShortcutTaken,he.optionOrAltSymbol,he.controlOrMetaKey,he.controlOrMetaSymbol,he.isMacLike;var ye=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i)&&n.__esModule?n:{default:n};function o(){var e=l(["\n  ",";\n"]);return o=function(){return e},e}function a(){var e=l(["\n  ",";\n"]);return a=function(){return e},e}function s(){var e=l(["\n  ",";\n  color: ",";\n"]);return s=function(){return e},e}function u(){var e=l(["\n  height: 10px;\n  width: 10px;\n  margin-left: -5px;\n  margin-right: -5px;\n  display: block;\n"]);return u=function(){return e},e}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=(0,c.css)(u()),d=(0,c.styled)(k.Icons)(s(),f,(function(e){return e.theme.color.secondary})),p=c.styled.img(a(),f),h=c.styled.div(o(),f),y=r.default.createElement(h,null),v=function(e){var t=e.icon,n=e.imgSrc;return t?r.default.createElement(d,{icon:t}):n?r.default.createElement(p,{src:n,alt:"image"}):y};v.displayName="ListItemIcon";var g=v;t.default=g}));n(ye);var ve=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i)&&n.__esModule?n:{default:n};function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=c.styled.div((function(e){var t=e.theme;return{fontSize:t.typography.size.s2,fontWeight:t.typography.weight.bold,marginRight:t.layoutMargin,display:"flex",width:"100%",alignItems:"center",paddingTop:3,paddingBottom:3,minHeight:28,"& > *":{maxWidth:"100%",height:"auto",width:"auto",display:"block"}}})),s=(0,c.styled)(k.StorybookLogo)({width:"auto",height:22,display:"block"}),u=c.styled.img({width:"auto",height:"auto",display:"block",maxWidth:"100%"}),l=c.styled.a({display:"block",width:"100%",height:"100%",color:"inherit",textDecoration:"none"}),f=(0,c.styled)(k.Button)((function(e){var t=e.highlighted,n=e.theme;return Object.assign({position:"relative",overflow:"visible",padding:7},t&&{"&:after":{content:'""',position:"absolute",top:0,right:0,width:8,height:8,borderRadius:8,background:n.color.positive}})})),d=c.styled.div({display:"flex",alignItems:"flex-start",justifyContent:"space-between"}),p=(0,c.withTheme)((function(e){var t=e.theme.brand,n=t.title,o=void 0===n?"Storybook":n,i=t.url,a=void 0===i?"./":i,c=t.image,f="./"===a?"":"_blank";return void 0===c&&null===a?r.default.createElement(s,{alt:o}):void 0===c&&a?r.default.createElement(l,{title:o,href:a,target:f},r.default.createElement(s,{alt:o})):null===c&&null===a?o:null===c&&a?r.default.createElement(l,{href:a,target:f,dangerouslySetInnerHTML:{__html:o}}):c&&null===a?r.default.createElement(u,{src:c,alt:o}):c&&a?r.default.createElement(l,{title:o,href:a,target:f},r.default.createElement(u,{src:c,alt:o})):null})),h=r.default.createElement(a,null,r.default.createElement(p,null)),y=r.default.createElement(k.Icons,{icon:"ellipsis"}),v=function(e){var t=e.menuHighlighted,n=void 0!==t&&t,i=e.menu,a=o(e,["menuHighlighted","menu"]);return r.default.createElement(d,a,h,r.default.createElement(k.WithTooltip,{placement:"top",trigger:"click",tooltip:function(e){var t=e.onHide;return r.default.createElement(k.TooltipLinkList,{links:i.map((function(e){var n=e.onClick,r=o(e,["onClick"]);return Object.assign({},r,{onClick:function(e){n&&n(e),t(e)}})}))})},closeOnClick:!0},r.default.createElement(f,{outline:!0,small:!0,containsIcon:!0,highlighted:n,title:"Shortcuts"},y)))};v.displayName="SidebarHeading";var g=v;t.default=g}));n(ve);var ge=t((function(t,n){
/*!
 * Fuse.js v3.4.6 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
t.exports=function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==e(t)&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(t,n,r){function o(t){return(o="function"==typeof Symbol&&"symbol"==e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var i=r(2),a=r(8),s=r(0),u=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,u=n.threshold,l=void 0===u?.6:u,c=n.maxPatternLength,f=void 0===c?32:c,d=n.caseSensitive,p=void 0!==d&&d,h=n.tokenSeparator,y=void 0===h?/ +/g:h,v=n.findAllMatches,g=void 0!==v&&v,m=n.minMatchCharLength,b=void 0===m?1:m,_=n.id,k=void 0===_?null:_,E=n.keys,O=void 0===E?[]:E,w=n.shouldSort,S=void 0===w||w,P=n.getFn,C=void 0===P?a:P,I=n.sortFn,T=void 0===I?function(e,t){return e.score-t.score}:I,j=n.tokenize,x=void 0!==j&&j,K=n.matchAllTokens,M=void 0!==K&&K,L=n.includeMatches,A=void 0!==L&&L,R=n.includeScore,D=void 0!==R&&R,N=n.verbose,H=void 0!==N&&N;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:l,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:y,findAllMatches:g,minMatchCharLength:b,id:k,keys:O,includeMatches:A,includeScore:D,shouldSort:S,getFn:C,sortFn:T,verbose:H,tokenize:x,matchAllTokens:M},this.setCollection(t)}var t;return(t=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,o=n.fullSearcher,i=this._search(r,o),a=i.weights,s=i.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},o=[];if("string"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},u=0,l=n.length;u<l;u+=1)for(var c=n[u],f=0,d=this.options.keys.length;f<d;f+=1){var p=this.options.keys[f];if("string"!=typeof p){if(s[p.name]={weight:1-p.weight||1},p.weight<=0||p.weight>1)throw new Error("Key weight has to be > 0 and <= 1");p=p.name}else s[p]={weight:1};this._analyze({key:p,value:this.options.getFn(c,p),record:c,index:u},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,o=void 0===r?-1:r,i=e.value,a=e.record,u=e.index,l=t.tokenSearchers,c=void 0===l?[]:l,f=t.fullSearcher,d=void 0===f?[]:f,p=t.resultMap,h=void 0===p?{}:p,y=t.results,v=void 0===y?[]:y;if(null!=i){var g=!1,m=-1,b=0;if("string"==typeof i){this._log("\nKey: ".concat(""===n?"-":n));var _=d.search(i);if(this._log('Full text: "'.concat(i,'", score: ').concat(_.score)),this.options.tokenize){for(var k=i.split(this.options.tokenSeparator),E=[],O=0;O<c.length;O+=1){var w=c[O];this._log('\nPattern: "'.concat(w.pattern,'"'));for(var S=!1,P=0;P<k.length;P+=1){var C=k[P],I=w.search(C),T={};I.isMatch?(T[C]=I.score,g=!0,S=!0,E.push(I.score)):(T[C]=1,this.options.matchAllTokens||E.push(1)),this._log('Token: "'.concat(C,'", score: ').concat(T[C]))}S&&(b+=1)}m=E[0];for(var j=E.length,x=1;x<j;x+=1)m+=E[x];m/=j,this._log("Token score average:",m)}var K=_.score;m>-1&&(K=(K+m)/2),this._log("Score average:",K);var M=!this.options.tokenize||!this.options.matchAllTokens||b>=c.length;if(this._log("\nCheck Matches: ".concat(M)),(g||_.isMatch)&&M){var L=h[u];L?L.output.push({key:n,arrayIndex:o,value:i,score:K,matchedIndices:_.matchedIndices}):(h[u]={item:a,output:[{key:n,arrayIndex:o,value:i,score:K,matchedIndices:_.matchedIndices}]},v.push(h[u]))}}else if(s(i))for(var A=0,R=i.length;A<R;A+=1)this._analyze({key:n,arrayIndex:A,value:i[A],record:a,index:u},{resultMap:h,results:v,tokenSearchers:c,fullSearcher:d})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var o=t[n].output,i=o.length,a=1,s=1,u=0;u<i;u+=1){var l=e?e[o[u].key].weight:1,c=(1===l?o[u].score:o[u].score||.001)*l;1!==l?s=Math.min(s,c):(o[u].nScore=c,a*=c)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===o(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}))),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),r.length){for(var u={item:s.item},l=0,c=r.length;l<c;l+=1)r[l](s,u);t.push(u)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.exports=u},function(e,t,n){var r=n(3),o=n(4),i=n(7),a=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,a=n.distance,s=void 0===a?100:a,u=n.threshold,l=void 0===u?.6:u,c=n.maxPatternLength,f=void 0===c?32:c,d=n.isCaseSensitive,p=void 0!==d&&d,h=n.tokenSeparator,y=void 0===h?/ +/g:h,v=n.findAllMatches,g=void 0!==v&&v,m=n.minMatchCharLength,b=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:l,maxPatternLength:f,isCaseSensitive:p,tokenSeparator:y,findAllMatches:g,minMatchCharLength:b},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=f&&(this.patternAlphabet=i(this.pattern))}var t;return(t=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,i=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,i);var a=this.options,s=a.location,u=a.distance,l=a.threshold,c=a.findAllMatches,f=a.minMatchCharLength;return o(e,this.pattern,this.patternAlphabet,{location:s,distance:u,threshold:l,findAllMatches:c,minMatchCharLength:f})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();e.exports=a},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var u=0,l=i.length;u<l;u+=1){var c=i[u];s.push([e.indexOf(c),c.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var r=n(5),o=n(6);e.exports=function(e,t,n,i){for(var a=i.location,s=void 0===a?0:a,u=i.distance,l=void 0===u?100:u,c=i.threshold,f=void 0===c?.6:c,d=i.findAllMatches,p=void 0!==d&&d,h=i.minMatchCharLength,y=void 0===h?1:h,v=s,g=e.length,m=f,b=e.indexOf(t,v),_=t.length,k=[],E=0;E<g;E+=1)k[E]=0;if(-1!==b){var O=r(t,{errors:0,currentLocation:b,expectedLocation:v,distance:l});if(m=Math.min(O,m),-1!==(b=e.lastIndexOf(t,v+_))){var w=r(t,{errors:0,currentLocation:b,expectedLocation:v,distance:l});m=Math.min(w,m)}}b=-1;for(var S=[],P=1,C=_+g,I=1<<(_<=31?_-1:30),T=0;T<_;T+=1){for(var j=0,x=C;j<x;)r(t,{errors:T,currentLocation:v+x,expectedLocation:v,distance:l})<=m?j=x:C=x,x=Math.floor((C-j)/2+j);C=x;var K=Math.max(1,v-x+1),M=p?g:Math.min(v+x,g)+_,L=Array(M+2);L[M+1]=(1<<T)-1;for(var A=M;A>=K;A-=1){var R=A-1,D=n[e.charAt(R)];if(D&&(k[R]=1),L[A]=(L[A+1]<<1|1)&D,0!==T&&(L[A]|=(S[A+1]|S[A])<<1|1|S[A+1]),L[A]&I&&(P=r(t,{errors:T,currentLocation:R,expectedLocation:v,distance:l}))<=m){if(m=P,(b=R)<=v)break;K=Math.max(1,2*v-b)}}if(r(t,{errors:T+1,currentLocation:v,expectedLocation:v,distance:l})>m)break;S=L}return{isMatch:b>=0,score:0===P?.001:P,matchedIndices:o(k,y)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,u=t.distance,l=void 0===u?100:u,c=r/e.length,f=Math.abs(s-i);return l?c+f/l:f?1:c}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,o){if(n){var i=n.indexOf("."),a=n,s=null;-1!==i&&(a=n.slice(0,i),s=n.slice(i+1));var u=t[a];if(null!=u)if(s||"string"!=typeof u&&"number"!=typeof u)if(r(u))for(var l=0,c=u.length;l<c;l+=1)e(u[l],s,o);else s&&e(u,s,o);else o.push(u.toString())}else o.push(t);return o}(e,t,[])}}])}));n(ge);ge.Fuse;var me=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.toFiltered=t.toId=t.getNext=t.getPrevious=t.getMains=t.getParents=t.getParent=t.get=t.createId=t.keyEventToAction=t.prevent=void 0;var n=o(d),r=o(ge);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.prevent=function(e){return e.preventDefault()};var s=(0,n.default)(1)((function(e){return Object.values(e)}));t.keyEventToAction=function(e){var t=e.keyCode,n=e.ctrlKey,r=e.shiftKey,o=e.altKey,i=e.metaKey;if(r||i||n||o)return!1;switch(t){case 18:return"ENTER";case 32:return"SPACE";case 38:return"UP";case 40:return"DOWN";case 37:return u.DOCS_MODE?"UP":"LEFT";case 39:return u.DOCS_MODE?"DOWN":"RIGHT";default:return!1}};t.createId=function(e,t){return"".concat(t,"_").concat(e)};var l=(0,n.default)(1e3)((function(e,t){return t[e]}));t.get=l;var c=(0,n.default)(1e3)((function(e,t){var n=l(e,t);if(n&&!n.isRoot)return l(n.parent,t)}));t.getParent=c;var f=(0,n.default)(1e3)((function(e,t){var n=c(e,t);return n?[n].concat(a(f(n.id,t))):[]}));t.getParents=f;var p=(0,n.default)(1)((function(e){return s(e).filter((function(e){return 0===e.depth}))}));t.getMains=p;var h=(0,n.default)(1)((function(e){return p(e).map((function(e){return e.id}))}));t.getPrevious=function e(t){var n=t.id,r=t.dataset,o=t.expanded,i=l(n,r),a=c(n,r),s=h(r),u=a&&a.children?a.children:s,f=u.indexOf(i.id);if(0===f){if(a&&a.isRoot)return e({id:a.id,dataset:r,expanded:o});if(!a)return;return a}for(var d=l(u[f-1],r);d.children&&o[d.id];)d=l(d.children.slice(-1)[0],r);return d.isRoot?e({id:d.id,dataset:r,expanded:o}):d};t.getNext=function e(t){var n=t.id,r=t.dataset,o=t.expanded,i=l(n,r);if(i){var a=i.children;if(a&&a.length&&(o[i.id]||i.isRoot))return l(a[0],r);var s=h(r),u=f(n,r).concat([{children:s}]).reduce((function(e,t){if(e.result)return e;var n=t,o=n&&n.children?n.children:s,i=o.indexOf(e.child.id);return o[i+1]?{result:l(o[i+1],r)}:{child:n}}),{child:i,result:void 0});return u.result&&u.result.isRoot?e({id:u.result.id,dataset:r,expanded:o}):u.result}};var y=(0,n.default)(5)((function(e){return new r.default(s(e),{threshold:.4,keys:["kind","name","parameters.fileName","parameters.notes"]})})),v=(0,n.default)(1)((function(e){return function(t){return t.kind&&t.kind.includes(e)||t.name&&t.name.includes(e)||t.parameters&&t.parameters.fileName&&t.parameters.fileName.includes(e)||t.parameters&&"string"==typeof t.parameters.notes&&t.parameters.notes.includes(e)}}));t.toId=function(e,t){return""===e?"".concat(t):"".concat(e,"-").concat(t)};t.toFiltered=function(e,t){var n=(t.length&&t.length>2?y(e).search(t):s(e).filter(v(t))).reduce((function(t,n){return f(n.id,e).forEach((function(e){t[e.id]=e})),t[n.id]=n,t}),{});return Object.entries(n).reduce((function(e,t){var r=i(t,2),o=r[0],a=r[1];return e[o]=a.children?Object.assign({},a,{children:a.children.filter((function(e){return!!n[e]}))}):a,e}),{})}}));n(me);me.toFiltered,me.toId,me.getNext,me.getPrevious,me.getMains,me.getParents,me.getParent,me.get,me.createId,me.keyEventToAction,me.prevent;var be=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultLink=t.DefaultRootTitle=t.DefaultHead=t.DefaultLeaf=t.LeafStyle=t.DefaultMessage=t.DefaultFilter=t.A=t.DefaultList=t.DefaultSection=void 0;var n=o(i),r=o(l);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=c.styled.div({});t.DefaultSection=u,u.displayName="DefaultSection";var f=c.styled.div();t.DefaultList=f,f.displayName="DefaultList";var d=c.styled.a({});t.A=d,d.displayName="A";var p=(0,c.styled)((function(e){return n.default.createElement("input",s({placeholder:"search..."},e))}))({width:"100%",background:"transparent",border:"1px solid black"});t.DefaultFilter=p;var h=c.styled.div({});t.DefaultMessage=h;var y=c.styled.div({minHeight:24,display:"flex",alignItems:"center",flex:1},(function(e){return{paddingLeft:10*e.depth}}),(function(e){return{background:e.isSelected?"#CFD8DC":"transparent"}}));t.LeafStyle=y;var v=function(e){var t=e.name,r=a(e,["name"]);return n.default.createElement(y,r,t)};t.DefaultLeaf=v,v.displayName="DefaultLeaf",v.displayName="DefaultLeaf",v.propTypes={name:r.default.node.isRequired,depth:r.default.number.isRequired};var g=function(e){var t=e.name,r=e.depth,o=e.isExpanded,i=void 0===o||o,a=e.isSelected,s=e.isComponent;return n.default.createElement(y,{isSelected:a,depth:r},n.default.createElement("span",null,i?"-":"+",s?"!":""),n.default.createElement("span",null,t))};t.DefaultHead=g,g.displayName="DefaultHead",g.displayName="DefaultHead",g.propTypes={name:r.default.node.isRequired,depth:r.default.number.isRequired,isExpanded:r.default.bool,isSelected:r.default.bool,isComponent:r.default.bool},g.defaultProps={isExpanded:!1,isComponent:!1,isSelected:!1};var m=c.styled.h4({});t.DefaultRootTitle=m;var b=function(e){var t=e.id,r=e.prefix,o=e.children,i=a(e,["id","prefix","children"]);return n.default.createElement(d,s({href:"#!".concat(r).concat(t)},i,{onClick:function(e){return e.preventDefault()||i.onClick(e)}}),o)};t.DefaultLink=b,b.displayName="DefaultLink",b.displayName="DefaultLink",b.propTypes={id:r.default.string.isRequired,prefix:r.default.string.isRequired,children:r.default.node.isRequired}}));n(be);be.DefaultLink,be.DefaultRootTitle,be.DefaultHead,be.DefaultLeaf,be.LeafStyle,be.DefaultMessage,be.DefaultFilter,be.A,be.DefaultList,be.DefaultSection;var _e=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=t.TreeState=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),r=c(l),o=c(d),a=c(w),s=c(O);function c(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=(0,o.default)(1e4)((function(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,r.concat([e]))}})),C=function(e,t){var r=t.onClick,o=t.onKeyUp,i=t.prefix,a=void 0===i?"":i,s=t.Link,u=n.default.memo((function(t){return n.default.createElement(s,S({prefix:a},t,{onKeyUp:P(t,o),onClick:P(t,r)}),n.default.createElement(e,t))}));return u.displayName="Linked".concat(e.displayName),u},I=(0,o.default)(1)((function(e){return e||be.DefaultLink})),T=(0,o.default)(1)((function(e,t,n,r){return C(e||be.DefaultHead,{onClick:r.onClick,onKeyUp:r.onKeyUp,prefix:n,Link:I(t)})})),j=(0,o.default)(1)((function(e,t,n,r){return C(e||be.DefaultLeaf,{onClick:r.onClick,onKeyUp:r.onKeyUp,prefix:n,Link:I(t)})})),x=(0,o.default)(1)((function(e){return e||be.DefaultFilter})),K=(0,o.default)(1)((function(e){return e||be.DefaultRootTitle})),M=(0,o.default)(1)((function(e){return e||be.DefaultSection})),L=(0,o.default)(1)((function(e){return e||be.DefaultMessage})),A=function e(t){var r=t.root,o=t.depth,i=t.dataset,a=t.expanded,s=t.selected,u=t.Branch,l=void 0===u?e:u,c=t.List,f=void 0===c?be.DefaultList:c,d=t.Leaf,p=void 0===d?be.DefaultLeaf:d,h=t.Head,y=void 0===h?be.DefaultHead:h,v=i[r]||{},g=v.children,m=E(v,["children"]),b=function(e){return function(e,t){var r=e.Branch,o=e.Leaf,i=e.Head,a=e.List,s=t.root,u=t.dataset,l=t.expanded,c=t.selected,f=t.depth,d=u[s];return d.children?n.default.createElement(r,S({key:d.id},{Branch:r,Leaf:o,Head:i,List:a,dataset:u,root:s,depth:f,expanded:l,selected:c})):n.default.createElement(o,S({key:d.id},d,{depth:f,isSelected:c[d.id]}))}({Branch:l,Leaf:p,Head:y,List:f},{dataset:i,selected:s,expanded:a,root:e,depth:o+1})};switch(!0){case!!(g&&g.length&&m.name):return n.default.createElement(n.Fragment,null,n.default.createElement(y,S({},m,{depth:o,isExpanded:a[m.id],isSelected:s[m.id],childIds:g})),g&&a[m.id]?n.default.createElement(f,null,g.map(b)):null);case!(!g||!g.length):return n.default.createElement(f,null,g.map(b));case m.isLeaf:return n.default.createElement(p,S({key:m.id},m,{depth:o,isSelected:s[m.id]}));default:return null}};t.Tree=A;var R=(0,o.default)(50)((function(e,t){var n=e.dataset,r=e.selectedId,o=t.lastSelectedId,i=t.unfilteredExpanded;if(r===o)return null;var a=r?(0,me.getParents)(r,n).map((function(e){return e.id})):[];return{lastSelectedId:r,unfilteredExpanded:Object.keys(n).reduce((function(e,t){return e[t]=a.includes(t)||i[t],e}),{})}})),D=function(e){var t=e.unfilteredExpanded,n=e.filteredExpanded;return e.filter?n:t},N=(0,o.default)(50)((function(e){var t=e.dataset,n=e.filter;return n?(0,me.toFiltered)(t,n):t})),H=function(e){return function(t){var n=t.unfilteredExpanded,r=t.filteredExpanded;return t.filter?{filteredExpanded:e(r)}:{unfilteredExpanded:e(n)}}},F=(0,o.default)(50)((function(e){var t=e.dataset,n=e.selectedId,r=Object.keys(t).reduce((function(e,t){return Object.assign(e,k({},t,t===n))}),{}),o=(0,me.getMains)(t).reduce((function(e,t){return t.isRoot?Object.assign({},e,{roots:[].concat(_(e.roots),[t])}):Object.assign({},e,{others:[].concat(_(e.others),[t])})}),{roots:[],others:[]});return{selected:r,roots:o.roots,others:o.others}})),q=function(e){function t(){var e,n;y(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=g(this,(e=m(t)).call.apply(e,[this].concat(o)))).state={unfilteredExpanded:{},filteredExpanded:{},filter:null,lastSelectedId:null},n.events={onClick:function(e,t){n.setState(H((function(e){return Object.assign({},e,k({},t.id,!e[t.id]))})))},onFilter:(0,s.default)((function(e){var t=n.props.dataset,r=e.length>=2?e:"",o=N({dataset:t,filter:r});n.setState({filter:r,filteredExpanded:!!r&&Object.keys(o).reduce((function(e,t){return Object.assign(e,k({},t,!0))}),{})})}),100),onKeyUp:function(e,t){var r=n.props,o=r.prefix,i=r.dataset,a=n.state.filter,s=N({dataset:i,filter:a}),l=D(n.state),c=(0,me.keyEventToAction)(e);if(c&&(0,me.prevent)(e),"RIGHT"===c){var f=(0,me.getNext)({id:t.id,dataset:s,expanded:l});if((!s[t.id].children||l[t.id])&&f)try{u.document.getElementById((0,me.createId)(f.id,o)).focus()}catch(e){}n.setState(H((function(e){return Object.assign({},e,k({},t.id,!0))})))}if("LEFT"===c){var d=(0,me.getPrevious)({id:t.id,dataset:s,expanded:l});if(!s[t.id].children||!l[t.id]){var p=(0,me.getParent)(t.id,s);if(p&&p.children){try{u.document.getElementById((0,me.createId)(p.id,o)).focus()}catch(e){}if(d)try{u.document.getElementById((0,me.createId)(d.id,o)).focus()}catch(e){}}}n.setState(H((function(e){return Object.assign({},e,k({},t.id,!1))})))}if("DOWN"===c){var h=(0,me.getNext)({id:t.id,dataset:s,expanded:l});if(h)try{u.document.getElementById((0,me.createId)(h.id,o)).focus()}catch(e){}}if("UP"===c){var y=(0,me.getPrevious)({id:t.id,dataset:s,expanded:l});if(y)try{u.document.getElementById((0,me.createId)(y.id,o)).focus()}catch(e){}}}},n.updateExpanded=function(e){var t=n.props,r=t.dataset,o=t.selectedId;n.setState((function(t){var n=t.unfilteredExpanded,i=o?(0,me.getParents)(o,r).map((function(e){return e.id})):[];return{unfilteredExpanded:Object.keys(n).reduce((function(t,n){return Object.assign({},t,k({},n,i.includes(n)||e))}),{})}}))},n.onCollapseAll=function(){return n.updateExpanded(void 0)},n.onExpandAll=function(){return n.updateExpanded(!0)},n}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),r=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return R(e,t)}}],(o=[{key:"componentDidMount",value:function(){a.default.getChannel().on(p.STORIES_COLLAPSE_ALL,this.onCollapseAll),a.default.getChannel().on(p.STORIES_EXPAND_ALL,this.onExpandAll)}},{key:"componentWillUnmount",value:function(){a.default.getChannel().off(p.STORIES_COLLAPSE_ALL,this.onCollapseAll),a.default.getChannel().off(p.STORIES_EXPAND_ALL,this.onExpandAll)}},{key:"render",value:function(){var e=this.events,t=this.state,r=t.filter,o=t.unfilteredExpanded,i=t.filteredExpanded,a=this.props,s=a.prefix,u=a.dataset,l=a.selectedId,c=x(a.Filter),f=x(a.List),d=A,p=K(a.Title),h=I(a.Link),y=j(a.Leaf,h,s,e),v=T(a.Head,h,s,e),g=M(a.Section),m=L(a.Message),b=N({dataset:u,filter:r}),_=r?i:o,k=F({dataset:b,selectedId:l}),E=k.selected,O=k.roots,w=k.others;return n.default.createElement(n.Fragment,null,c?n.default.createElement(c,{key:"filter",onChange:this.events.onFilter}):null,O.length||w.length?n.default.createElement(n.Fragment,null,O.map((function(t){var r=t.id,o=t.name,i=t.children;return n.default.createElement(g,{key:r},n.default.createElement(p,{type:"section",mods:["uppercase"]},o),i.map((function(t){return n.default.createElement(d,{key:t,depth:0,dataset:b,selected:E,expanded:_,root:t,events:e,Head:v,Leaf:y,Branch:d,List:f})})))})),w.length?n.default.createElement(g,{key:"other"},O.length?n.default.createElement(p,{type:"section",mods:["uppercase"]},"Others"):null,w.map((function(t){var r=t.id;return n.default.createElement(d,{key:r,depth:0,dataset:b,selected:E,expanded:_,root:r,events:e,Link:h,Head:v,Leaf:y,Branch:d})}))):null):n.default.createElement(m,null,"This filter resulted in 0 results"))}}])&&v(r.prototype,o),i&&v(r,i),t}(n.PureComponent);t.TreeState=q,q.displayName="TreeState",q.propTypes={prefix:r.default.string.isRequired,dataset:r.default.shape({}).isRequired,selectedId:r.default.string,Filter:r.default.elementType,List:r.default.elementType,Title:r.default.elementType,Link:r.default.elementType,Leaf:r.default.elementType,Head:r.default.elementType,Section:r.default.elementType,Message:r.default.elementType},q.defaultProps={selectedId:null,Filter:void 0,List:void 0,Title:void 0,Link:void 0,Leaf:void 0,Head:void 0,Section:void 0,Message:void 0}}));n(_e);_e.Tree,_e.TreeState;var ke=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Item=void 0;var n,r=(n=i)&&n.__esModule?n:{default:n};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=c.styled.span((function(e){var t=e.theme;return{display:"block",width:0,height:0,marginRight:6,borderTop:"3.5px solid transparent",borderBottom:"3.5px solid transparent",borderLeft:"3.5px solid ".concat((0,g.opacify)(.2,t.appBorderColor)),transition:"transform .1s ease-out"}}),(function(e){var t=e.isExpandable;return void 0!==t&&t?{}:{borderLeftColor:"transparent"}}),(function(e){var t=e.isExpanded;return void 0!==t&&t?{transform:"rotateZ(90deg)"}:{}})),l=(0,c.styled)(k.Icons)({flex:"none",width:10,height:10,marginRight:6},(function(e){var t=e.icon;return"folder"===t?{color:"#774dd7"}:"component"===t?{color:"#1ea7fd"}:"bookmarkhollow"===t||u.DOCS_MODE&&"document"===t?{color:"#37d5d3"}:"document"===t?{color:"#ffae00"}:{}}),(function(e){var t=e.isSelected;return void 0!==t&&t?{color:"inherit"}:{}})),f=(0,c.styled)((function(e){var t=e.className,n=e.children,o=e.id;return r.default.createElement("div",{className:t,id:o},n)}))({fontSize:13,lineHeight:"16px",paddingTop:4,paddingBottom:4,paddingRight:20,display:"flex",alignItems:"center",flex:1,background:"transparent"},(function(e){return{paddingLeft:15*e.depth+9}}),(function(e){var t=e.theme,n=e.isSelected;return!e.loading&&(n?{cursor:"default",background:t.color.secondary,color:t.color.lightest,fontWeight:t.typography.weight.bold}:{cursor:"pointer",color:"light"===t.base?t.color.defaultText:(0,g.transparentize)(.2,t.color.defaultText),"&:hover":{color:t.color.defaultText,background:t.background.hoverable}})}),(function(e){var t=e.theme;return e.loading&&{"&& > svg + span":{background:t.color.medium},"&& > *":t.animation.inlineGlow,"&& > span":{borderColor:"transparent"}}}));t.Item=f;var d=function(e){var t,n=e.name,i=void 0===n?"loading story":n,u=e.isComponent,c=void 0!==u&&u,d=e.isLeaf,p=void 0!==d&&d,h=e.isExpanded,y=void 0!==h&&h,v=e.isSelected,g=void 0!==v&&v,m=a(e,["name","isComponent","isLeaf","isExpanded","isSelected"]);return t=p&&c?"document":p?"bookmarkhollow":c?"component":"folder",r.default.createElement(f,o({isSelected:g},m,{className:g?"sidebar-item selected":"sidebar-item"}),r.default.createElement(s,{className:"sidebar-expander",isExpandable:!p,isExpanded:y}),r.default.createElement(l,{className:"sidebar-svg-icon",icon:t,isSelected:g}),r.default.createElement("span",null,i))};d.displayName="SidebarItem";var p=d;t.default=p}));n(ke);ke.Item;var Ee=t((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PureSidebarSearch=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(i);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=c.styled.input((function(e){var t=e.theme;return{appearance:"none",border:"none",boxSizing:"inherit",display:" block",outline:"none",width:" 100%",margin:" 0",background:"transparent",padding:0,fontSize:"inherit","&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 3em ".concat(t.color.lightest," inset")},"::placeholder":{color:t.color.mediumdark},"&:placeholder-shown ~ button":{opacity:0}}})),f=c.styled.button((function(e){var t=e.theme;return{border:0,margin:0,padding:4,textDecoration:"none",background:t.appBorderColor,borderRadius:"1em",cursor:"pointer",opacity:1,transition:"all 150ms ease-out",position:"absolute",top:"50%",transform:"translateY(-50%)",right:2,"> svg":{display:"block",height:8,width:8,color:t.input.color,transition:"all 150ms ease-out"},"&:hover":{background:(0,g.opacify)(.1,t.appBorderColor)}}})),d=c.styled.form((function(e){var t=e.theme,n=e.focussed;return{transition:"all 150ms ease-out",borderBottom:"1px solid transparent",borderBottomColor:n?(0,g.opacify)(.3,t.appBorderColor):(0,g.opacify)(.1,t.appBorderColor),outline:0,position:"relative",input:{color:t.input.color,fontSize:t.typography.size.s2-1,lineHeight:"20px",paddingTop:2,paddingBottom:2,paddingLeft:20},"> svg":{transition:"all 150ms ease-out",position:"absolute",top:"50%",height:12,width:12,transform:"translateY(-50%)",zIndex:1,background:"transparent",path:{transition:"all 150ms ease-out",fill:"currentColor",opacity:n?1:.3}}}})),p=r.default.createElement(k.Icons,{icon:"search"}),h=r.default.createElement(f,{type:"reset",value:"reset",title:"Clear search"},r.default.createElement(k.Icons,{icon:"closeAlt"})),y=function(e){var t=e.className,n=e.onChange,o=u(e,["className","onChange"]),i=s((0,r.useState)(!1),2),c=i[0],f=i[1];return r.default.createElement(d,{autoComplete:"off",focussed:c,className:t,onReset:function(){return n("")},onSubmit:function(e){return e.preventDefault()}},r.default.createElement(l,a({type:"text",id:"storybook-explorer-searchfield",onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},onChange:function(e){return n(e.target.value)}},o,{placeholder:c?"Type to search...":'Press "/" to search...',"aria-label":"Search stories"})),p,h)};t.PureSidebarSearch=y,y.displayName="PureSidebarSearch";var v=y;t.default=v}));n(Ee);Ee.PureSidebarSearch;var Oe=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c.styled.div((function(e){var t=e.theme;return{letterSpacing:"0.35em",textTransform:"uppercase",fontWeight:t.typography.weight.black,fontSize:t.typography.size.s1-1,lineHeight:"24px",color:(0,g.transparentize)(.5,t.color.defaultText)}}));n.defaultProps={className:"sidebar-subheading"};var r=n;t.default=r}));n(Oe);var we=t((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Link=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(i),o=f(l),a=f(ke),s=f(Ee),u=f(Oe);function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v=(0,c.styled)(s.default)({margin:"0 20px 1rem"}),g=(0,c.styled)(u.default)({margin:"0 20px"});g.propTypes={className:o.default.string},g.defaultProps={className:"sidebar-subheading"};var m=c.styled.section({"& + section":{marginTop:20},"&:last-of-type":{marginBottom:40}}),b=c.styled.div();b.displayName="List";var _={color:"inherit",display:"block",textDecoration:"none",userSelect:"none"},E=(0,c.styled)(y.Link)(_),O=c.styled.a(_),w=c.styled.div({}),S=function(e,t){return t?"docs":"settings"!==e&&e?e:"story"},P=function(e){return e&&e.find((function(e){return/.*--.*/.exec(e)}))},C=function(e){var t=e.id,n=e.prefix,o=e.name,i=e.children,a=e.isLeaf,s=e.isComponent,u=e.onClick,l=e.onKeyUp,c=e.childIds,f=e.isExpanded;return a||s&&!f?r.default.createElement(y.Location,null,(function(e){var f=e.viewMode;return r.default.createElement(E,{title:o,id:n+t,to:"/".concat(S(f,a&&s),"/").concat(P(c)||t),onKeyUp:l,onClick:u},i)})):r.default.createElement(O,{title:o,id:n+t,onKeyUp:l,onClick:u},i)};t.Link=C,C.displayName="Link",C.propTypes={children:o.default.node.isRequired,id:o.default.string.isRequired,name:o.default.string.isRequired,isLeaf:o.default.bool.isRequired,prefix:o.default.string.isRequired,onKeyUp:o.default.func.isRequired,onClick:o.default.func.isRequired,childIds:o.default.arrayOf(o.default.string),isExpanded:o.default.bool},C.defaultProps={childIds:null,isExpanded:!1};var I=r.default.createElement(a.default,{loading:!0}),T=r.default.createElement(a.default,{loading:!0}),j=r.default.createElement(a.default,{depth:1,loading:!0}),x=r.default.createElement(a.default,{depth:1,loading:!0}),K=r.default.createElement(a.default,{depth:2,loading:!0}),M=r.default.createElement(a.default,{depth:3,loading:!0}),L=r.default.createElement(a.default,{depth:3,loading:!0}),A=r.default.createElement(a.default,{depth:3,loading:!0}),R=r.default.createElement(a.default,{depth:1,loading:!0}),D=r.default.createElement(a.default,{depth:1,loading:!0}),N=r.default.createElement(a.default,{depth:1,loading:!0}),H=r.default.createElement(a.default,{depth:2,loading:!0}),F=r.default.createElement(a.default,{depth:2,loading:!0}),q=r.default.createElement(a.default,{depth:2,loading:!0}),U=r.default.createElement(a.default,{depth:3,loading:!0}),B=r.default.createElement(a.default,{loading:!0}),z=r.default.createElement(a.default,{loading:!0}),G=r.default.createElement(k.Placeholder,{key:"empty"},r.default.createElement(r.Fragment,{key:"title"},"No stories found"),r.default.createElement(r.Fragment,null,"Learn how to ",r.default.createElement(k.Link,{href:"https://storybook.js.org/basics/writing-stories/",target:"_blank"},"write stories"))),W=(0,r.memo)((function(e){var t=e.stories,n=e.storyId,o=e.loading,i=e.className,s=h(e,["stories","storyId","loading","className"]),u=Object.entries(t);return o?r.default.createElement(w,{className:i},I,T,j,x,K,M,L,A,R,D,N,H,F,q,U,B,z):u.length<1?r.default.createElement(w,{className:i},G):r.default.createElement(w,{className:i},r.default.createElement(_e.TreeState,p({key:"treestate",dataset:t,prefix:"explorer",selectedId:n,filter:"",List:b,Head:a.default,Link:C,Leaf:a.default,Title:g,Section:m,Message:k.Placeholder,Filter:v},s)))}));t.default=W}));n(we);we.Link;var Se=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i),r=a(ve),o=a(we);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=(0,c.styled)(r.default)({padding:"20px 20px 12px"}),f=(0,c.styled)((function(e){var t=e.className,r=u(e,["className"]);return n.default.createElement(o.default,s({className:t},r))}))((function(e){return e.loading?{marginTop:8}:{}})),d=c.styled.nav({position:"absolute",zIndex:1,left:0,top:0,bottom:0,right:0,width:"100%",height:"100%"}),p=(0,c.styled)(k.ScrollArea)({".simplebar-track.simplebar-vertical":{right:4}}),h=function(e){var t=e.storyId,r=e.stories,o=e.menu,i=e.menuHighlighted,a=void 0!==i&&i,s=e.loading,u=void 0!==s&&s;return n.default.createElement(d,{className:"container sidebar-container"},n.default.createElement(p,{vertical:!0},n.default.createElement(l,{className:"sidebar-header",menuHighlighted:a,menu:o}),n.default.createElement(f,{stories:r,storyId:t,loading:u})))};h.displayName="Sidebar";var y=h;t.default=y}));n(Se);var Pe=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapper=t.collapseDocsOnlyStories=t.collapseAllStories=void 0;var n=s(i),r=s(d),o=s(ye),a=s(Se);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f="storybook-explorer-searchfield",p=function(e,t){return t?(0,he.shortcutToHumanString)(e):null},h=n.default.createElement(o.default,{icon:"check"}),y=n.default.createElement(o.default,null),v=n.default.createElement(o.default,{icon:"check"}),g=n.default.createElement(o.default,null),m=n.default.createElement(o.default,null),b=n.default.createElement(o.default,null),_=n.default.createElement(o.default,null),E=n.default.createElement(o.default,null),O=n.default.createElement(o.default,null),w=n.default.createElement(o.default,null),P=n.default.createElement(o.default,null),C=n.default.createElement(k.Badge,{status:"positive"},"Update"),I=n.default.createElement(o.default,null),T=n.default.createElement(o.default,null),j=n.default.createElement(o.default,null),x=(0,r.default)(1)((function(e,t,n,r,o,i){return[{id:"S",title:"Show sidebar",onClick:function(){return e.toggleNav()},right:p(t.toggleNav,i),left:o?h:y},{id:"A",title:"Show addons",onClick:function(){return e.togglePanel()},right:p(t.togglePanel,i),left:r?v:g},{id:"D",title:"Change addons orientation",onClick:function(){return e.togglePanelPosition()},right:p(t.panelPosition,i),left:m},{id:"F",title:"Go full screen",onClick:e.toggleFullscreen,right:p(t.fullScreen,i),left:n?"check":b},{id:"/",title:"Search",onClick:function(){return e.focusOnUIElement(f)},right:p(t.search,i),left:_},{id:"up",title:"Previous component",onClick:function(){return e.jumpToComponent(-1)},right:p(t.prevComponent,i),left:E},{id:"down",title:"Next component",onClick:function(){return e.jumpToComponent(1)},right:p(t.nextComponent,i),left:O},{id:"prev",title:"Previous story",onClick:function(){return e.jumpToStory(-1)},right:p(t.prevStory,i),left:w},{id:"next",title:"Next story",onClick:function(){return e.jumpToStory(1)},right:p(t.nextStory,i),left:P},{id:"about",title:"About your Storybook",onClick:function(){return e.navigate("/settings/about")},right:e.versionUpdateAvailable()&&C,left:I},{id:"shortcuts",title:"Keyboard shortcuts",onClick:function(){return e.navigate("/settings/shortcuts")},right:p(t.shortcutsPage,i),left:T},{id:"collapse",title:"Collapse all",onClick:function(){return e.collapseAll()},right:(0,he.shortcutToHumanString)(t.collapseAll),left:j}]})),K=function(e){var t={},n=Object.values(e).filter((function(t){return!(t.isLeaf&&e[t.parent].isComponent)})).map((function(n){var r=n.id,o=n.isComponent,i=n.children,a=c(n,["id","isComponent","children"]);if(!o)return n;var s=[],u=[];if(i.forEach((function(t){return(e[t].isLeaf?u:s).push(t)})),0===u.length)return n;var l=u[0],f=Object.assign({},a,{id:l,isLeaf:!0,isComponent:!0});if(t[r]=l,0!==s.length)throw new Error("Unexpected '".concat(n.id,"': ").concat(JSON.stringify({isComponent:o,nonLeafChildren:s})));return f})).map((function(e){if(e.isLeaf)return e;var n=e.children,r=c(e,["children"]),o=n.map((function(e){return t[e]||e}));return Object.assign({children:o},r)})),r={};return n.forEach((function(e){r[e.id]=e})),r};t.collapseAllStories=K;var M=function(e){var t={},n=Object.values(e).filter((function(e){return!(e.isLeaf&&e.parameters&&e.parameters.docsOnly)||(t[e.parent]=e.id,!1)})).map((function(e){var n=e.isComponent,r=e.children,o=e.id;if(n&&1===r.length){var i=t[o];if(i)return Object.assign({},e,{id:i,isLeaf:!0,children:void 0})}if(r){var a=r.map((function(e){return t[e]||e}));return Object.assign({},e,{children:a})}return e})),r={};return n.forEach((function(e){r[e.id]=e})),r};t.collapseDocsOnlyStories=M;var L=function(e){var t=e.state,n=e.api,r=t.ui,o=r.name,i=r.url,a=r.enableShortcuts,s=t.viewMode,l=t.storyId,c=t.layout,f=c.isFullscreen,d=c.showPanel,p=c.showNav,h=t.storiesHash,y=t.storiesConfigured,v=u.DOCS_MODE?K(h):M(h),g=n.getShortcutKeys();return{loading:!y,title:o,url:i,stories:v,storyId:l,viewMode:s,menu:x(n,g,f,d,p,a),menuHighlighted:n.versionUpdateAvailable()}};t.mapper=L;t.default=function(e){return n.default.createElement(S.Consumer,{filter:L},(function(t){return n.default.createElement(a.default,l({},e,t))}))}}));n(Pe);Pe.mapper,Pe.collapseDocsOnlyStories,Pe.collapseAllStories;var Ce=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var n,r=(n=i)&&n.__esModule?n:{default:n};function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=(0,c.styled)((function(e){e.shown;var t=o(e,["shown"]);return r.default.createElement(k.FlexBar,t)}))({position:"absolute",left:0,right:0,top:0,transition:"transform .2s linear"},(function(e){return{tranform:e.shown?"translateY(0px)":"translateY(-40px)"}}));t.Toolbar=a}));n(Ce);Ce.Toolbar;var Ie=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UnstyledLink=t.FrameWrap=void 0;var n=c.styled.div((function(e){var t=e.offset;return{position:"absolute",overflow:"auto",left:0,right:0,bottom:0,top:t,zIndex:3,transition:"all 0.1s linear",height:"calc(100% - ".concat(t,"px)"),background:"transparent"}}));t.FrameWrap=n;var r=(0,c.styled)(y.Link)({color:"inherit",textDecoration:"inherit",display:"inline-block"});t.UnstyledLink=r}));n(Ie);Ie.UnstyledLink,Ie.FrameWrap;var Te=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomProvider=t.ZoomConsumer=t.Zoom=void 0;var n,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),o=(n=l)&&n.__esModule?n:{default:n};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=r.default.createContext(),y=function(e){function t(){var e,n;u(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=f(this,(e=d(t)).call.apply(e,[this].concat(o)))).state={value:1},n.set=function(e){return n.setState({value:e})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props.children,t=this.set,n=this.state.value;return r.default.createElement(h.Provider,{value:{value:n,set:t}},e)}}])&&c(n.prototype,o),i&&c(n,i),t}(r.Component);t.ZoomProvider=y,y.displayName="Provider",y.propTypes={children:o.default.node.isRequired};var v=h.Consumer;t.ZoomConsumer=v;var g=r.default.createElement(k.Icons,{icon:"zoom"}),m=r.default.createElement(k.Icons,{icon:"zoomout"}),b=r.default.createElement(k.Icons,{icon:"zoomreset"}),_=function(e){var t=e.set,n=e.reset;return r.default.createElement(r.Fragment,null,r.default.createElement(k.IconButton,{key:"zoomin",onClick:function(e){return e.preventDefault()||t(.8)},title:"Zoom in"},g),r.default.createElement(k.IconButton,{key:"zoomout",onClick:function(e){return e.preventDefault()||t(1.25)},title:"Zoom out"},m),r.default.createElement(k.IconButton,{key:"zoomreset",onClick:function(e){return e.preventDefault()||n()},title:"Reset zoom"},b))};t.Zoom=_,_.displayName="Zoom",_.propTypes={set:o.default.func.isRequired,reset:o.default.func.isRequired}}));n(Te);Te.ZoomProvider,Te.ZoomConsumer,Te.Zoom;var je=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IFrame=void 0;var n=s(u),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),o=s(l);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=c.styled.iframe({position:"absolute",display:"block",boxSizing:"content-box",height:"100%",width:"100%",border:"0 none",transition:"all .3s, background-position 0s",backgroundPosition:"-1px -1px, -1px -1px, -1px -1px, -1px -1px"}),_=function(e){function t(){var e,n;h(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=v(this,(e=g(t)).call.apply(e,[this].concat(o)))).iframe=null,n}var o,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),o=t,(i=[{key:"componentDidMount",value:function(){var e=this.props.id;this.iframe=n.default.document.getElementById(e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.scale!==e.scale&&(-1!==n.default.navigator.userAgent.indexOf("Firefox")?this.setIframeBodyStyle({width:"".concat(100*e.scale,"%"),height:"".concat(100*e.scale,"%"),transform:"scale(".concat(1/e.scale,")"),transformOrigin:"top left"}):this.setIframeBodyStyle({zoom:1/e.scale})),!1}},{key:"setIframeBodyStyle",value:function(e){return Object.assign(this.iframe.contentDocument.body.style,e)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,o=e.src,i=e.allowFullScreen,a=(e.scale,p(e,["id","title","src","allowFullScreen","scale"]));return r.default.createElement(b,d({scrolling:"yes",id:t,title:n,src:o,allowFullScreen:i},a))}}])&&y(o.prototype,i),a&&y(o,a),t}(r.Component);t.IFrame=_,_.displayName="IFrame",_.propTypes={id:o.default.string.isRequired,title:o.default.string.isRequired,src:o.default.string.isRequired,allowFullScreen:o.default.bool.isRequired,scale:o.default.number.isRequired}}));n(je);je.IFrame;var xe=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var n=v(u),r=y(i),o=v(l),a=v(d),s=v(P),f=y(Ie);function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||"object"!==g(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{default:e}}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=c.styled.span({"@media (max-width: 599px)":{display:"none"}}),I=function(e){return Object.entries(e).reduce((function(e,t){var n=S(t,2),r=n[0],o=n[1];return"".concat(e,"&").concat(r,"=").concat(o)}),"")},T=function(e,t,n,o,i,a){return r.default.createElement(je.IFrame,{key:"iframe",id:"storybook-preview-iframe",title:n||"preview",src:"".concat(o,"?id=").concat(e,"&viewMode=").concat(t).concat(I(a)),allowFullScreen:!0,scale:i})};T.displayName="renderIframe";var j=(0,a.default)(10)((function(e,t,n){return n.concat(Object.values(e(t)))})),x=function(e){var t=e.wrappers,n=e.viewMode,r=e.id,o=e.storyId,i=e.active,a=e.baseUrl,s=e.scale,u=e.queryParams,l=e.customCanvas,c=[o,n,r,a,s,u],f=l?l.apply(void 0,c):T.apply(void 0,c);return t.reduceRight((function(e,t,n){return t.render({index:n,children:e,id:r,storyId:o,active:i})}),f)},K=c.styled.div((function(e){return{position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",background:e.theme.background.content}})),M=[{render:function(e){return r.default.createElement(K,{id:"storybook-preview-wrapper",hidden:!e.active},e.children)}}],L=r.default.createElement(k.Separator,null),A=r.default.createElement(k.Separator,null),R=r.default.createElement(k.Icons,{icon:"share"}),D=r.default.createElement(k.Icons,{icon:"copy"}),N=(0,a.default)(10)((function(e,t,o,i,a,u,l,c,d,p,h){var y=j(e,w.types.TOOL,[o.filter((function(e){return"canvas"!==e.id})).length?{render:function(){return r.default.createElement(r.Fragment,null,r.default.createElement(k.TabBar,{key:"tabs",scroll:!1},o.map((function(e,t){var n=e.route({storyId:u,viewMode:l,path:p,location:d}),o=p===n;return r.default.createElement(f.UnstyledLink,{key:e.id||"l".concat(t),to:n},r.default.createElement(k.TabButton,{active:o},e.title))}))),L)}}:null,{match:function(e){return"story"===e.viewMode},render:function(){return r.default.createElement(r.Fragment,null,r.default.createElement(Te.ZoomConsumer,null,(function(e){var t=e.set,n=e.value;return r.default.createElement(Te.Zoom,{key:"zoom",current:n,set:function(e){return t(n*e)},reset:function(){return t(1)}})})),A)}}]),v=j(e,w.types.TOOLEXTRA,[{match:function(e){return"story"===e.viewMode},render:function(){return r.default.createElement(C,null,r.default.createElement(k.IconButton,{key:"full",onClick:i.toggleFullscreen,title:a.isFullscreen?"Exit full screen":"Go full screen"},r.default.createElement(k.Icons,{icon:a.isFullscreen?"close":"expand"})))}},{match:function(e){return"story"===e.viewMode},render:function(){return r.default.createElement(k.IconButton,{key:"opener",onClick:function(){return n.default.open("".concat(h,"?id=").concat(u).concat(I(t)))},title:"Open canvas in new tab"},R)}},{match:function(e){return"story"===e.viewMode},render:function(){return r.default.createElement(k.IconButton,{key:"copy",onClick:function(){return(0,s.default)("".concat(n.default.location.origin).concat(n.default.location.pathname).concat(h,"?id=").concat(u).concat(I(t)))},title:"Copy canvas link"},D)}}]),g=function(e){return e&&(!e.match||e.match({storyId:u,viewMode:c&&"story"===l?"docs":l,location:d,path:p}))},m=function(e){return e.reduce((function(e,t,n){return t?r.default.createElement(r.Fragment,{key:t.id||t.key||"f-".concat(n)},e,t.render()||t):e}),null)};return{left:m(y.filter(g)),right:m(v.filter(g))}})),H=function(e){function t(){return m(this,t),_(this,E(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(o=[{key:"shouldComponentUpdate",value:function(e){var t=e.storyId,n=e.viewMode,r=e.docsOnly,o=e.options,i=e.queryParams,a=this.props;return o.isFullscreen!==a.options.isFullscreen||o.isToolshown!==a.options.isToolshown||n!==a.viewMode||r!==a.docsOnly||t!==a.storyId||i!==a.queryParams}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.api,r=t.storyId,o=t.viewMode,i=e.storyId,a=e.viewMode;(r&&r!==i||o&&o!==a)&&n.emit(p.SET_CURRENT_STORY,{storyId:r,viewMode:o})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.path,o=e.location,i=e.viewMode,a=e.docsOnly,s=e.storyId,u=e.queryParams,l=e.getElements,c=e.api,d=e.customCanvas,p=e.options,h=e.description,y=e.baseUrl,v=p.isToolshown?40:0,g=j(l,w.types.PREVIEW,M),m=j(l,w.types.TAB,[{route:function(e){return"/story/".concat(e.storyId)},match:function(e){return e.viewMode&&e.viewMode.match(/^(story|docs)$/)},render:function(e){return r.default.createElement(Te.ZoomConsumer,null,(function(n){var o=n.value,a={viewMode:i,active:e.active,wrappers:g,id:t,storyId:s,baseUrl:y,queryParams:u,scale:o,customCanvas:d};return r.default.createElement(x,a)}))},title:"Canvas",id:"canvas"}]),b=N(l,u,m,c,p,s,i,a,o,n,y),_=b.left,k=b.right;return r.default.createElement(Te.ZoomProvider,null,r.default.createElement(r.Fragment,null,"main"===t&&r.default.createElement(se.Helmet,{key:"description"},r.default.createElement("title",null,function(e){return e?"".concat(e," ⋅ Storybook"):"Storybook"}(h))),r.default.createElement(Ce.Toolbar,{key:"toolbar",shown:p.isToolshown,border:!0},r.default.createElement(r.Fragment,{key:"left"},_),r.default.createElement(r.Fragment,{key:"right"},k)),r.default.createElement(f.FrameWrap,{key:"frame",offset:v},m.map((function(e){return r.default.createElement(r.Fragment,{key:e.id||e.key},e.render({active:e.match({storyId:s,viewMode:i,location:o,path:n})}))})))))}}])&&b(n.prototype,o),i&&b(n,i),t}(r.Component);t.Preview=H,H.displayName="Preview",H.propTypes={id:o.default.string.isRequired,description:o.default.string,customCanvas:o.default.func,api:o.default.shape({on:o.default.func,off:o.default.func,emit:o.default.func,toggleFullscreen:o.default.func}).isRequired,storyId:o.default.string,path:o.default.string,viewMode:o.default.string,location:o.default.shape({}).isRequired,getElements:o.default.func.isRequired,queryParams:o.default.shape({}).isRequired,options:o.default.shape({isFullscreen:o.default.bool,isToolshown:o.default.bool}).isRequired,baseUrl:o.default.string,docsOnly:o.default.bool},H.defaultProps={viewMode:void 0,docsOnly:!1,storyId:void 0,path:void 0,description:void 0,baseUrl:"iframe.html",customCanvas:void 0}}));n(xe);xe.Preview;var Ke=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=i)&&n.__esModule?n:{default:n};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=/[^a-z0-9 ]/gi,s=/\s\s/gi,l=function(e){return" ".concat(e," ")},c=function(e,t){var n=e[t];return n?"".concat(n.kind," - ").concat(n.name).replace(a,l).replace(s," "):""},f=function(e){var t=e.api,n=e.state,r=n.layout,o=n.location,i=n.customQueryParams,a=n.storiesHash,s=n.storyId,u=a[s];return Object.assign({api:t,getElements:t.getElements,options:r,description:c(a,s)},t.getUrlState(),{queryParams:i,docsOnly:u&&u.parameters&&u.parameters.docsOnly,location:o})};function d(){try{return u.PREVIEW_URL||"iframe.html"}catch(e){return"iframe.html"}}var p=r.default.memo((function(e){return r.default.createElement(S.Consumer,{filter:f},(function(t){return r.default.createElement(xe.Preview,o({},e,{baseUrl:d()},t,{customCanvas:t.api.renderPreview}))}))}));p.displayName="PreviewConnected";var h=p;t.default=h}));n(Ke);var Me=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),o=(n=l)&&n.__esModule?n:{default:n};function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=(0,c.styled)(k.IconButton)({"@media (max-width: 599px)":{display:"none"}}),v=r.default.createElement("h1",null,"Something went wrong."),g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,p(t).call(this,e))).state={hasError:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(o=[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0}),console.error(e,t)}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,o=t.title,i=t.id;return e?v:r.default.createElement("div",{id:i,title:o},n)}}])&&f(n.prototype,o),i&&f(n,i),t}(r.Component);g.displayName="SafeTab",g.propTypes={children:o.default.oneOfType([o.default.node,o.default.func]),title:o.default.string.isRequired,id:o.default.string.isRequired},g.defaultProps={children:null};var m=r.default.createElement(k.Icons,{icon:"close"}),b=r.default.memo((function(e){var t=e.panels,n=e.actions,o=e.selectedPanel,i=e.panelPosition,a=e.absolute,u=void 0===a||a;return r.default.createElement(k.Tabs,{absolute:u,selected:o,actions:n,flex:!0,tools:r.default.createElement(r.Fragment,null,r.default.createElement(y,{key:"position",onClick:n.togglePosition,title:"Change orientation"},r.default.createElement(k.Icons,{icon:"bottom"===i?"bottombar":"sidebaralt"})),r.default.createElement(y,{key:"visibility",onClick:n.toggleVisibility,title:"Hide addons"},m)),id:"storybook-panel-root"},Object.entries(t).map((function(e){var t=s(e,2),n=t[0],o=t[1];return r.default.createElement(g,{key:n,id:n,title:o.title},o.render)})))}));b.displayName="AddonPanel",b.propTypes={selectedPanel:o.default.string,actions:o.default.shape({togglePosition:o.default.func,toggleVisibility:o.default.func}).isRequired,panels:o.default.shape({}).isRequired,panelPosition:o.default.oneOf(["bottom","right"]),absolute:o.default.bool},b.defaultProps={selectedPanel:null,panelPosition:"right",absolute:!0};var _=b;t.default=_}));n(Me);var Le=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i),r=a(d),o=a(Me);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=(0,r.default)(1)((function(e){return{onSelect:function(t){return e.setSelectedPanel(t)},toggleVisibility:function(){return e.togglePanel()},togglePosition:function(){return e.togglePanelPosition()}}})),l=function(e){var t=e.state,n=e.api;return{panels:n.getStoryPanels(),selectedPanel:n.getSelectedPanel(),panelPosition:t.layout.panelPosition,actions:u(n)}};t.default=function(e){return n.default.createElement(S.Consumer,{filter:l},(function(t){return n.default.createElement(o.default,s({},e,t))}))}}));n(Le);var Ae=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.NotificationItemSpacer=void 0;var n=o(i),r=o(l);function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.theme;return{display:"block",padding:"16px 20px",borderRadius:10,fontSize:t.typography.size.s1,fontWeight:t.typography.weight.bold,lineHeight:"16px",boxShadow:"0 5px 15px 0 rgba(0, 0, 0, 0.1), 0 2px 5px 0 rgba(0, 0, 0, 0.05)",color:t.color.inverseText,backgroundColor:"light"===t.base?(0,c.darken)(t.background.app):(0,c.lighten)(t.background.app),textDecoration:"none"}},s=(0,c.styled)(y.Link)(a),u=c.styled.div(a),f=c.styled.div({height:48});function d(e){var t=e.notification,r=t.content,o=t.link;return o?n.default.createElement(s,{to:o},r):n.default.createElement(u,null,r)}t.NotificationItemSpacer=f,d.propTypes={notification:r.default.shape({content:r.default.string.isRequired,link:r.default.string}).isRequired}}));n(Ae);Ae.NotificationItemSpacer;var Re=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=a(i),r=a(l),o=a(Ae);function a(e){return e&&e.__esModule?e:{default:e}}var s=c.styled.div({zIndex:10,"> * + *":{marginTop:10},"&:empty":{display:"none"}},(function(e){return e.placement||{bottom:0,left:0,right:0,position:"fixed"}}));function u(e){var t=e.notifications,r=e.placement;return n.default.createElement(s,{placement:r},t.map((function(e){return n.default.createElement(o.default,{key:e.id,notification:e})})))}u.displayName="NotificationList",u.propTypes={placement:r.default.shape({position:r.default.string,left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),notifications:r.default.arrayOf(r.default.shape({id:r.default.string,content:r.default.string.isRequired,link:r.default.string}).isRequired).isRequired},u.defaultProps={placement:void 0}}));n(Re);var De=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapper=void 0;var n=o(i),r=o(Re);function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return{notifications:e.state.notifications}};t.mapper=s;var u=function(e){return n.default.createElement(S.Consumer,{filter:s},(function(t){return n.default.createElement(r.default,a({},e,t))}))};u.displayName="NotificationConnect";var l=u;t.default=l}));n(De);De.mapper;var Ne=t((function(t,n){var r;n=t.exports=p,r="object"===e(f)&&f.env&&f.env.NODE_DEBUG&&/\bsemver\b/i.test(f.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},n.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,i=n.re=[],a=n.src=[],s=n.tokens={},u=0;function l(e){s[e]=u++}l("NUMERICIDENTIFIER"),a[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),a[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),a[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),a[s.MAINVERSION]="("+a[s.NUMERICIDENTIFIER]+")\\.("+a[s.NUMERICIDENTIFIER]+")\\.("+a[s.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),a[s.MAINVERSIONLOOSE]="("+a[s.NUMERICIDENTIFIERLOOSE]+")\\.("+a[s.NUMERICIDENTIFIERLOOSE]+")\\.("+a[s.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),a[s.PRERELEASEIDENTIFIER]="(?:"+a[s.NUMERICIDENTIFIER]+"|"+a[s.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),a[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+a[s.NUMERICIDENTIFIERLOOSE]+"|"+a[s.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),a[s.PRERELEASE]="(?:-("+a[s.PRERELEASEIDENTIFIER]+"(?:\\."+a[s.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),a[s.PRERELEASELOOSE]="(?:-?("+a[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+a[s.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),a[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),a[s.BUILD]="(?:\\+("+a[s.BUILDIDENTIFIER]+"(?:\\."+a[s.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),a[s.FULLPLAIN]="v?"+a[s.MAINVERSION]+a[s.PRERELEASE]+"?"+a[s.BUILD]+"?",a[s.FULL]="^"+a[s.FULLPLAIN]+"$",l("LOOSEPLAIN"),a[s.LOOSEPLAIN]="[v=\\s]*"+a[s.MAINVERSIONLOOSE]+a[s.PRERELEASELOOSE]+"?"+a[s.BUILD]+"?",l("LOOSE"),a[s.LOOSE]="^"+a[s.LOOSEPLAIN]+"$",l("GTLT"),a[s.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),a[s.XRANGEIDENTIFIERLOOSE]=a[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),a[s.XRANGEIDENTIFIER]=a[s.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),a[s.XRANGEPLAIN]="[v=\\s]*("+a[s.XRANGEIDENTIFIER]+")(?:\\.("+a[s.XRANGEIDENTIFIER]+")(?:\\.("+a[s.XRANGEIDENTIFIER]+")(?:"+a[s.PRERELEASE]+")?"+a[s.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),a[s.XRANGEPLAINLOOSE]="[v=\\s]*("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+a[s.XRANGEIDENTIFIERLOOSE]+")(?:"+a[s.PRERELEASELOOSE]+")?"+a[s.BUILD]+"?)?)?",l("XRANGE"),a[s.XRANGE]="^"+a[s.GTLT]+"\\s*"+a[s.XRANGEPLAIN]+"$",l("XRANGELOOSE"),a[s.XRANGELOOSE]="^"+a[s.GTLT]+"\\s*"+a[s.XRANGEPLAINLOOSE]+"$",l("COERCE"),a[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),i[s.COERCERTL]=new RegExp(a[s.COERCE],"g"),l("LONETILDE"),a[s.LONETILDE]="(?:~>?)",l("TILDETRIM"),a[s.TILDETRIM]="(\\s*)"+a[s.LONETILDE]+"\\s+",i[s.TILDETRIM]=new RegExp(a[s.TILDETRIM],"g");l("TILDE"),a[s.TILDE]="^"+a[s.LONETILDE]+a[s.XRANGEPLAIN]+"$",l("TILDELOOSE"),a[s.TILDELOOSE]="^"+a[s.LONETILDE]+a[s.XRANGEPLAINLOOSE]+"$",l("LONECARET"),a[s.LONECARET]="(?:\\^)",l("CARETTRIM"),a[s.CARETTRIM]="(\\s*)"+a[s.LONECARET]+"\\s+",i[s.CARETTRIM]=new RegExp(a[s.CARETTRIM],"g");l("CARET"),a[s.CARET]="^"+a[s.LONECARET]+a[s.XRANGEPLAIN]+"$",l("CARETLOOSE"),a[s.CARETLOOSE]="^"+a[s.LONECARET]+a[s.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),a[s.COMPARATORLOOSE]="^"+a[s.GTLT]+"\\s*("+a[s.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),a[s.COMPARATOR]="^"+a[s.GTLT]+"\\s*("+a[s.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),a[s.COMPARATORTRIM]="(\\s*)"+a[s.GTLT]+"\\s*("+a[s.LOOSEPLAIN]+"|"+a[s.XRANGEPLAIN]+")",i[s.COMPARATORTRIM]=new RegExp(a[s.COMPARATORTRIM],"g");l("HYPHENRANGE"),a[s.HYPHENRANGE]="^\\s*("+a[s.XRANGEPLAIN]+")\\s+-\\s+("+a[s.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),a[s.HYPHENRANGELOOSE]="^\\s*("+a[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+a[s.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),a[s.STAR]="(<|>)?=?\\s*\\*";for(var c=0;c<u;c++)r(c,a[c]),i[c]||(i[c]=new RegExp(a[c]));function d(t,n){if(n&&"object"===e(n)||(n={loose:!!n,includePrerelease:!1}),t instanceof p)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(n.loose?i[s.LOOSE]:i[s.FULL]).test(t))return null;try{return new p(t,n)}catch(e){return null}}function p(t,n){if(n&&"object"===e(n)||(n={loose:!!n,includePrerelease:!1}),t instanceof p){if(t.loose===n.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof p))return new p(t,n);r("SemVer",t,n),this.options=n,this.loose=!!n.loose;var a=t.trim().match(n.loose?i[s.LOOSE]:i[s.FULL]);if(!a)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}n.parse=d,n.valid=function(e,t){var n=d(e,t);return n?n.version:null},n.clean=function(e,t){var n=d(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},n.SemVer=p,p.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},p.prototype.toString=function(){return this.version},p.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof p||(e=new p(e,this.options)),this.compareMain(e)||this.comparePre(e)},p.prototype.compareMain=function(e){return e instanceof p||(e=new p(e,this.options)),y(this.major,e.major)||y(this.minor,e.minor)||y(this.patch,e.patch)},p.prototype.comparePre=function(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return y(n,o)}while(++t)},p.prototype.compareBuild=function(e){e instanceof p||(e=new p(e,this.options));var t=0;do{var n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return y(n,o)}while(++t)},p.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},n.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new p(e,n).inc(t,r).version}catch(e){return null}},n.diff=function(e,t){if(b(e,t))return null;var n=d(e),r=d(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},n.compareIdentifiers=y;var h=/^[0-9]+$/;function y(e,t){var n=h.test(e),r=h.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function v(e,t,n){return new p(e,n).compare(new p(t,n))}function g(e,t,n){return v(e,t,n)>0}function m(e,t,n){return v(e,t,n)<0}function b(e,t,n){return 0===v(e,t,n)}function _(e,t,n){return 0!==v(e,t,n)}function k(e,t,n){return v(e,t,n)>=0}function E(e,t,n){return v(e,t,n)<=0}function O(t,n,r,o){switch(n){case"===":return"object"===e(t)&&(t=t.version),"object"===e(r)&&(r=r.version),t===r;case"!==":return"object"===e(t)&&(t=t.version),"object"===e(r)&&(r=r.version),t!==r;case"":case"=":case"==":return b(t,r,o);case"!=":return _(t,r,o);case">":return g(t,r,o);case">=":return k(t,r,o);case"<":return m(t,r,o);case"<=":return E(t,r,o);default:throw new TypeError("Invalid operator: "+n)}}function w(t,n){if(n&&"object"===e(n)||(n={loose:!!n,includePrerelease:!1}),t instanceof w){if(t.loose===!!n.loose)return t;t=t.value}if(!(this instanceof w))return new w(t,n);r("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===S?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}n.rcompareIdentifiers=function(e,t){return y(t,e)},n.major=function(e,t){return new p(e,t).major},n.minor=function(e,t){return new p(e,t).minor},n.patch=function(e,t){return new p(e,t).patch},n.compare=v,n.compareLoose=function(e,t){return v(e,t,!0)},n.compareBuild=function(e,t,n){var r=new p(e,n),o=new p(t,n);return r.compare(o)||r.compareBuild(o)},n.rcompare=function(e,t,n){return v(t,e,n)},n.sort=function(e,t){return e.sort((function(e,r){return n.compareBuild(e,r,t)}))},n.rsort=function(e,t){return e.sort((function(e,r){return n.compareBuild(r,e,t)}))},n.gt=g,n.lt=m,n.eq=b,n.neq=_,n.gte=k,n.lte=E,n.cmp=O,n.Comparator=w;var S={};function P(t,n){if(n&&"object"===e(n)||(n={loose:!!n,includePrerelease:!1}),t instanceof P)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new P(t.raw,n);if(t instanceof w)return new P(t.value,n);if(!(this instanceof P))return new P(t,n);if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function C(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n}function I(e){return!e||"x"===e.toLowerCase()||"*"===e}function T(e,t,n,r,o,i,a,s,u,l,c,f,d){return((t=I(n)?"":I(r)?">="+n+".0.0":I(o)?">="+n+"."+r+".0":">="+t)+" "+(s=I(u)?"":I(l)?"<"+(+u+1)+".0.0":I(c)?"<"+u+"."+(+l+1)+".0":f?"<="+u+"."+l+"."+c+"-"+f:"<="+s)).trim()}function j(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==S&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function x(e,t,n){try{t=new P(t,n)}catch(e){return!1}return t.test(e)}function K(e,t,n,r){var o,i,a,s,u;switch(e=new p(e,r),t=new P(t,r),n){case">":o=g,i=E,a=m,s=">",u=">=";break;case"<":o=m,i=k,a=g,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(x(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var c=t.set[l],f=null,d=null;if(c.forEach((function(e){e.semver===S&&(e=new w(">=0.0.0")),f=f||e,d=d||e,o(e.semver,f.semver,r)?f=e:a(e.semver,d.semver,r)&&(d=e)})),f.operator===s||f.operator===u)return!1;if((!d.operator||d.operator===s)&&i(e,d.semver))return!1;if(d.operator===u&&a(e,d.semver))return!1}return!0}w.prototype.parse=function(e){var t=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new p(n[2],this.options.loose):this.semver=S},w.prototype.toString=function(){return this.value},w.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===S||e===S)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return O(e,this.operator,this.semver,this.options)},w.prototype.intersects=function(t,n){if(!(t instanceof w))throw new TypeError("a Comparator is required");var r;if(n&&"object"===e(n)||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new P(t.value,n),x(this.value,r,n));if(""===t.operator)return""===t.value||(r=new P(this.value,n),x(t.semver,r,n));var o=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),a=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),u=O(this.semver,"<",t.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),l=O(this.semver,">",t.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return o||i||a&&s||u||l},n.Range=P,P.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},P.prototype.toString=function(){return this.range},P.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[s.HYPHENRANGELOOSE]:i[s.HYPHENRANGE];e=e.replace(n,T),r("hyphen replace",e),e=e.replace(i[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,i[s.COMPARATORTRIM]),e=(e=(e=e.replace(i[s.TILDETRIM],"$1~")).replace(i[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var o=t?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[s.CARETLOOSE]:i[s.CARET];return e.replace(n,(function(t,n,o,i,a){var s;return r("caret",e,t,n,o,i,a),I(n)?s="":I(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":I(i)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),s="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[s.TILDELOOSE]:i[s.TILDE];return e.replace(n,(function(t,n,o,i,a){var s;return r("tilde",e,t,n,o,i,a),I(n)?s="":I(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":I(i)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":a?(r("replaceTilde pr",a),s=">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[s.XRANGELOOSE]:i[s.XRANGE];return e.replace(n,(function(n,o,i,a,s,u){r("xRange",e,n,o,i,a,s,u);var l=I(i),c=l||I(a),f=c||I(s),d=f;return"="===o&&d&&(o=""),u=t.includePrerelease?"-0":"",l?n=">"===o||"<"===o?"<0.0.0-0":"*":o&&d?(c&&(a=0),s=0,">"===o?(o=">=",c?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===o&&(o="<",c?i=+i+1:a=+a+1),n=o+i+"."+a+"."+s+u):c?n=">="+i+".0.0"+u+" <"+(+i+1)+".0.0"+u:f&&(n=">="+i+"."+a+".0"+u+" <"+i+"."+(+a+1)+".0"+u),r("xRange return",n),n}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[s.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(o)}))),a=a.map((function(e){return new w(e,this.options)}),this)},P.prototype.intersects=function(e,t){if(!(e instanceof P))throw new TypeError("a Range is required");return this.set.some((function(n){return C(n,t)&&e.set.some((function(e){return C(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},n.toComparators=function(e,t){return new P(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},P.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(j(this.set[t],e,this.options))return!0;return!1},n.satisfies=x,n.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new P(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new p(r=e,n)))})),r},n.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new P(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new p(r=e,n)))})),r},n.minVersion=function(e,t){e=new P(e,t);var n=new p("0.0.0");if(e.test(n))return n;if(n=new p("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new p(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!g(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},n.validRange=function(e,t){try{return new P(e,t).range||"*"}catch(e){return null}},n.ltr=function(e,t,n){return K(e,t,"<",n)},n.gtr=function(e,t,n){return K(e,t,">",n)},n.outside=K,n.prerelease=function(e,t){var n=d(e,t);return n&&n.prerelease.length?n.prerelease:null},n.intersects=function(e,t,n){return e=new P(e,n),t=new P(t,n),e.intersects(t)},n.coerce=function(e,t){if(e instanceof p)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=i[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),i[s.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;i[s.COERCERTL].lastIndex=-1}else n=e.match(i[s.COERCE]);if(null===n)return null;return d(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}}));Ne.SEMVER_SPEC_VERSION,Ne.re,Ne.src,Ne.tokens,Ne.parse,Ne.valid,Ne.clean,Ne.SemVer,Ne.inc,Ne.diff,Ne.compareIdentifiers,Ne.rcompareIdentifiers,Ne.major,Ne.minor,Ne.patch,Ne.compare,Ne.compareLoose,Ne.compareBuild,Ne.rcompare,Ne.sort,Ne.rsort,Ne.gt,Ne.lt,Ne.eq,Ne.neq,Ne.gte,Ne.lte,Ne.cmp,Ne.Comparator,Ne.Range,Ne.toComparators,Ne.satisfies,Ne.maxSatisfying,Ne.minSatisfying,Ne.minVersion,Ne.validRange,Ne.ltr,Ne.gtr,Ne.outside,Ne.prerelease,Ne.intersects,Ne.coerce;function He(t){return(He="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Be(e,t,n[t])}))}return e}function We(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $e(e,t,n){return($e=Ve()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Ye(o,n.prototype),o}).apply(null,arguments)}function Je(e){var t="function"==typeof Map?new Map:void 0;return(Je=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $e(e,arguments,Xe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ye(r,e)})(e)}function Ze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?Qe(t):n}function tt(e,t,n){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function nt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return e.reduce((function(e,n){return e[n]=t||{value:n},e}),{})}var ot={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var n=t.tagName.toLowerCase();return at.option("_ignoreTagsDict")[n]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},it=Ge({},ot);it._ignoreTagsDict=rt(it.ignoreTags,!0);var at=function(){function e(){Fe(this,e)}return Ue(e,null,[{key:"init",value:function(e){var t=this,n=e.ignoreTags,r=e.customKeyCodes;n&&(e._ignoreTagsDict=rt(e.ignoreTags)),r&&(e._customKeyNamesDict=rt(Object.values(e.customKeyCodes))),-1!==["verbose","debug","info"].indexOf(e.logLevel)&&console.warn("React HotKeys: You have requested log level '".concat(e.logLevel,"' but for performance reasons, logging below severity level 'warning' is disabled in production. Please use the development build for complete logs.")),Object.keys(e).forEach((function(n){t.set(n,e[n])}))}},{key:"set",value:function(e,t){it[e]=t}},{key:"reset",value:function(e){it[e]=ot[e]}},{key:"option",value:function(e){return it[e]}}]),e}(),st=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"warn";Fe(this,e),Be(this,"verbose",this.noop),Be(this,"debug",this.noop),Be(this,"info",this.noop),Be(this,"warn",this.noop),Be(this,"error",this.noop),this.logLevel=this.constructor.levels[n],this.logLevel>=this.constructor.levels.error&&(this.error=console.error,this.logLevel>=this.constructor.levels.warn&&(this.warn=console.warn,["info","debug","verbose"].some((function(e){return!(t.logLevel>=t.constructor.levels[e]&&(t[e]=console.log,1))}))))}return Ue(e,[{key:"noop",value:function(){}}]),e}();Be(st,"logIcons",["📕","📗","📘","📙"]),Be(st,"componentIcons",["🔺","⭐️","🔷","🔶","⬛️"]),Be(st,"eventIcons",["❤️","💚","💙","💛","💜","🧡"]),Be(st,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});var ut={keydown:0,keypress:1,keyup:2},lt={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},ct={"`":["~"],1:["!"],2:["@",'"'],3:["#","£"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};function ft(e){return ct[e]||[1===e.length?e.toUpperCase():e]}function dt(e,t){return e.hasOwnProperty(t)}function pt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(n,r){var o=e[r];return o.forEach((function(e){dt(n,e)||(n[e]=[]),n[e].push(r)})),t.includeOriginal&&(!dt(n,r)&&(n[r]=[]),n[r]=[].concat(nt(n[r]),nt(o))),n}),{})}var ht=pt(ct);function yt(e){return ht[e]||[1===e.length?e.toLowerCase():e]}var vt=pt({},{includeOriginal:!0});function gt(e){return"string"==typeof e}function mt(e){return gt(e)?e.trim().replace(/\s+/g," "):e}var bt={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},_t={cmd:"Meta"};function kt(e){var t=e.toLowerCase();return bt[t]||_t[t]||(e.match(/^f\d+$/)?e.toUpperCase():e)}var Et={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ot=rt(Object.values(Et),!0);function wt(e){return!!Ot[e]}function St(e){return wt(e)||String.fromCharCode(e.charCodeAt(0))===e||function(e){return at.option("_customKeyNamesDict")[e]}(e)}var Pt=function(e){function t(){var e,n;Fe(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return Be(Qe(Qe(n=et(this,(e=Xe(t)).call.apply(e,[this].concat(o))))),"name","InvalidKeyNameError"),n}return We(t,Je(Error)),t}();function Ct(e){return e.sort().join("+")}var It=function(){function e(){Fe(this,e)}return Ue(e,null,[{key:"parse",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=mt(e),r=n.split(" ");try{var o=r.slice(0,r.length-1),i=r[r.length-1],a=o.map((function(e){var n=Tt(e,t);return Ct(Object.keys(n))})).join(" "),s=Tt(i,t),u=Ct(Object.keys(s)),l={id:u,keyDictionary:s,keyEventType:t.keyEventType,size:Object.keys(s).length};return{sequence:{prefix:a,size:o.length+1},combination:l}}catch(e){return{sequence:null,combination:null}}}}]),e}();function Tt(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce((function(e,n){var r=kt(n);if(t.ensureValidKeys&&!St(r))throw new Pt;return e[r]=!0,e}),{})}var jt={"`":["`"],1:["¡"],2:["™"],3:["£"],4:["¢"],5:["∞"],6:["§"],7:["¶"],8:["•"],9:["ª"],0:["º"],"-":["–"],"=":["≠"],a:["å"],b:["∫"],c:["ç"],d:["∂"],e:["´"],f:["ƒ"],g:["©"],h:["˙"],i:["ˆ"],j:["∆"],k:["˚"],l:["¬"],m:["µ"],n:["˜"],o:["ø"],p:["π"],q:["œ"],r:["®"],s:["ß"],t:["†"],u:["¨"],v:["√"],w:["∑"],x:["≈"],y:["¥"],z:["Ω"],"[":["“"],"]":["‘"],"\\":["«"],"'":["æ"],";":["…"],",":["≤"],".":["≥"],"/":["÷"]},xt=pt(jt);function Kt(e){return xt[e]||[e]}function Mt(e){return jt[e]||[e]}var Lt={"`":["`"],1:["⁄"],2:["€"],3:["‹"],4:["›"],5:["ﬁ"],6:["ﬂ"],7:["‡"],8:["°"],9:["·"],0:["‚"],"-":["—"],"=":["±"],a:["Å"],b:["ı"],c:["Ç"],d:["Î"],e:["´"],f:["Ï"],g:["˝"],h:["Ó"],i:["ˆ"],j:["Ô"],k:[""],l:["Ò"],m:["Â"],n:["˜"],o:["Ø"],p:["π"],q:["Œ"],r:["‰"],s:["Í"],t:["Î"],u:["¨"],v:["◊"],w:["„"],x:["˛"],y:["Á"],z:["¸"],"[":["”"],"]":["’"],"\\":["»"],"'":["Æ"],";":["Ú"],",":["¯"],".":["˘"]},At=pt(Lt);function Rt(e){return At[e]||yt(e)}function Dt(e){return Lt[e]||[e]}var Nt=function(){function e(){Fe(this,e)}return Ue(e,null,[{key:"serialize",value:function(e){var t=e.Shift,n=e.Alt,r={};return Object.keys(e).sort().forEach((function(e){var o=[];if(t)if(n){var i=Rt(e),a=Dt(e);o=[].concat(nt(o),[e],nt(i),nt(a))}else{var s=yt(e),u=ft(e);o=[].concat(nt(o),[e],nt(s),nt(u))}else if(n){var l=Kt(e),c=Mt(e);o=[].concat(nt(o),[e],nt(l),nt(c))}else{o.push(e);var f=vt[e];f&&(o=[].concat(nt(o),nt(f)))}var d=Object.keys(r);0<d.length?d.forEach((function(e){o.forEach((function(t){r[e+"+".concat(t)]=Ge({},r[e],Be({},t,!0))})),delete r[e]})):o.forEach((function(e){r[e]=Be({},e,!0)}))})),Object.values(r).map((function(e){return Object.keys(e).sort().join("+")}))}},{key:"isValidKeySerialization",value:function(e){return!!(0<e.length)&&!!It.parse(e,{ensureValidKeys:!0}).combination}}]),e}(),Ht=0,Ft=1;function qt(e){return void 0===e}var Ut=0,Bt=1,zt=2,Gt=function(){function e(){Fe(this,e)}return Ue(e,null,[{key:"newRecord",value:function(e,t){var n=[Ut,Ut,Ut];if(!qt(e))for(var r=0;r<=e;r++)n[r]=t;return n}},{key:"setBit",value:function(e,t,n){return e[t]=n,e}},{key:"clone",value:function(e){for(var t=this.newRecord(),n=0;n<e.length;n++)t[n]=e[n];return t}}]),e}();function Wt(e){return!Array.isArray(e)&&"object"===He(e)&&null!==e}function Xt(e){return Wt(e)?0===Object.keys(e).length:!e||0===e.length}function Yt(e){return Wt(e)?Object.keys(e).length:e.length}var Vt=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fe(this,e),this._keys=t,this._includesKeyUp=!1,this._update()}return Ue(e,[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(e){if(this._keys[e])return e;var t=this._keyAliases[e];return t||e}},{key:"getNumberOfKeys",value:function(){return Yt(this._keys)}},{key:"any",value:function(){return 0<Object.keys(this._getKeyStates()).length}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return Xt(this.keysStillPressedDict())}},{key:"addKey",value:function(e,t){this._setKeyState(e,[Gt.newRecord(),Gt.newRecord(ut.keydown,t)])}},{key:"setKeyState",value:function(e,t,n){var r=this._getKeyState(e);if(this.isKeyIncluded(e)){var o=Gt.clone(r[1]),i=Gt.clone(o);Gt.setBit(i,t,n),this._setKeyState(e,[o,i])}else this.addKey(e,n);t===ut.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(e){return Object.keys(this._keys).forEach(e)}},{key:"some",value:function(e){return Object.keys(this._keys).some(e)}},{key:"getKeyDictionary",value:function(){return rt(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var e=this;return Object.keys(this._keys).reduce((function(t,n){return e.isKeyStillPressed(n)&&(t[n]=e._getKeyState(n)),t}),{})}},{key:"isKeyIncluded",value:function(e){return!!this._getKeyState(e)}},{key:"isKeyStillPressed",value:function(e){return this.isEventTriggered(e,ut.keypress)&&!this.isKeyReleased(e)}},{key:"isKeyReleased",value:function(e){return this.isEventTriggered(e,ut.keyup)}},{key:"isEventTriggered",value:function(e,t){return this._getKeyStateType(e,Ft,t)}},{key:"wasEventPreviouslyTriggered",value:function(e,t){return this._getKeyStateType(e,Ht,t)}},{key:"isKeyPressSimulated",value:function(e){return this._isKeyEventSimulated(e,ut.keypress)}},{key:"isKeyUpSimulated",value:function(e){return this._isKeyEventSimulated(e,ut.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(e,t,n){var r=this._getKeyState(e);return r&&r[t][n]}},{key:"_update",value:function(){this._ids=Nt.serialize(this._keys),this._keyAliases=function(e){return Object.keys(e).reduce((function(t,n){return function(e){return vt[e]||[e]}(n).forEach((function(r){(function(e){if(e.Shift)return e.Alt?[Dt,Rt]:[ft,yt];if(e.Alt)return[Mt,Kt];var t=function(e){return[e]};return[t,t]})(e).forEach((function(e){e(r).forEach((function(e){(e!==n||n!==r)&&(t[e]=n)}))}))})),t}),{})}(this._keys)}},{key:"_isKeyEventSimulated",value:function(e,t){return this.isEventTriggered(e,t)===zt}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(e){var t=this._keys[e];if(t)return t;var n=this._keyAliases[e];return n?this._keys[n]:void 0}},{key:"_setKeyState",value:function(e,t){var n=this.getNormalizedKeyName(e);this._keys[n]=t,this._update()}}]),e}();var $t=function(){function e(t){var n=t.maxLength,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Fe(this,e),this._records=[],this._maxLength=n,r?this._push(r):this._push(new Vt)}return Ue(e,[{key:"getMostRecentCombinations",value:function(e){return this._records.slice(-e,-1)}},{key:"any",value:function(){return this._records.some((function(e){return e.any()}))}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(e,t,n){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(e,t,n)}},{key:"setMaxLength",value:function(e){this._maxLength=e,this._trimHistory()}},{key:"startNewKeyCombination",value:function(e,t){this._ensureInitialKeyCombination();var n=new Vt(this.getCurrentCombination().keysStillPressedDict());n.addKey(e,t),this._push(n)}},{key:"toJSON",value:function(){return this._records.map((function(e){return e.toJSON()}))}},{key:"_ensureInitialKeyCombination",value:function(){0===this.getLength()&&this._push(new Vt)}},{key:"_push",value:function(e){this._trimHistory(),this._records.push(e)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}]),e}(),Jt=function(){function e(){Fe(this,e),this._registry={}}return Ue(e,[{key:"get",value:function(e){return this._registry[e]}},{key:"set",value:function(e,t){this._registry[e]=t}},{key:"remove",value:function(e){delete this._registry[e]}},{key:"toJSON",value:function(){return this._registry}}]),e}();function Zt(e){return Array.isArray(e)?e:e?[e]:[]}var Qt=function(e){function t(){return Fe(this,t),et(this,Xe(t).apply(this,arguments))}return We(t,Jt),Ue(t,[{key:"add",value:function(e,n){tt(Xe(t.prototype),"set",this).call(this,e,{childIds:[],parentId:null,keyMap:n})}},{key:"update",value:function(e,n){var r=tt(Xe(t.prototype),"get",this).call(this,e);tt(Xe(t.prototype),"set",this).call(this,e,Ge({},r,{keyMap:n}))}},{key:"setParent",value:function(e,t){this.get(e).parentId=t,this._addChildId(t,e)}},{key:"remove",value:function(e){var n=this._getParentId(e);this._removeChildId(n,e),tt(Xe(t.prototype),"remove",this).call(this,e)}},{key:"_getParentId",value:function(e){var t=this.get(e);return t&&t.parentId}},{key:"_addChildId",value:function(e,t){this.get(e).childIds.push(t)}},{key:"_removeChildId",value:function(e,t){var n=this.get(e);n&&(n.childIds=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=rt(Zt(t));return Array.isArray(e)?e.reduce((function(e,t){return r[t]&&(n.stringifyFirst||r[t].value===t)||e.push(t),e}),[]):Wt(e)?Object.keys(e).reduce((function(t,n){return r[n]||(t[n]=e[n]),t}),{}):e}(n.childIds,t))}}]),t}();var en=function(){function e(t){Fe(this,e),this._list=t,this._position=-1}return Ue(e,[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}]),e}(),tn=function(){function e(){Fe(this,e),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=Gt.newRecord()}return Ue(e,[{key:"getNewIterator",value:function(){return new en(this)}},{key:"add",value:function(e,t,n,r){if(this.containsId(e))return this.update(e,t,n,r);var o=this._build(e,t,n,r);this._list.push(o);var i=this._getLastIndex();return this._idToIndex[e]=i}},{key:"containsId",value:function(e){return!!this.get(e)}},{key:"get",value:function(e){return this.getAtPosition(this.getIndexById(e))}},{key:"getIndexById",value:function(e){return this._idToIndex[e]}},{key:"update",value:function(e,t,n,r){var o=this._isUpdatingComponentWithLongestSequence(e),i=this.getLongestSequence(),a=this._build(e,t,n,r);o&&a.sequenceLength!==i&&(a.sequenceLength>i?this._longestSequence=a.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(e)]=a}},{key:"remove",value:function(e){var t=this._isUpdatingComponentWithLongestSequence(e);this.removeAtPosition(this.getIndexById(e)),t&&this._recalculateLongestSequence()}},{key:"any",value:function(){return 0!==this.getLength()}},{key:"isRoot",value:function(e){return this.getIndexById(e)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(e){return!!this._keyMapEventRecord[e]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(e){return this._list[e]}},{key:"removeAtPosition",value:function(e){this._list=function(e,t){return[].concat(nt(e.slice(0,t)),nt(e.slice(t+1)))}(this._list,e);for(var t=e;t<this.getLength();)this._idToIndex[this.getAtPosition(t).componentId]=t,t++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(e,t,n,r){var o=this._applyHardSequences(t,n),i=o.keyMap,a=o.handlers;return{actions:this._buildActionDictionary(Ge({},t,i),r,e),handlers:a,componentId:e,options:r}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(e){return e===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var e=this.getNewIterator();e.next();){var t=e.getComponent(),n=t.longestSequence,r=t.componentId;n>this.getLongestSequence()&&(this._longestSequenceComponentId=r,this._longestSequence=n)}}},{key:"_applyHardSequences",value:function(e,t){return at.option("enableHardSequences")?Object.keys(t).reduce((function(n,r){return!!!e[r]&&Nt.isValidKeySerialization(r)&&(n.keyMap[r]=r),n.handlers[r]=t[r],n}),{keyMap:{},handlers:{}}):{keyMap:e,handlers:t}}},{key:"_buildActionDictionary",value:function(e,t,n){var r=this;return Object.keys(e).reduce((function(o,i){var a=e[i];return(Wt(a)&&dt(a,"sequences")?Zt(a.sequences):Zt(a)).forEach((function(e){var a=function(e,t){if(Wt(e)){var n=e.sequence,r=e.action;return{keySequence:n,keyEventType:qt(r)?ut[t.defaultKeyEvent]:ut[r]}}return{keySequence:e,keyEventType:ut[t.defaultKeyEvent]}}(e,t),s=a.keySequence,u=a.keyEventType;r._addActionOptions(o,n,i,s,u)})),o}),{})}},{key:"_addActionOptions",value:function(e,t,n,r,o){var i=It.parse(r,{keyEventType:o}),a=i.sequence,s=i.combination;a.size>this.getLongestSequence()&&(this._longestSequence=a.size,this._longestSequenceComponentId=t),this._keyMapEventRecord[o]=Bt,e[n]||(e[n]=[]),e[n].push(Ge({prefix:a.prefix,actionName:n,sequenceLength:a.size},s))}}]),e}();function nn(e,t){return e[e.length-(t+1)]}for(var rn={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},on=1;13>on;on++)rn["F".concat(on)]=!0;function an(e){return 1===e.length||dt(rn,e)}var sn=function(){function e(){Fe(this,e),this._actionConfigs={},this._order=null}return Ue(e,[{key:"addMatch",value:function(e,t){if(this._includesMatcherForCombination(e.id)){var n=e.keyEventType,r=e.actionName,o=e.id;this._addHandlerToActionConfig(o,{keyEventType:n,actionName:r,handler:t})}else this._addNewActionConfig(e,t)}},{key:"findMatch",value:function(e,t,n){this._order||this._setOrder();var r=!0,o=!1,i=void 0;try{for(var a,s=this._order[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this._actionConfigs[u];if(this._matchesActionConfig(e,t,n,l))return l}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(e,t,n,r){if(!function(e,t){var n=Yt(t.keyDictionary);return at.option("allowCombinationSubmatches")||function(e){return!!e.isKeyStillPressed("Meta")&&e.some((function(e){return an(e)}))}(e)?e.getNumberOfKeys()>=n:e.getNumberOfKeys()===n}(e,r))return!1;if(!r.events[n])return!1;var o=!1;return Object.keys(r.keyDictionary).every((function(r){return!!e.isEventTriggered(r,n)&&(t&&t===e.getNormalizedKeyName(r)&&(o=!e.wasEventPreviouslyTriggered(r,n)),!0)}))&&o}},{key:"_setOrder",value:function(){var e=Object.values(this._actionConfigs).reduce((function(e,t){var n=t.id,r=t.size;return e[r]||(e[r]=[]),e[r].push(n),e}),{});this._order=Object.keys(e).sort((function(e,t){return t-e})).reduce((function(t,n){return t.concat(e[n])}),[])}},{key:"_addNewActionConfig",value:function(e,t){var n=e.prefix,r=e.sequenceLength,o=e.id,i=e.keyDictionary,a=e.size,s=e.keyEventType,u=e.actionName;this._setCombinationMatcher(o,{prefix:n,sequenceLength:r,id:o,keyDictionary:i,size:a,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:s,actionName:u,handler:t})}},{key:"_addHandlerToActionConfig",value:function(e,t){var n=t.keyEventType,r=t.actionName,o=t.handler,i=this._getCombinationMatcher(e);this._setCombinationMatcher(e,Ge({},i,{events:Ge({},i.events,Be({},n,{actionName:r,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(e,t){this._actionConfigs[e]=t}},{key:"_getCombinationMatcher",value:function(e){return this._actionConfigs[e]}},{key:"_includesMatcherForCombination",value:function(e){return!!this._getCombinationMatcher(e)}}]),e}();var un=function(){function e(){Fe(this,e),this._combinationMatchers={},this._eventRecord=Gt.newRecord()}return Ue(e,[{key:"addMatch",value:function(e,t){this._getOrCreateCombinationMatcher(e.prefix).addMatch(e,t),Gt.setBit(this._eventRecord,e.keyEventType,Bt),(!this._longestSequence||this._longestSequence<e.sequenceLength)&&(this._longestSequence=e.sequenceLength)}},{key:"findMatch",value:function(e,t,n){var r=this._findCombinationMatcher(e);return r?r.findMatch(e.getCurrentCombination(),e.getCurrentCombination().getNormalizedKeyName(t),n):null}},{key:"hasMatchesForEventType",value:function(e){return!!this._eventRecord[e]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var e=this;return Object.keys(this._combinationMatchers).reduce((function(t,n){var r=e._combinationMatchers[n];return t[n]=r.toJSON(),t}),{})}},{key:"_getOrCreateCombinationMatcher",value:function(e){return this._combinationMatchers[e]||(this._combinationMatchers[e]=new sn),this._combinationMatchers[e]}},{key:"_findCombinationMatcher",value:function(e){var t=e.getMostRecentCombinations(this.getLongestSequence());if(0===t.length)return this._combinationMatchers[""];for(var n=t.map((function(e){return e.getIds()})),r=n.map((function(e){return e.length})),o=Array(n.length).fill(0),i=!1;!i;){var a=o.map((function(e,t){return n[t][e]})).join(" ");if(this._combinationMatchers[a])return this._combinationMatchers[a];for(var s=0,u=!0;u&&s<o.length;){var l=(nn(o,s)+1)%(nn(r,s)||1);o[o.length-(s+1)]=l,(u=0==l)&&s++}i=s===o.length}}}]),e}(),ln=function(){function e(t){Fe(this,e),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var n=t.getNewIterator();n.next();){var r=n.getComponent().handlers;this._unmatchedHandlerStatus.push([Object.keys(r).length,{}]),this._keyMapMatchers.push(new un)}this._componentList=t,this._componentListIterator=t.getNewIterator()}return Ue(e,[{key:"getKeyHistoryMatcher",value:function(e){if(this._componentHasUnmatchedHandlers(e))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(e)}},{key:"componentHasActionsBoundToEventType",value:function(e,t){return this.getKeyHistoryMatcher(e).hasMatchesForEventType(t)}},{key:"findMatchingKeySequenceInComponent",value:function(e,t,n,r){return this.componentHasActionsBoundToEventType(e,r)?this.getKeyHistoryMatcher(e).findMatch(t,n,r):null}},{key:"_getKeyHistoryMatcher",value:function(e){return this._keyMapMatchers[e]}},{key:"_addActionsFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().actions;Object.keys(t).forEach((function(n){var r=e._getHandlers(n);if(r){var o=r[0],i=e._componentList.getAtPosition(o).handlers[n],a=e._getKeyHistoryMatcher(o);t[n].forEach((function(t){var n=[t.prefix,t.id].join(" ");e._isClosestHandlerFound(n,t)||(a.addMatch(t,i),e._addKeySequence(n,[o,t.keyEventType]))})),r.forEach((function(t){var r=e._getUnmatchedHandlerStatus(t);r[1][n]||(r[1][n]=!0,r[0]--)}))}}))}},{key:"_getHandlers",value:function(e){return this._handlersDictionary[e]}},{key:"_addHandlersFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().handlers;Object.keys(t).forEach((function(t){e._addHandler(t)}))}},{key:"_addHandler",value:function(e){this._handlersDictionary[e]||(this._handlersDictionary[e]=[]),this._handlersDictionary[e].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(e,t){this._keySequencesDictionary[e]||(this._keySequencesDictionary[e]=[]),this._keySequencesDictionary[e].push(t)}},{key:"_componentHasUnmatchedHandlers",value:function(e){return 0<this._getUnmatchedHandlerStatus(e)[0]}},{key:"_getUnmatchedHandlerStatus",value:function(e){return this._unmatchedHandlerStatus[e]}},{key:"_isClosestHandlerFound",value:function(e,t){return this._keySequencesDictionary[e]&&this._keySequencesDictionary[e].some((function(e){return e[1]===t.keyEventType}))}}]),e}();function cn(e,t,n){return n.forEach((function(n){dt(e,n)&&(t[n]=e[n])})),t}function fn(e){switch(parseInt(e,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function dn(e){return e.simulated?zt:Bt}var pn=["sequence","action"],hn=["name","description","group"],yn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;Fe(this,e),this.logger=t.logger||new st("warn"),this.componentId=-1,this.keyEventManager=n,this._componentTree=new Qt,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}return Ue(e,[{key:"_reset",value:function(){this.componentList=new tn,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new $t({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this._keyHistory=this.getKeyHistory().any()&&!e.force?new $t({maxLength:this.componentList.getLongestSequence()},new Vt(this.getCurrentCombination().keysStillPressedDict())):this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return null===this.rootComponentId?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(e,t){var n=this;return e.forEach((function(e){var r=n._componentTree.get(e),o=r.childIds,i=r.keyMap;i&&Object.keys(i).forEach((function(e){var r=i[e];t[e]={},Wt(r)?dt(r,"sequences")?(cn(r,t[e],hn),t[e].sequences=n._createSequenceFromConfig(r.sequences)):(cn(r,t[e],hn),t[e].sequences=[cn(r,{},pn)]):t[e].sequences=n._createSequenceFromConfig(r)})),n._buildApplicationKeyMap(o,t)})),t}},{key:"_createSequenceFromConfig",value:function(e){return Zt(e).map((function(e){return Wt(e)?cn(e,{},pn):{sequence:e}}))}},{key:"registerKeyMap",value:function(e){return this.componentId+=1,this._componentTree.add(this.componentId,e),this.componentId}},{key:"reregisterKeyMap",value:function(e,t){this._componentTree.update(e,t)}},{key:"registerComponentMount",value:function(e,t){qt(t)?this.rootComponentId=e:this._componentTree.setParent(e,t)}},{key:"deregisterKeyMap",value:function(e){this._componentTree.remove(e),e===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;this.componentList.add(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(e,t){var n=function(e){return!wt(e)}(t),r=this.getCurrentCombination();return e===ut.keypress?!n||n&&r.isKeyStillPressed("Meta"):e===ut.keyup&&an(t)&&r.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(e,t){return Ge({},Object.keys(lt).reduce((function(t,n){return t[n]=e[n],t}),{}),t)}},{key:"_callClosestMatchingHandler",value:function(e,t,n,r,o){for(this._actionResolver||(this._actionResolver=new ln(this.componentList));o<=r;){this._actionResolver.getKeyHistoryMatcher(o);var i=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),t,n);this.getCurrentCombination();if(i){var a=i.events[n];if(at.option("allowCombinationSubmatches"))Nt.serialize(i.keyDictionary);return a.handler(e),this._stopEventPropagationAfterHandlingIfEnabled(e,o),!0}this._actionResolver.componentHasActionsBoundToEventType(o,n),o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(e,t){return!!at.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(e,t),!0)}},{key:"_stopEventPropagation",value:function(){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(e,t,n){var r=this;Object.keys(lt).forEach((function(o){if(t!==o||n!==ut.keyup){var i=r.getCurrentCombination(),a=i.isKeyStillPressed(o);lt[o].forEach((function(t){!1===e[t]&&a&&i.setKeyState(o,ut.keyup,dn(e))}))}}))}},{key:"_logPrefix",value:function(){}}]),e}(),vn=function(){function e(){Fe(this,e)}return Ue(e,null,[{key:"getId",value:function(){return qt(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}]),e}();var gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};function mn(e){var t=function(){var t=at.option("customKeyCodes"),n=e.keyCode||e.charCode;return dt(t,n)?t[n]:e.nativeEvent?e.key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Et[e.keyCode]||"Unidentified":""}(e)}();return"+"===t?"plus":t}function bn(e){return"Meta"===e}var _n=0,kn=1,En=2,On=4,wn=function(){function e(t,n){var r=n.logger,o=n.logPrefix;Fe(this,e),this._componentList=t,this._previousPropagation=null,this.logger=r,this._logPrefix=o,this._reset()}return Ue(e,[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var e=this.getPreviousPosition();return-1===e||e>=this._position}},{key:"isForKey",value:function(e){return this._key===e}},{key:"isForEventType",value:function(e){return this._type===e}},{key:"startNewPropagationStep",value:function(e,t,n,r){return this._position=this._componentList.getIndexById(e),this._componentId=e,this.isFirstPropagationStep()&&(vn.incrementId(),this._key=t.key,this._type=r),!(t.repeat&&at.option("ignoreRepeatedEventsWhenKeyHeldDown")&&(this.ignoreEvent(t),1))}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(e){return this.setIgnoreEvent(!0),!(!this.isIgnoringEvent()||!at.option("stopEventPropagationAfterIgnoring")||(this.stop(e),this.finishPropagationStep(),0))}},{key:"setIgnoreEvent",value:function(e){this._ignoreEvent=e}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(e){return!this.isStopped()&&(this._stopping=!0,e.simulated||e.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var e=this.getPreviousPosition();return-1!==e&&e+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.copyState,r=new e(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return(void 0===n||n)&&Object.assign(r,this),r}}]),e}(),Sn=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return Fe(this,t),(e=et(this,Xe(t).call(this,n,r))).focusTreeId=0,e}return We(t,yn),Ue(t,[{key:"_reset",value:function(){tt(Xe(t.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new wn(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(e))return this._addComponent(e,t,n,r),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;e===this.focusTreeId&&this.componentList.containsId(t)&&(this.componentList.update(t,n,r,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._initHandlerResolutionState())}},{key:"disableHotKeys",value:function(e,t){return this.resetOnNextFocus||(this.resetOnNextFocus=!0),this.eventPropagator.isPendingPropagation()}},{key:"handleKeydown",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=mn(e);if(t!==this.focusTreeId)return this.eventPropagator.ignoreEvent(e),!0;var i=this.eventPropagator.startNewPropagationStep(n,e,o,ut.keydown);if(i){var a=this._howToHandleKeyEvent(e,t,n,o,r,ut.keydown);if(a===On){var s=dn(e),u=this.getCurrentCombination();u.isKeyIncluded(o)||u.isEnding()?this._startAndLogNewKeyCombination(o,t,n,s):this._addToAndLogCurrentKeyCombination(o,ut.keydown,t,n,s),this._callHandlerIfActionNotHandled(e,o,ut.keydown,n,t)}return this._simulateKeyPressForNonPrintableKeys(e,o,t,n,r),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(e,t,n,r,o,i){if(this.eventPropagator.isFirstPropagationStep()){if(o.ignoreEventsCondition(e)&&this.eventPropagator.ignoreEvent(e))return this._eventIsToBeIgnored(e,n,r,i);this._checkForModifierFlagDiscrepancies(e,r,i)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(e,n,r,i);return On}},{key:"_eventIsToBeIgnored",value:function(e,t,n,r){return kn}},{key:"handleKeyPress",value:function(e,t,n,r){var o=mn(e),i=this.getCurrentCombination();if(i.isKeyPressSimulated(o))return this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,o,ut.keypress)){var a=t!==this.focusTreeId,s=this._howToHandleKeyEvent(e,t,n,o,r,ut.keypress);return this.eventPropagator.isFirstPropagationStep(n)&&i.isKeyIncluded(o)&&this._addToAndLogCurrentKeyCombination(o,ut.keypress,t,n,dn(e)),s===On&&this._callHandlerIfActionNotHandled(e,o,ut.keypress,n,t),this.eventPropagator.finishPropagationStep(),a}}},{key:"handleKeyUp",value:function(e,t,n,r){var o=mn(e),i=this.getCurrentCombination();if(i.isKeyUpSimulated(o))return this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,o,ut.keyup)){var a=t!==this.focusTreeId,s=this._howToHandleKeyEvent(e,t,n,o,r,ut.keyup);return this.eventPropagator.isFirstPropagationStep(n)&&i.isKeyIncluded(o)&&this._addToAndLogCurrentKeyCombination(o,ut.keyup,t,n,dn(e)),s===On&&this._callHandlerIfActionNotHandled(e,o,ut.keyup,n,t),this._simulateKeyUpEventsHiddenByCmd(e,o,t,n,r),this.eventPropagator.finishPropagationStep(),a}}},{key:"closeHangingKeyCombination",value:function(e,t){var n=this.getCurrentCombination();n.isKeyIncluded(e)&&!n.isEventTriggered(e,t)&&n.setKeyState(e,t,zt)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t,n,r,o){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(ut.keypress,t),{event:e,key:t,focusTreeId:n,componentId:r,options:o})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t,n,r,o){var i=this;bn(t)&&this.getCurrentCombination().forEachKey((function(t){bn(t)||i._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",i._shouldSimulate(ut.keyup,t),{event:e,key:t,focusTreeId:n,componentId:r,options:o})}))}},{key:"_stopEventPropagation",value:function(e,t){this.eventPropagator.stop(e)}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(e,t,n,r){this.getKeyHistory().startNewKeyCombination(e,r)}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n,r,o){this.getKeyHistory().addKeyToCurrentCombination(e,t,o)}},{key:"_handleEventSimulation",value:function(e,t,n,r){var o=r.event,i=r.key,a=r.focusTreeId,s=r.componentId,u=r.options;if(n&&at.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:i,simulated:!0});this[e].push({event:l,focusTreeId:a,componentId:s,options:u})}(this.componentList.isRoot(s)||this.eventPropagator.isStopped())&&!this.keyEventManager.isGlobalListenersBound()&&this[t]()}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(e,t){var n=this;0<this[e].length&&vn.incrementId(),this[e].forEach((function(e){var r=e.event,o=e.focusTreeId,i=e.componentId,a=e.options;n[t](r,o,i,a)})),this[e]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(e,t,n,r,o){this.getCurrentCombination().describe();if(this.componentList.anyActionsForEventType(n))if(this.eventPropagator.isHandled());else{var i=this.eventPropagator.getPreviousPosition(),a=this.componentList.getIndexById(r);this._callClosestMatchingHandler(e,t,n,a,-1===i?0:i)&&this.eventPropagator.setHandled()}}},{key:"_logPrefix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=st.logIcons,r=st.eventIcons,o=st.componentIcons,i="HotKeys (";if(!1!==t.focusTreeId){var a=qt(t.focusTreeId)?this.focusTreeId:t.focusTreeId;i+="F".concat(a).concat(n[a%n.length],"-")}if(!1!==t.eventId){var s=qt(t.eventId)?vn.getId():t.eventId;i+="E".concat(s).concat(r[s%r.length],"-")}i+="C".concat(e).concat(o[e%o.length]);var u=this.componentList.getIndexById(e);return qt(u)||(i+="-P".concat(u).concat(o[u%o.length],":")),"".concat(i,")")}}]),t}();function Pn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(e)||gt(e)?n.stringifyFirst?!qt(e.find((function(e){return e.toString()===t.toString()}))):-1!==e.indexOf(t):Wt(e)?dt(e,t):n.stringifyFirst?e.toString()===t.toString():e===t}function Cn(e){return e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}var In=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0;return Fe(this,t),(e=et(this,Xe(t).call(this,n,r))).listenersBound=!1,e.eventOptions={ignoreEventsCondition:at.option("ignoreEventsCondition")},e.listeners={},e}return We(t,yn),Ue(t,[{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;this.eventOptions=o,this._addComponent(e,t,n,r),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"updateEnabledHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;this.eventOptions=o,this.componentList.update(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"disableHotKeys",value:function(e){this.componentList.remove(e),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState()}},{key:"_updateDocumentHandlers",value:function(){var e=this,t=this._listenersShouldBeBound();!this.listenersBound&&t?(Object.values(ut).forEach((function(t){var n=fn(t);document["on".concat(n)]=function(t){e.keyEventManager["handleGlobal".concat(function(e){return"".concat(Cn(e.slice(0,3))).concat(Cn(e.slice(3)))}(n))](t)}})),this.listenersBound=!0):this.listenersBound&&!t&&(Object.values(ut).forEach((function(e){var t=fn(e);delete document["on".concat(t)]})),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(e){var t=mn(e);if(e.repeat&&at.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;this._checkForModifierFlagDiscrepancies(e,t,ut.keydown);var n=this._howReactAppRespondedTo(e,t,ut.keydown);if(n!==_n||!this.eventOptions.ignoreEventsCondition(e)){if(n!==kn){var r=dn(e),o=this.getCurrentCombination();o.isKeyIncluded(t)||o.isEnding()?this._startAndLogNewKeyCombination(t,r):this._addToAndLogCurrentKeyCombination(t,ut.keydown,r)}Pn([kn,On],n)||this._callHandlerIfExists(e,t,ut.keydown),this._simulateKeyPressForNonPrintableKeys(e,t)}}},{key:"_howReactAppRespondedTo",value:function(e,t,n){var r=this.keyEventManager.reactAppHistoryWithEvent(t,n);return r===On||(r===kn||(r===En||vn.incrementId())),r}},{key:"handleKeyPress",value:function(e){var t=mn(e);if(e.repeat&&at.option("ignoreRepeatedEventsWhenKeyHeldDown"))return!0;var n=this.getCurrentCombination();if(n.isKeyPressSimulated(t))return!0;var r=this._howReactAppRespondedTo(e,t,ut.keypress);return n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,ut.keypress,dn(e)),r===_n&&(this.keyEventManager.closeHangingKeyCombination(t,ut.keypress),this.eventOptions.ignoreEventsCondition(e))?void 0:void(!Pn([kn,On],r)&&this._callHandlerIfExists(e,t,ut.keypress))}},{key:"handleKeyUp",value:function(e){var t=mn(e),n=this.getCurrentCombination();if(n.isKeyUpSimulated(t))return!0;var r=this._howReactAppRespondedTo(e,t,ut.keyup);n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,ut.keyup,dn(e)),r===_n?(this.keyEventManager.closeHangingKeyCombination(t,ut.keyup),this.eventOptions.ignoreEventsCondition(e)||!Pn([kn,On],r)&&this._callHandlerIfExists(e,t,ut.keyup)):!Pn([kn,On],r)&&this._callHandlerIfExists(e,t,ut.keyup),this._simulateKeyUpEventsHiddenByCmd(e,t),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:n.getKeyDictionary(),id:n.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(ut.keypress,t),{event:e,key:t})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t){var n=this;bn(t)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey((function(t){bn(t)||n._handleEventSimulation("handleKeyUp",n._shouldSimulate(ut.keyup,t),{event:e,key:t})})))}},{key:"_startAndLogNewKeyCombination",value:function(e,t){this.getKeyHistory().startNewKeyCombination(e,t)}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n){this.getKeyHistory().addKeyToCurrentCombination(e,t,n)}},{key:"_handleEventSimulation",value:function(e,t,n){var r=n.event,o=n.key;if(t&&at.option("simulateMissingKeyPressEvents")){var i=this._cloneAndMergeEvent(r,{key:o,simulated:!0});this[e](i)}}},{key:"_callHandlerIfExists",value:function(e,t,n){this.getCurrentCombination().describe();return this.componentList.anyActionsForEventType(n)?void this._callClosestMatchingHandler(e,t,n):void 0}},{key:"_callClosestMatchingHandler",value:function(e,n,r){for(var o=this.componentList.getNewIterator();o.next();)if(tt(Xe(t.prototype),"_callClosestMatchingHandler",this).call(this,e,n,r,o.getPosition(),0))return}},{key:"_stopEventPropagation",value:function(e,t){e.simulated||e.stopPropagation()}},{key:"addKeyCombinationListener",value:function(e){var t=this,n=function(){delete t.listeners.keyCombination};return this.listeners.keyCombination=function(t){e(t),n()},this._updateDocumentHandlers(),n}},{key:"_logPrefix",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=st.eventIcons,r=st.componentIcons,o="HotKeys (GLOBAL";if(!1!==t.eventId){var i=qt(t.eventId)?vn.getId():t.eventId;o="".concat(o,"-E").concat(i).concat(n[i%n.length])}return qt(e)?"".concat(o,"):"):"".concat(o,"-C").concat(e).concat(r[e%r.length],"):")}}]),t}();function Tn(e){return!qt(e)}var jn=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fe(this,e),this.logger=t.logger||new st(at.option("logLevel")),this._focusOnlyEventStrategy=new Sn({configuration:t,logger:this.logger},this),this._globalEventStrategy=new In({configuration:t,logger:this.logger},this),this.mountedComponentsCount=0}return Ue(e,null,[{key:"getInstance",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.instance||(this.instance=new e(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),Ue(e,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(e)}},{key:"reregisterKeyMap",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterKeyMap",value:function(e){this._focusOnlyEventStrategy.deregisterKeyMap(e)}},{key:"registerComponentMount",value:function(e,t){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(e,t)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var e=this,t=this.mountedComponentsCount;this.mountedComponentsCount+=1,0===t&&1===this.mountedComponentsCount&&(window.onblur=function(){return e._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var e=this.mountedComponentsCount;this.mountedComponentsCount-=1,1===e&&0===this.mountedComponentsCount&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(e)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(e,t){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(e,t)}},{key:"reregisterGlobalKeyMap",value:function(e,t){this._globalEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterGlobalKeyMap",value:function(e){this._globalEventStrategy.deregisterKeyMap(e)}},{key:"addKeyCombinationListener",value:function(e){return this._globalEventStrategy.addKeyCombinationListener(e)}},{key:"enableHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(e,t,n,r)}},{key:"updateEnabledHotKeys",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(e,t,n,r,o)}},{key:"disableHotKeys",value:function(e,t){return this._focusOnlyEventStrategy.disableHotKeys(e,t)}},{key:"handleKeydown",value:function(e,t,n,r){if(Tn(t))return this._focusOnlyEventStrategy.handleKeydown(e,t,n,r)}},{key:"handleKeyPress",value:function(e,t,n,r){if(Tn(t))return this._focusOnlyEventStrategy.handleKeyPress(e,t,n,r)}},{key:"handleKeyUp",value:function(e,t,n,r){if(Tn(t))return this._focusOnlyEventStrategy.handleKeyUp(e,t,n,r)}},{key:"enableGlobalHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(e,t,n,r,o)}},{key:"updateEnabledGlobalHotKeys",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(e,t,n,r,o)}},{key:"disableGlobalHotKeys",value:function(e){return this._globalEventStrategy.disableHotKeys(e)}},{key:"handleGlobalKeyDown",value:function(e){return this._globalEventStrategy.handleKeydown(e)}},{key:"handleGlobalKeyPress",value:function(e){return this._globalEventStrategy.handleKeyPress(e)}},{key:"handleGlobalKeyUp",value:function(e){return this._globalEventStrategy.handleKeyUp(e)}},{key:"ignoreEvent",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(e)}},{key:"observeIgnoredEvents",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(e)}},{key:"closeHangingKeyCombination",value:function(e,t){this._focusOnlyEventStrategy.closeHangingKeyCombination(e,t)}},{key:"reactAppHistoryWithEvent",value:function(e,t){var n=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return n.isForKey(e)&&n.isForEventType(t)?n.isHandled()?On:n.isIgnoringEvent()?kn:En:_n}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),e}();function xn(e,t){var n=t.deprecatedAPI,r=n.contextTypes,o=n.childContextTypes,a=t.newAPI.contextType;if(void 0===i.createContext)e.contextTypes=r,e.childContextTypes=o,e.prototype.getChildContext=function(){return this._childContext};else{var s=i.createContext(a);e.contextType=s,e.prototype._originalRender=e.prototype.render,e.prototype.render=function(){var e=this._originalRender();return e?i.createElement(s.Provider,{value:this._childContext},e):null}}return e}function Kn(e){function t(e,t){return Ge({},o[e]||{},t[e]||{})}function n(e){return t("handlers",e)}function r(e){return t("keyMap",e)}var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=function(t){function o(e){var t;return Fe(this,o),(t=et(this,Xe(o).call(this,e)))._handleFocus=t._handleFocus.bind(Qe(Qe(t))),t._handleBlur=t._handleBlur.bind(Qe(Qe(t))),t._handleKeyDown=t._handleKeyDown.bind(Qe(Qe(t))),t._handleKeyPress=t._handleKeyPress.bind(Qe(Qe(t))),t._handleKeyUp=t._handleKeyUp.bind(Qe(Qe(t))),t._componentIsFocused=t._componentIsFocused.bind(Qe(Qe(t))),t._id=jn.getInstance().registerKeyMap(e.keyMap),t._childContext={hotKeysParentId:t._id},t}return We(o,s),Ue(o,[{key:"render",value:function(){var t=this.props,n=(t.keyMap,t.handlers,t.allowChanges,t.root,Ze(t,["keyMap","handlers","allowChanges","root"])),r={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:at.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(r.onKeyDown=this._handleKeyDown,r.onKeyPress=this._handleKeyPress,r.onKeyUp=this._handleKeyUp),i.createElement(e,ze({hotKeys:r},n))}},{key:"_shouldBindKeyListeners",value:function(){var e=r(this.props);return!Xt(e)||this.props.root||at.option("enableHardSequences")&&this._handlersIncludeHardSequences(e,n(this.props))}},{key:"_handlersIncludeHardSequences",value:function(e,t){return Object.keys(t).some((function(t){return!e[t]&&Nt.isValidKeySerialization(t)}))}},{key:"_wrapFunction",value:function(e,t){var n=this;return"function"==typeof this.props[e]?function(r){n.props[e](r),t(r)}:t}},{key:"_focusTreeIdsPush",value:function(e){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(e)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var e=jn.getInstance();if(e.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!at.option("ignoreKeymapAndHandlerChangesByDefault"))){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledHotKeys(this._getFocusTreeId(),this._id,n,r,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return!0===this._focused}},{key:"componentDidMount",value:function(){var e=jn.getInstance(),t=this.context.hotKeysParentId;e.registerComponentMount(this._id,t)}},{key:"_handleFocus",value:function(){var e;this.props.onFocus&&(e=this.props).onFocus.apply(e,arguments);var t=jn.getInstance().enableHotKeys(this._id,r(this.props),n(this.props),this._getComponentOptions());qt(t)||this._focusTreeIdsPush(t),this._focused=!0}},{key:"componentWillUnmount",value:function(){var e=jn.getInstance();e.deregisterKeyMap(this._id),e.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){var e;this.props.onBlur&&(e=this.props).onBlur.apply(e,arguments);var t=jn.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);t||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(e){jn.getInstance().handleKeydown(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(e){jn.getInstance().handleKeyPress(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(e){jn.getInstance().handleKeyUp(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:at.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:at.option("ignoreEventsCondition")}}}]),o}();return Be(a,"propTypes",{keyMap:l.object,handlers:l.object,onFocus:l.func,onBlur:l.func,allowChanges:l.bool,root:l.bool}),xn(a,{deprecatedAPI:{contextTypes:{hotKeysParentId:l.number},childContextTypes:{hotKeysParentId:l.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}var Mn=Kn(function(e){function t(){return Fe(this,t),et(this,Xe(t).apply(this,arguments))}return We(t,a),Ue(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=e.innerRef,r=e.component,o=Ze(e,["hotKeys","innerRef","component"]),a=r||at.option("defaultComponent");return i.createElement(a,Ge({},t,{ref:n},o))}}]),t}());Mn.propTypes={innerRef:l.oneOfType([l.object,l.func])};var Ln=function(e){function t(e){var n;return Fe(this,t),(n=et(this,Xe(t).call(this,e)))._id=jn.getInstance().registerGlobalKeyMap(e.keyMap),n._childContext={globalHotKeysParentId:n._id},n}return We(t,a),Ue(t,[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var e=jn.getInstance();if(e.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!at.option("ignoreKeymapAndHandlerChangesByDefault")){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledGlobalHotKeys(this._id,n,r,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.keyMap,n=e.handlers,r=this.context.globalHotKeysParentId,o=jn.getInstance();o.registerGlobalComponentMount(this._id,r),o.enableGlobalHotKeys(this._id,t,n,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var e=jn.getInstance();e.deregisterGlobalKeyMap(this._id),e.disableGlobalHotKeys(this._id),e.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:at.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:at.option("ignoreEventsCondition")}}}]),t}();Be(Ln,"propTypes",{keyMap:l.object,handlers:l.object,allowChanges:l.bool});var An=xn(Ln,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:l.number},childContextTypes:{globalHotKeysParentId:l.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}});function Rn(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{only:[],except:[]},o=2<arguments.length?arguments[2]:void 0;return n=t=function(t){function n(e){var t;return Fe(this,n),(t=et(this,Xe(n).call(this,e)))._handleKeyEvent=t._handleKeyEvent.bind(Qe(Qe(t))),t._reloadDictionaries=t._reloadDictionaries.bind(Qe(Qe(t))),t}return We(n,s),Ue(n,[{key:"render",value:function(){var t=this.props,n=(t.only,t.except,Ze(t,["only","except"])),r={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return i.createElement(e,ze({hotKeys:r},n))}},{key:"_reloadDictionaries",value:function(){var e=this.props,t=e.only,n=e.except;this._onlyDict=Dn(t),this._exceptDict=Dn(n)}},{key:"_shouldIgnoreEvent",value:function(e){var t=e.key;return Xt(this._onlyDict)?!!Xt(this._exceptDict)||!dt(this._exceptDict,t):Xt(this._exceptDict)?dt(this._onlyDict,t):dt(this._onlyDict,t)&&!dt(this._exceptDict,t)}},{key:"_handleKeyEvent",value:function(e){this._shouldIgnoreEvent(e)&&jn.getInstance()[o](e)}}]),n}(),Be(t,"propTypes",{only:l.oneOfType([l.string,l.arrayOf(l.string)]),except:l.oneOfType([l.string,l.arrayOf(l.string)])}),Be(t,"defaultProps",r),n}function Dn(e){return Zt(e).reduce((function(e,t){var n=kt(t);if(!St(n))throw new Pt(t);return[Dt,Rt,ft,yt,Mt,Kt].forEach((function(t){e[t(n)]=!0})),e}),{})}var Nn=Rn(function(e){function t(){return Fe(this,t),et(this,Xe(t).apply(this,arguments))}return We(t,a),Ue(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=Ze(e,["hotKeys"]),r=n.component||at.option("defaultComponent");return i.createElement(r,Ge({},t,n))}}]),t}(),{},"ignoreEvent"),Hn=Rn(function(e){function t(){return Fe(this,t),et(this,Xe(t).apply(this,arguments))}return We(t,a),Ue(t,[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=Ze(e,["hotKeys"]),r=n.component||at.option("defaultComponent");return i.createElement(r,Ge({},t,n))}}]),t}(),{},"observeIgnoredEvents");var Fn=Object.freeze({__proto__:null,HotKeys:Mn,GlobalHotKeys:An,IgnoreKeys:Nn,ObserveKeys:Hn,withHotKeys:Kn,withIgnoreKeys:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{only:[],except:[]};return Rn(e,t,"ignoreEvent")},withObserveKeys:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{only:[],except:[]};return Rn(e,t,"observeIgnoredEvents")},configure:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};at.init(e)},getApplicationKeyMap:function(){return jn.getInstance().getApplicationKeyMap()},recordKeyCombination:function(e){return jn.getInstance().addKeyCombinationListener(e)}});function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.reduce((function(e,n){return e[n]=t||{value:n},e}),{})}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn={logLevel:"warn",defaultKeyEvent:"keydown",defaultComponent:"div",defaultTabIndex:"-1",ignoreTags:["input","select","textarea"],enableHardSequences:!1,ignoreKeymapAndHandlerChangesByDefault:!0,ignoreEventsCondition:function(e){var t=e.target;if(t&&t.tagName){var n=t.tagName.toLowerCase();return Wn.option("_ignoreTagsDict")[n]||t.isContentEditable}return!1},ignoreRepeatedEventsWhenKeyHeldDown:!0,simulateMissingKeyPressEvents:!0,stopEventPropagationAfterHandling:!0,stopEventPropagationAfterIgnoring:!0,allowCombinationSubmatches:!1,customKeyCodes:{}},Gn=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bn(e,t,n[t])}))}return e}({},zn);Gn._ignoreTagsDict=qn(Gn.ignoreTags,!0);var Wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"init",value:function(e){var t=this,n=e.ignoreTags,r=e.customKeyCodes;n&&(e._ignoreTagsDict=qn(e.ignoreTags)),r&&(e._customKeyNamesDict=qn(Object.values(e.customKeyCodes))),Object.keys(e).forEach((function(n){t.set(n,e[n])}))}},{key:"set",value:function(e,t){Gn[e]=t}},{key:"reset",value:function(e){Gn[e]=zn[e]}},{key:"option",value:function(e){return Gn[e]}}],(n=null)&&Un(t.prototype,n),r&&Un(t,r),e}();function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n=function(){var e,t,n;function r(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warn";Xn(this,r),Vn(this,"verbose",this.noop),Vn(this,"debug",this.noop),Vn(this,"info",this.noop),Vn(this,"warn",this.noop),Vn(this,"error",this.noop),this.logLevel=this.constructor.levels[t],this.logLevel>=this.constructor.levels.error&&(this.error=console.error,this.logLevel>=this.constructor.levels.warn&&(this.warn=console.warn,["info","debug","verbose"].some((function(t){return!(e.logLevel>=e.constructor.levels[t])||(e[t]=console.log,!1)}))))}return e=r,(t=[{key:"noop",value:function(){}}])&&Yn(e.prototype,t),n&&Yn(e,n),r}();Vn($n,"logIcons",["📕","📗","📘","📙"]),Vn($n,"componentIcons",["🔺","⭐️","🔷","🔶","⬛️"]),Vn($n,"eventIcons",["❤️","💚","💙","💛","💜","🧡"]),Vn($n,"levels",{none:0,error:1,warn:2,info:3,debug:4,verbose:5});var Jn={keydown:0,keypress:1,keyup:2},Zn={Shift:["shiftKey"],Meta:["metaKey"],Control:["ctrlKey"],Alt:["altKey"]},Qn={"`":["~"],1:["!"],2:["@",'"'],3:["#","£"],4:["$"],5:["%"],6:["^"],7:["&"],8:["*"],9:["("],0:[")"],"-":["_"],"=":["plus"],";":[":"],"'":['"',"@"],",":["<"],".":[">"],"/":["?"],"\\":["|"],"[":["{"],"]":["}"],"#":["~"]};function er(e){return Qn[e]||[1===e.length?e.toUpperCase():e]}function tr(e,t){return e.hasOwnProperty(t)}function nr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(n,r){var o=e[r];return o.forEach((function(e){tr(n,e)||(n[e]=[]),n[e].push(r)})),t.includeOriginal&&(tr(n,r)||(n[r]=[]),n[r]=[].concat(nr(n[r]),nr(o))),n}),{})}var or=rr(Qn);function ir(e){return or[e]||[1===e.length?e.toLowerCase():e]}var ar=rr({},{includeOriginal:!0});function sr(e){return"string"==typeof e}function ur(e){return sr(e)?e.trim().replace(/\s+/g," "):e}var lr={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"},cr={cmd:"Meta"};function fr(e){var t=e.toLowerCase();return lr[t]||cr[t]||(e.match(/^f\d+$/)?e.toUpperCase():e)}var dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pr=qn(Object.values(dr),!0);function hr(e){return!!pr[e]}function yr(t){return(yr="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?mr(e):t}function mr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(e){var t="function"==typeof Map?new Map:void 0;return(br=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return kr(e,arguments,Or(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Er(r,e)})(e)}function _r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kr(e,t,n){return(kr=_r()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Er(o,n.prototype),o}).apply(null,arguments)}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){return(Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e){return hr(e)||String.fromCharCode(e.charCodeAt(0))===e||function(e){return Wn.option("_customKeyNamesDict")[e]}(e)}var Pr=function(e){function t(){var e,n;vr(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return wr(mr(mr(n=gr(this,(e=Or(t)).call.apply(e,[this].concat(o))))),"name","InvalidKeyNameError"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}(t,br(Error)),t}();function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e){return e.sort().join("+")}var Tr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ur(e),r=n.split(" ");try{var o=r.slice(0,r.length-1),i=r[r.length-1],a=o.map((function(e){var n=jr(e,t);return Ir(Object.keys(n))})).join(" "),s=jr(i,t),u=Ir(Object.keys(s)),l={id:u,keyDictionary:s,keyEventType:t.keyEventType,size:Object.keys(s).length};return{sequence:{prefix:a,size:o.length+1},combination:l}}catch(e){return{sequence:null,combination:null}}}}],(n=null)&&Cr(t.prototype,n),r&&Cr(t,r),e}();function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/^\+|(\s|[^+]\+)\+/,"$1plus").split("+").reduce((function(e,n){var r=fr(n);if(t.ensureValidKeys&&!Sr(r))throw new Pr;return e[r]=!0,e}),{})}var xr={"`":["`"],1:["¡"],2:["™"],3:["£"],4:["¢"],5:["∞"],6:["§"],7:["¶"],8:["•"],9:["ª"],0:["º"],"-":["–"],"=":["≠"],a:["å"],b:["∫"],c:["ç"],d:["∂"],e:["´"],f:["ƒ"],g:["©"],h:["˙"],i:["ˆ"],j:["∆"],k:["˚"],l:["¬"],m:["µ"],n:["˜"],o:["ø"],p:["π"],q:["œ"],r:["®"],s:["ß"],t:["†"],u:["¨"],v:["√"],w:["∑"],x:["≈"],y:["¥"],z:["Ω"],"[":["“"],"]":["‘"],"\\":["«"],"'":["æ"],";":["…"],",":["≤"],".":["≥"],"/":["÷"]},Kr=rr(xr);function Mr(e){return Kr[e]||[e]}function Lr(e){return xr[e]||[e]}var Ar={"`":["`"],1:["⁄"],2:["€"],3:["‹"],4:["›"],5:["ﬁ"],6:["ﬂ"],7:["‡"],8:["°"],9:["·"],0:["‚"],"-":["—"],"=":["±"],a:["Å"],b:["ı"],c:["Ç"],d:["Î"],e:["´"],f:["Ï"],g:["˝"],h:["Ó"],i:["ˆ"],j:["Ô"],k:[""],l:["Ò"],m:["Â"],n:["˜"],o:["Ø"],p:["π"],q:["Œ"],r:["‰"],s:["Í"],t:["Î"],u:["¨"],v:["◊"],w:["„"],x:["˛"],y:["Á"],z:["¸"],"[":["”"],"]":["’"],"\\":["»"],"'":["Æ"],";":["Ú"],",":["¯"],".":["˘"]},Rr=rr(Ar);function Dr(e){return Rr[e]||ir(e)}function Nr(e){return Ar[e]||[e]}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ur=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"serialize",value:function(e){var t=e.Shift,n=e.Alt,r={};return Object.keys(e).sort().forEach((function(e){var o=[];if(t)if(n){var i=Dr(e),a=Nr(e);o=[].concat(Fr(o),[e],Fr(i),Fr(a))}else{var s=ir(e),u=er(e);o=[].concat(Fr(o),[e],Fr(s),Fr(u))}else if(n){var l=Mr(e),c=Lr(e);o=[].concat(Fr(o),[e],Fr(l),Fr(c))}else{o.push(e);var f=ar[e];f&&(o=[].concat(Fr(o),Fr(f)))}var d=Object.keys(r);d.length>0?d.forEach((function(e){o.forEach((function(t){r[e+"+".concat(t)]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hr(e,t,n[t])}))}return e}({},r[e],Hr({},t,!0))})),delete r[e]})):o.forEach((function(e){r[e]=Hr({},e,!0)}))})),Object.values(r).map((function(e){return Object.keys(e).sort().join("+")}))}},{key:"isValidKeySerialization",value:function(e){return e.length>0&&!!Tr.parse(e,{ensureValidKeys:!0}).combination}}],(n=null)&&qr(t.prototype,n),r&&qr(t,r),e}(),Br=0,zr=1;function Gr(e){return void 0===e}var Wr=0,Xr=1,Yr=2;function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"newRecord",value:function(e,t){var n=[Wr,Wr,Wr];if(!Gr(e))for(var r=0;r<=e;r++)n[r]=t;return n}},{key:"setBit",value:function(e,t,n){return e[t]=n,e}},{key:"clone",value:function(e){for(var t=this.newRecord(),n=0;n<e.length;n++)t[n]=e[n];return t}}],(n=null)&&Vr(t.prototype,n),r&&Vr(t,r),e}();function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Zr(e){return!Array.isArray(e)&&"object"===Jr(e)&&null!==e}function Qr(e){return Zr(e)?0===Object.keys(e).length:!e||0===e.length}function eo(e){return Zr(e)?Object.keys(e).length:e.length}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ro=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};to(this,e),this._keys=t,this._includesKeyUp=!1,this._update()}var t,n,r;return t=e,(n=[{key:"getIds",value:function(){return this._ids}},{key:"getKeyAliases",value:function(){return this._keyAliases}},{key:"getNormalizedKeyName",value:function(e){if(this._keys[e])return e;var t=this._keyAliases[e];return t||e}},{key:"getNumberOfKeys",value:function(){return eo(this._keys)}},{key:"any",value:function(){return Object.keys(this._getKeyStates()).length>0}},{key:"isEnding",value:function(){return this._includesKeyUp}},{key:"hasEnded",value:function(){return Qr(this.keysStillPressedDict())}},{key:"addKey",value:function(e,t){this._setKeyState(e,[$r.newRecord(),$r.newRecord(Jn.keydown,t)])}},{key:"setKeyState",value:function(e,t,n){var r=this._getKeyState(e);if(this.isKeyIncluded(e)){var o=$r.clone(r[1]),i=$r.clone(o);$r.setBit(i,t,n),this._setKeyState(e,[o,i])}else this.addKey(e,n);t===Jn.keyup&&(this._includesKeyUp=!0)}},{key:"forEachKey",value:function(e){return Object.keys(this._keys).forEach(e)}},{key:"some",value:function(e){return Object.keys(this._keys).some(e)}},{key:"getKeyDictionary",value:function(){return qn(Object.keys(this._getKeyStates()),!0)}},{key:"keysStillPressedDict",value:function(){var e=this;return Object.keys(this._keys).reduce((function(t,n){return e.isKeyStillPressed(n)&&(t[n]=e._getKeyState(n)),t}),{})}},{key:"isKeyIncluded",value:function(e){return!!this._getKeyState(e)}},{key:"isKeyStillPressed",value:function(e){return this.isEventTriggered(e,Jn.keypress)&&!this.isKeyReleased(e)}},{key:"isKeyReleased",value:function(e){return this.isEventTriggered(e,Jn.keyup)}},{key:"isEventTriggered",value:function(e,t){return this._getKeyStateType(e,zr,t)}},{key:"wasEventPreviouslyTriggered",value:function(e,t){return this._getKeyStateType(e,Br,t)}},{key:"isKeyPressSimulated",value:function(e){return this._isKeyEventSimulated(e,Jn.keypress)}},{key:"isKeyUpSimulated",value:function(e){return this._isKeyEventSimulated(e,Jn.keyup)}},{key:"describe",value:function(){return this.getIds()[0]}},{key:"toJSON",value:function(){return{keys:this._getKeyStates(),ids:this.getIds(),keyAliases:this.getKeyAliases()}}},{key:"_getKeyStateType",value:function(e,t,n){var r=this._getKeyState(e);return r&&r[t][n]}},{key:"_update",value:function(){this._ids=Ur.serialize(this._keys),this._keyAliases=function(e){return Object.keys(e).reduce((function(t,n){return function(e){return ar[e]||[e]}(n).forEach((function(r){(function(e){if(e.Shift)return e.Alt?[Nr,Dr]:[er,ir];if(e.Alt)return[Lr,Mr];var t=function(e){return[e]};return[t,t]})(e).forEach((function(e){e(r).forEach((function(e){e===n&&n===r||(t[e]=n)}))}))})),t}),{})}(this._keys)}},{key:"_isKeyEventSimulated",value:function(e,t){return this.isEventTriggered(e,t)===Yr}},{key:"_getKeyStates",value:function(){return this._keys}},{key:"_getKeyState",value:function(e){var t=this._keys[e];if(t)return t;var n=this._keyAliases[e];return n?this._keys[n]:void 0}},{key:"_setKeyState",value:function(e,t){var n=this.getNormalizedKeyName(e);this._keys[n]=t,this._update()}}])&&no(t.prototype,n),r&&no(t,r),e}();function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ao=function(){function e(t){var n=t.maxLength,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;oo(this,e),this._records=[],this._maxLength=n,r?this._push(r):this._push(new ro)}var t,n,r;return t=e,(n=[{key:"getMostRecentCombinations",value:function(e){return this._records.slice(-e,-1)}},{key:"any",value:function(){return this._records.some((function(e){return e.any()}))}},{key:"getLength",value:function(){return this._records.length}},{key:"getCurrentCombination",value:function(){return this._records[this.getLength()-1]}},{key:"addKeyToCurrentCombination",value:function(e,t,n){this._ensureInitialKeyCombination(),this.getCurrentCombination().setKeyState(e,t,n)}},{key:"setMaxLength",value:function(e){this._maxLength=e,this._trimHistory()}},{key:"startNewKeyCombination",value:function(e,t){this._ensureInitialKeyCombination();var n=new ro(this.getCurrentCombination().keysStillPressedDict());n.addKey(e,t),this._push(n)}},{key:"toJSON",value:function(){return this._records.map((function(e){return e.toJSON()}))}},{key:"_ensureInitialKeyCombination",value:function(){0===this.getLength()&&this._push(new ro)}},{key:"_push",value:function(e){this._trimHistory(),this._records.push(e)}},{key:"_trimHistory",value:function(){for(;this.getLength()>this._maxLength;)this._shift()}},{key:"_shift",value:function(){this._records.shift()}}])&&io(t.prototype,n),r&&io(t,r),e}();function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var uo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._registry={}}var t,n,r;return t=e,(n=[{key:"get",value:function(e){return this._registry[e]}},{key:"set",value:function(e,t){this._registry[e]=t}},{key:"remove",value:function(e){delete this._registry[e]}},{key:"toJSON",value:function(){return this._registry}}])&&so(t.prototype,n),r&&so(t,r),e}();function lo(e){return Array.isArray(e)?e:e?[e]:[]}function co(t){return(co="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t){return!t||"object"!==co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e,t,n){return(vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=go(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bo=function(e){function t(){return po(this,t),yo(this,go(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,uo),n=t,(r=[{key:"add",value:function(e,n){vo(go(t.prototype),"set",this).call(this,e,{childIds:[],parentId:null,keyMap:n})}},{key:"update",value:function(e,n){var r=vo(go(t.prototype),"get",this).call(this,e);vo(go(t.prototype),"set",this).call(this,e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fo(e,t,n[t])}))}return e}({},r,{keyMap:n}))}},{key:"setParent",value:function(e,t){this.get(e).parentId=t,this._addChildId(t,e)}},{key:"remove",value:function(e){var n=this._getParentId(e);this._removeChildId(n,e),vo(go(t.prototype),"remove",this).call(this,e)}},{key:"_getParentId",value:function(e){var t=this.get(e);return t&&t.parentId}},{key:"_addChildId",value:function(e,t){this.get(e).childIds.push(t)}},{key:"_removeChildId",value:function(e,t){var n=this.get(e);n&&(n.childIds=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=qn(lo(t));return Array.isArray(e)?e.reduce((function(e,t){return r[t]&&(n.stringifyFirst||r[t].value===t)||e.push(t),e}),[]):Zr(e)?Object.keys(e).reduce((function(t,n){return r[n]||(t[n]=e[n]),t}),{}):e}(n.childIds,t))}}])&&ho(n.prototype,r),o&&ho(n,o),t}();function _o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Eo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._list=t,this._position=-1}var t,n,r;return t=e,(n=[{key:"getPosition",value:function(){return this._position}},{key:"getComponent",value:function(){return this._list.getAtPosition(this.getPosition())}},{key:"next",value:function(){return this.getPosition()+1<this._list.getLength()?(this._position++,this.getComponent()):null}}])&&ko(t.prototype,n),r&&ko(t,r),e}();function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wo(e,t,n[t])}))}return e}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Po=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._list=[],this._idToIndex={},this._longestSequence=1,this._longestSequenceComponentId=null,this._keyMapEventRecord=$r.newRecord()}var t,n,r;return t=e,(n=[{key:"getNewIterator",value:function(){return new Eo(this)}},{key:"add",value:function(e,t,n,r){if(this.containsId(e))return this.update(e,t,n,r);var o=this._build(e,t,n,r);this._list.push(o);var i=this._getLastIndex();return this._idToIndex[e]=i}},{key:"containsId",value:function(e){return!!this.get(e)}},{key:"get",value:function(e){return this.getAtPosition(this.getIndexById(e))}},{key:"getIndexById",value:function(e){return this._idToIndex[e]}},{key:"update",value:function(e,t,n,r){var o=this._isUpdatingComponentWithLongestSequence(e),i=this.getLongestSequence(),a=this._build(e,t,n,r);o&&a.sequenceLength!==i&&(a.sequenceLength>i?this._longestSequence=a.sequenceLength:this._recalculateLongestSequence()),this._list[this.getIndexById(e)]=a}},{key:"remove",value:function(e){var t=this._isUpdatingComponentWithLongestSequence(e);this.removeAtPosition(this.getIndexById(e)),t&&this._recalculateLongestSequence()}},{key:"any",value:function(){return 0!==this.getLength()}},{key:"isRoot",value:function(e){return this.getIndexById(e)>=this.getLength()-1}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"anyActionsForEventType",value:function(e){return!!this._keyMapEventRecord[e]}},{key:"getLength",value:function(){return this._list.length}},{key:"getAtPosition",value:function(e){return this._list[e]}},{key:"removeAtPosition",value:function(e){var t,n;this._list=(t=this._list,n=e,[].concat(_o(t.slice(0,n)),_o(t.slice(n+1))));for(var r=e;r<this.getLength();)this._idToIndex[this.getAtPosition(r).componentId]=r,r++}},{key:"toJSON",value:function(){return this._list}},{key:"_getLastIndex",value:function(){return this.getLength()-1}},{key:"_build",value:function(e,t,n,r){var o=this._applyHardSequences(t,n),i=o.keyMap,a=o.handlers;return{actions:this._buildActionDictionary(Oo({},t,i),r,e),handlers:a,componentId:e,options:r}}},{key:"_isUpdatingComponentWithLongestSequence",value:function(e){return e===this._getLongestSequenceComponentId()}},{key:"_getLongestSequenceComponentId",value:function(){return this._longestSequenceComponentId}},{key:"_recalculateLongestSequence",value:function(){for(var e=this.getNewIterator();e.next();){var t=e.getComponent(),n=t.longestSequence,r=t.componentId;n>this.getLongestSequence()&&(this._longestSequenceComponentId=r,this._longestSequence=n)}}},{key:"_applyHardSequences",value:function(e,t){return Wn.option("enableHardSequences")?Object.keys(t).reduce((function(n,r){return!e[r]&&Ur.isValidKeySerialization(r)&&(n.keyMap[r]=r),n.handlers[r]=t[r],n}),{keyMap:{},handlers:{}}):{keyMap:e,handlers:t}}},{key:"_buildActionDictionary",value:function(e,t,n){var r=this;return Object.keys(e).reduce((function(o,i){var a=e[i];return(Zr(a)&&tr(a,"sequences")?lo(a.sequences):lo(a)).forEach((function(e){var a=function(e,t){if(Zr(e)){var n=e.sequence,r=e.action;return{keySequence:n,keyEventType:Gr(r)?Jn[t.defaultKeyEvent]:Jn[r]}}return{keySequence:e,keyEventType:Jn[t.defaultKeyEvent]}}(e,t),s=a.keySequence,u=a.keyEventType;r._addActionOptions(o,n,i,s,u)})),o}),{})}},{key:"_addActionOptions",value:function(e,t,n,r,o){var i=Tr.parse(r,{keyEventType:o}),a=i.sequence,s=i.combination;a.size>this.getLongestSequence()&&(this._longestSequence=a.size,this._longestSequenceComponentId=t),this._keyMapEventRecord[o]=Xr,e[n]||(e[n]=[]),e[n].push(Oo({prefix:a.prefix,actionName:n,sequenceLength:a.size},s))}}])&&So(t.prototype,n),r&&So(t,r),e}();function Co(e,t){return e[e.length-(t+1)]}for(var Io={Enter:!0,Backspace:!0,ArrowRight:!0,ArrowLeft:!0,ArrowUp:!0,ArrowDown:!0,CapsLock:!0},To=1;To<13;To++)Io["F".concat(To)]=!0;function jo(e){return 1===e.length||tr(Io,e)}function xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ko(e,t,n[t])}))}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._actionConfigs={},this._order=null}var t,n,r;return t=e,(n=[{key:"addMatch",value:function(e,t){if(this._includesMatcherForCombination(e.id)){var n=e.keyEventType,r=e.actionName,o=e.id;this._addHandlerToActionConfig(o,{keyEventType:n,actionName:r,handler:t})}else this._addNewActionConfig(e,t)}},{key:"findMatch",value:function(e,t,n){this._order||this._setOrder();var r=!0,o=!1,i=void 0;try{for(var a,s=this._order[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this._actionConfigs[u];if(this._matchesActionConfig(e,t,n,l))return l}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return null}},{key:"toJSON",value:function(){return{actionConfigs:this._actionConfigs,order:this._order}}},{key:"_matchesActionConfig",value:function(e,t,n,r){if(!function(e,t){var n=eo(t.keyDictionary);return Wn.option("allowCombinationSubmatches")||function(e){return!!e.isKeyStillPressed("Meta")&&e.some((function(e){return jo(e)}))}(e)?e.getNumberOfKeys()>=n:e.getNumberOfKeys()===n}(e,r))return!1;if(!r.events[n])return!1;var o=!1;return Object.keys(r.keyDictionary).every((function(r){return!!e.isEventTriggered(r,n)&&(t&&t===e.getNormalizedKeyName(r)&&(o=!e.wasEventPreviouslyTriggered(r,n)),!0)}))&&o}},{key:"_setOrder",value:function(){var e=Object.values(this._actionConfigs).reduce((function(e,t){var n=t.id,r=t.size;return e[r]||(e[r]=[]),e[r].push(n),e}),{});this._order=Object.keys(e).sort((function(e,t){return t-e})).reduce((function(t,n){return t.concat(e[n])}),[])}},{key:"_addNewActionConfig",value:function(e,t){var n=e.prefix,r=e.sequenceLength,o=e.id,i=e.keyDictionary,a=e.size,s=e.keyEventType,u=e.actionName;this._setCombinationMatcher(o,{prefix:n,sequenceLength:r,id:o,keyDictionary:i,size:a,events:{}}),this._addHandlerToActionConfig(o,{keyEventType:s,actionName:u,handler:t})}},{key:"_addHandlerToActionConfig",value:function(e,t){var n=t.keyEventType,r=t.actionName,o=t.handler,i=this._getCombinationMatcher(e);this._setCombinationMatcher(e,xo({},i,{events:xo({},i.events,Ko({},n,{actionName:r,handler:o}))}))}},{key:"_setCombinationMatcher",value:function(e,t){this._actionConfigs[e]=t}},{key:"_getCombinationMatcher",value:function(e){return this._actionConfigs[e]}},{key:"_includesMatcherForCombination",value:function(e){return!!this._getCombinationMatcher(e)}}])&&Mo(t.prototype,n),r&&Mo(t,r),e}();function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ro=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._combinationMatchers={},this._eventRecord=$r.newRecord()}var t,n,r;return t=e,(n=[{key:"addMatch",value:function(e,t){this._getOrCreateCombinationMatcher(e.prefix).addMatch(e,t),$r.setBit(this._eventRecord,e.keyEventType,Xr),(!this._longestSequence||this._longestSequence<e.sequenceLength)&&(this._longestSequence=e.sequenceLength)}},{key:"findMatch",value:function(e,t,n){var r=this._findCombinationMatcher(e);return r?r.findMatch(e.getCurrentCombination(),e.getCurrentCombination().getNormalizedKeyName(t),n):null}},{key:"hasMatchesForEventType",value:function(e){return!!this._eventRecord[e]}},{key:"getLongestSequence",value:function(){return this._longestSequence}},{key:"toJSON",value:function(){var e=this;return Object.keys(this._combinationMatchers).reduce((function(t,n){var r=e._combinationMatchers[n];return t[n]=r.toJSON(),t}),{})}},{key:"_getOrCreateCombinationMatcher",value:function(e){return this._combinationMatchers[e]||(this._combinationMatchers[e]=new Lo),this._combinationMatchers[e]}},{key:"_findCombinationMatcher",value:function(e){var t=e.getMostRecentCombinations(this.getLongestSequence());if(0===t.length)return this._combinationMatchers[""];for(var n=t.map((function(e){return e.getIds()})),r=n.map((function(e){return e.length})),o=new Array(n.length).fill(0),i=!1;!i;){var a=o.map((function(e,t){return n[t][e]})).join(" ");if(this._combinationMatchers[a])return this._combinationMatchers[a];for(var s=0,u=!0;u&&s<o.length;){var l=(Co(o,s)+1)%(Co(r,s)||1);o[o.length-(s+1)]=l,(u=0===l)&&s++}i=s===o.length}}}])&&Ao(t.prototype,n),r&&Ao(t,r),e}();function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var No=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keyMapMatchers=[],this._unmatchedHandlerStatus=[],this._handlersDictionary={},this._keySequencesDictionary={};for(var n=t.getNewIterator();n.next();){var r=n.getComponent().handlers;this._unmatchedHandlerStatus.push([Object.keys(r).length,{}]),this._keyMapMatchers.push(new Ro)}this._componentList=t,this._componentListIterator=t.getNewIterator()}var t,n,r;return t=e,(n=[{key:"getKeyHistoryMatcher",value:function(e){if(this._componentHasUnmatchedHandlers(e))for(;this._componentListIterator.next();)this._addHandlersFromComponent(),this._addActionsFromComponent();return this._getKeyHistoryMatcher(e)}},{key:"componentHasActionsBoundToEventType",value:function(e,t){return this.getKeyHistoryMatcher(e).hasMatchesForEventType(t)}},{key:"findMatchingKeySequenceInComponent",value:function(e,t,n,r){return this.componentHasActionsBoundToEventType(e,r)?this.getKeyHistoryMatcher(e).findMatch(t,n,r):null}},{key:"_getKeyHistoryMatcher",value:function(e){return this._keyMapMatchers[e]}},{key:"_addActionsFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().actions;Object.keys(t).forEach((function(n){var r=e._getHandlers(n);if(r){var o=r[0],i=e._componentList.getAtPosition(o).handlers[n],a=e._getKeyHistoryMatcher(o);t[n].forEach((function(t){var n=[t.prefix,t.id].join(" ");e._isClosestHandlerFound(n,t)||(a.addMatch(t,i),e._addKeySequence(n,[o,t.keyEventType]))})),r.forEach((function(t){var r=e._getUnmatchedHandlerStatus(t);r[1][n]||(r[1][n]=!0,r[0]--)}))}}))}},{key:"_getHandlers",value:function(e){return this._handlersDictionary[e]}},{key:"_addHandlersFromComponent",value:function(){var e=this,t=this._componentListIterator.getComponent().handlers;Object.keys(t).forEach((function(t){e._addHandler(t)}))}},{key:"_addHandler",value:function(e){this._handlersDictionary[e]||(this._handlersDictionary[e]=[]),this._handlersDictionary[e].push(this._componentListIterator.getPosition())}},{key:"_addKeySequence",value:function(e,t){this._keySequencesDictionary[e]||(this._keySequencesDictionary[e]=[]),this._keySequencesDictionary[e].push(t)}},{key:"_componentHasUnmatchedHandlers",value:function(e){return this._getUnmatchedHandlerStatus(e)[0]>0}},{key:"_getUnmatchedHandlerStatus",value:function(e){return this._unmatchedHandlerStatus[e]}},{key:"_isClosestHandlerFound",value:function(e,t){return this._keySequencesDictionary[e]&&this._keySequencesDictionary[e].some((function(e){return e[1]===t.keyEventType}))}}])&&Do(t.prototype,n),r&&Do(t,r),e}();function Ho(e,t,n){return n.forEach((function(n){tr(e,n)&&(t[n]=e[n])})),t}function Fo(e){switch(parseInt(e,10)){case 0:return"keydown";case 1:return"keypress";default:return"keyup"}}function qo(e){return JSON.stringify(e,Uo,4)}function Uo(e,t){return"function"==typeof t?t.toString():t}function Bo(e){return e.simulated?Yr:Xr}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xo=["sequence","action"],Yo=["name","description","group"],Vo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;Go(this,e),this.logger=t.logger||new $n("warn"),this.componentId=-1,this.keyEventManager=n,this._componentTree=new bo,this.rootComponentId=null,this._reset(),this.resetKeyHistory()}var t,n,r;return t=e,(n=[{key:"_reset",value:function(){this.componentList=new Po,this._initHandlerResolutionState()}},{key:"_newKeyHistory",value:function(){return new ao({maxLength:this.componentList.getLongestSequence()})}},{key:"getKeyHistory",value:function(){return this._keyHistory?this._keyHistory:(this._keyHistory=this._newKeyHistory(),this._keyHistory)}},{key:"_initHandlerResolutionState",value:function(){this._actionResolver=null}},{key:"resetKeyHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.keypressEventsToSimulate=[],this.keyupEventsToSimulate=[],this.getKeyHistory().any()&&!e.force?this._keyHistory=new ao({maxLength:this.componentList.getLongestSequence()},new ro(this.getCurrentCombination().keysStillPressedDict())):this._keyHistory=this._newKeyHistory()}},{key:"getApplicationKeyMap",value:function(){return null===this.rootComponentId?{}:this._buildApplicationKeyMap([this.rootComponentId],{})}},{key:"_buildApplicationKeyMap",value:function(e,t){var n=this;return e.forEach((function(e){var r=n._componentTree.get(e),o=r.childIds,i=r.keyMap;i&&Object.keys(i).forEach((function(e){var r=i[e];t[e]={},Zr(r)?tr(r,"sequences")?(Ho(r,t[e],Yo),t[e].sequences=n._createSequenceFromConfig(r.sequences)):(Ho(r,t[e],Yo),t[e].sequences=[Ho(r,{},Xo)]):t[e].sequences=n._createSequenceFromConfig(r)})),n._buildApplicationKeyMap(o,t)})),t}},{key:"_createSequenceFromConfig",value:function(e){return lo(e).map((function(e){return Zr(e)?Ho(e,{},Xo):{sequence:e}}))}},{key:"registerKeyMap",value:function(e){return this.componentId+=1,this._componentTree.add(this.componentId,e),this.logger.verbose(this._logPrefix(this.componentId),"Registered component:\n","".concat(qo(this._componentTree.get(this.componentId)))),this.componentId}},{key:"reregisterKeyMap",value:function(e,t){this._componentTree.update(e,t)}},{key:"registerComponentMount",value:function(e,t){Gr(t)?this.rootComponentId=e:this._componentTree.setParent(e,t),this.logger.verbose(this._logPrefix(e),"Registered component mount:\n","".concat(qo(this._componentTree.get(e))))}},{key:"deregisterKeyMap",value:function(e){this._componentTree.remove(e),this.logger.verbose(this._logPrefix(e),"De-registered component. Remaining component Registry:\n","".concat(qo(this._componentTree.toJSON()))),e===this.rootComponentId&&(this.rootComponentId=null)}},{key:"_addComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this.componentList.add(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence())}},{key:"_allKeysAreReleased",value:function(){return this.getCurrentCombination().hasEnded()}},{key:"getCurrentCombination",value:function(){return this.getKeyHistory().getCurrentCombination()}},{key:"_shouldSimulate",value:function(e,t){var n=function(e){return!hr(e)}(t),r=this.getCurrentCombination();return e===Jn.keypress?!n||n&&r.isKeyStillPressed("Meta"):e===Jn.keyup&&jo(t)&&r.isKeyReleased("Meta")}},{key:"_cloneAndMergeEvent",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zo(e,t,n[t])}))}return e}({},Object.keys(Zn).reduce((function(t,n){return t[n]=e[n],t}),{}),t)}},{key:"_callClosestMatchingHandler",value:function(e,t,n,r,o){for(this._actionResolver||(this._actionResolver=new No(this.componentList));o<=r;){var i=this._actionResolver.getKeyHistoryMatcher(o);this.logger.verbose(this._logPrefix(o),"Internal key mapping:\n","".concat(qo(i.toJSON())));var a=this._actionResolver.findMatchingKeySequenceInComponent(o,this.getKeyHistory(),t,n),s=this.getCurrentCombination();if(a){var u=a.events[n];if(Wn.option("allowCombinationSubmatches")){var l=Ur.serialize(a.keyDictionary);this.logger.debug(this._logPrefix(o),"Found action that matches '".concat(s.describe(),"' (sub-match: '").concat(l,"'): ").concat(u.actionName,". Calling handler . . ."))}else this.logger.debug(this._logPrefix(o),"Found action that matches '".concat(s.describe(),"': ").concat(u.actionName,". Calling handler . . ."));return u.handler(e),this._stopEventPropagationAfterHandlingIfEnabled(e,o),!0}if(this._actionResolver.componentHasActionsBoundToEventType(o,n)){var c=Fo(n);this.logger.debug(this._logPrefix(o),"No matching actions found for '".concat(s.describe(),"' ").concat(c,"."))}else this.logger.debug(this._logPrefix(o),"Doesn't define a handler for '".concat(s.describe(),"' ").concat(Fo(n),"."));o++}}},{key:"_stopEventPropagationAfterHandlingIfEnabled",value:function(e,t){return!!Wn.option("stopEventPropagationAfterHandling")&&(this._stopEventPropagation(e,t),!0)}},{key:"_stopEventPropagation",value:function(e,t){throw new Error("_stopEventPropagation must be overridden by a subclass")}},{key:"_checkForModifierFlagDiscrepancies",value:function(e,t,n){var r=this;Object.keys(Zn).forEach((function(o){if(t!==o||n!==Jn.keyup){var i=r.getCurrentCombination(),a=i.isKeyStillPressed(o);Zn[o].forEach((function(t){!1===e[t]&&a&&i.setKeyState(o,Jn.keyup,Bo(e))}))}}))}},{key:"_logPrefix",value:function(){}}])&&Wo(t.prototype,n),r&&Wo(t,r),e}();function $o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getId",value:function(){return Gr(this._id)&&(this._id=0),this._id}},{key:"incrementId",value:function(){this._id=this.getId()+1}}],(n=null)&&$o(t.prototype,n),r&&$o(t,r),e}();var Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};function Qo(e){var t,n,r=(t=Wn.option("customKeyCodes"),n=e.keyCode||e.charCode,tr(t,n)?t[n]:e.nativeEvent?e.key:function(e){if(e.key){var t=Zo[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""}(e));return"+"===r?"plus":r}function ei(e){return"Meta"===e}function ti(e,t,n){var r="'".concat(t,"' ").concat(Fo(n));return e.simulated?"(simulated) ".concat(r):r}var ni=0,ri=1,oi=2,ii=4;function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var si=function(){function e(t,n){var r=n.logger,o=n.logPrefix;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._componentList=t,this._previousPropagation=null,this.logger=r,this._logPrefix=o,this._reset()}var t,n,r;return t=e,(n=[{key:"_reset",value:function(){this._previousPosition=-1,this._position=-1,this._actionHandled=!1,this._ignoreEvent=!1,this._observeIgnoredEvents=!1,this._stopping=!1,this._componentId=null,this._key=null,this._type=null}},{key:"isFirstPropagationStep",value:function(){var e=this.getPreviousPosition();return-1===e||e>=this._position}},{key:"isForKey",value:function(e){return this._key===e}},{key:"isForEventType",value:function(e){return this._type===e}},{key:"startNewPropagationStep",value:function(e,t,n,r){return this._position=this._componentList.getIndexById(e),this._componentId=e,this.isFirstPropagationStep()&&(Jo.incrementId(),this._key=t.key,this._type=r),!t.repeat||!Wn.option("ignoreRepeatedEventsWhenKeyHeldDown")||(this.logger.debug(this._logPrefix(e),"Ignored repeated ".concat(ti(t,n,Jn.keydown)," event.")),this.ignoreEvent(t),!1)}},{key:"finishPropagationStep",value:function(){this.isStopped()||this._componentList.isRoot(this._componentId)?(this._previousPropagation=this._clone(),this._reset()):this._previousPosition=this._position}},{key:"getPreviousPropagation",value:function(){return this._previousPropagation||(this._previousPropagation=this._clone({copyState:!1})),this._previousPropagation}},{key:"getPreviousPosition",value:function(){return this._previousPosition}},{key:"observeIgnoredEvents",value:function(){this._observeIgnoredEvents=!0}},{key:"ignoreEvent",value:function(e){return this.setIgnoreEvent(!0),!(!this.isIgnoringEvent()||!Wn.option("stopEventPropagationAfterIgnoring")||(this.logger.debug(this._logPrefix(this._componentId),"Stopping further event propagation."),this.stop(e),this.finishPropagationStep(),0))}},{key:"setIgnoreEvent",value:function(e){this._ignoreEvent=e}},{key:"isIgnoringEvent",value:function(){return!this._observeIgnoredEvents&&this._ignoreEvent}},{key:"isStopped",value:function(){return this._stopping}},{key:"stop",value:function(e){return!this.isStopped()&&(this._stopping=!0,e.simulated||e.stopPropagation(),!0)}},{key:"isPendingPropagation",value:function(){var e=this.getPreviousPosition();return-1!==e&&e+1<this._position}},{key:"isHandled",value:function(){return this._actionHandled}},{key:"setHandled",value:function(){this._actionHandled=!0}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.copyState,r=void 0===n||n,o=new e(this._componentList,{logger:this.logger,logPrefix:this._logPrefix});return r&&Object.assign(o,this),o}}])&&ai(t.prototype,n),r&&ai(t,r),e}();function ui(t){return(ui="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t){return!t||"object"!==ui(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function di(e,t,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hi(e,t){return(hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return li(this,t),(e=fi(this,pi(t).call(this,n,r))).focusTreeId=0,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hi(e,t)}(t,Vo),n=t,(r=[{key:"_reset",value:function(){di(pi(t.prototype),"_reset",this).call(this),this.keypressEventsToSimulate=[],this.focusTreeId+=1,this.eventPropagator=new si(this.componentList,{logger:this.logger,logPrefix:this._logPrefix.bind(this)})}},{key:"enableHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(this.resetOnNextFocus&&(this._reset(),this.resetOnNextFocus=!1),!this.componentList.containsId(e))return this._addComponent(e,t,n,r),this.logger.debug(this._logPrefix(e,{eventId:!1}),"Focused. \n"),this.logger.verbose(this._logPrefix(e,{eventId:!1}),"Component options:\n",qo(this.componentList.get(e))),this.focusTreeId}},{key:"updateEnabledHotKeys",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;e===this.focusTreeId&&this.componentList.containsId(t)&&(this.componentList.update(t,n,r,o),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this.logger.debug(this._logPrefix(t,{focusTreeId:e,eventId:!1}),"Received new props."),this._initHandlerResolutionState(),this.logger.verbose(this._logPrefix(t,{focusTreeId:e,eventId:!1}),"Component options:\n",qo(this.componentList.get(t))))}},{key:"disableHotKeys",value:function(e,t){this.resetOnNextFocus||(this.resetOnNextFocus=!0);var n=this.eventPropagator.isPendingPropagation();return this.logger.debug("".concat(this._logPrefix(t,{focusTreeId:e,eventId:!1})),"Lost focus".concat(n?" (Key event has yet to propagate through it)":"",".")),n}},{key:"handleKeydown",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Qo(e);if(t!==this.focusTreeId)return this.logger.debug(this._logPrefix(n),"Ignored ".concat(ti(e,o,Jn.keydown)," event because it had an old focus tree id: ").concat(t,".")),this.eventPropagator.ignoreEvent(e),!0;var i=this.eventPropagator.startNewPropagationStep(n,e,o,Jn.keydown);if(i){var a=this._howToHandleKeyEvent(e,t,n,o,r,Jn.keydown);if(a===ii){var s=Bo(e),u=this.getCurrentCombination();u.isKeyIncluded(o)||u.isEnding()?this._startAndLogNewKeyCombination(o,t,n,s):this._addToAndLogCurrentKeyCombination(o,Jn.keydown,t,n,s),this._callHandlerIfActionNotHandled(e,o,Jn.keydown,n,t)}return this._simulateKeyPressForNonPrintableKeys(e,o,t,n,r),this.eventPropagator.finishPropagationStep(),!1}}},{key:"_howToHandleKeyEvent",value:function(e,t,n,r,o,i){if(this.eventPropagator.isFirstPropagationStep()){if(o.ignoreEventsCondition(e)&&this.eventPropagator.ignoreEvent(e))return this._eventIsToBeIgnored(e,n,r,i);this.logger.debug(this._logPrefix(n),"New ".concat(ti(e,r,i)," event.")),this._checkForModifierFlagDiscrepancies(e,r,i)}else if(this.eventPropagator.isIgnoringEvent())return this._eventIsToBeIgnored(e,n,r,i);return ii}},{key:"_eventIsToBeIgnored",value:function(e,t,n,r){return this.logger.debug(this._logPrefix(t),"Ignored ".concat(ti(e,n,r)," event because ignoreEventsFilter rejected it.")),ri}},{key:"handleKeyPress",value:function(e,t,n,r){var o=Qo(e),i=this.getCurrentCombination();if(i.isKeyPressSimulated(o))return this.logger.debug(this._logPrefix(n),"Ignored ".concat(ti(e,o,Jn.keypress)," as it was not expected, and has already been simulated.")),this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,o,Jn.keypress)){var a=t!==this.focusTreeId,s=this._howToHandleKeyEvent(e,t,n,o,r,Jn.keypress);return this.eventPropagator.isFirstPropagationStep(n)&&i.isKeyIncluded(o)&&this._addToAndLogCurrentKeyCombination(o,Jn.keypress,t,n,Bo(e)),s===ii&&this._callHandlerIfActionNotHandled(e,o,Jn.keypress,n,t),this.eventPropagator.finishPropagationStep(),a}}},{key:"handleKeyUp",value:function(e,t,n,r){var o=Qo(e),i=this.getCurrentCombination();if(i.isKeyUpSimulated(o))return this.logger.debug(this._logPrefix(n),"Ignored ".concat(ti(e,o,Jn.keyup)," as it was not expected, and has already been simulated.")),this.eventPropagator.ignoreEvent(e),!0;if(this.eventPropagator.startNewPropagationStep(n,e,o,Jn.keyup)){var a=t!==this.focusTreeId,s=this._howToHandleKeyEvent(e,t,n,o,r,Jn.keyup);return this.eventPropagator.isFirstPropagationStep(n)&&i.isKeyIncluded(o)&&this._addToAndLogCurrentKeyCombination(o,Jn.keyup,t,n,Bo(e)),s===ii&&this._callHandlerIfActionNotHandled(e,o,Jn.keyup,n,t),this._simulateKeyUpEventsHiddenByCmd(e,o,t,n,r),this.eventPropagator.finishPropagationStep(),a}}},{key:"closeHangingKeyCombination",value:function(e,t){var n=this.getCurrentCombination();n.isKeyIncluded(e)&&!n.isEventTriggered(e,t)&&n.setKeyState(e,t,Yr)}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t,n,r,o){this._handleEventSimulation("keypressEventsToSimulate","simulatePendingKeyPressEvents",this._shouldSimulate(Jn.keypress,t),{event:e,key:t,focusTreeId:n,componentId:r,options:o})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t,n,r,o){var i=this;ei(t)&&this.getCurrentCombination().forEachKey((function(t){ei(t)||i._handleEventSimulation("keyupEventsToSimulate","simulatePendingKeyUpEvents",i._shouldSimulate(Jn.keyup,t),{event:e,key:t,focusTreeId:n,componentId:r,options:o})}))}},{key:"_stopEventPropagation",value:function(e,t){this.eventPropagator.stop(e)&&this.logger.debug(this._logPrefix(t),"Stopping further event propagation.")}},{key:"getEventPropagator",value:function(){return this.eventPropagator}},{key:"_startAndLogNewKeyCombination",value:function(e,t,n,r){this.getKeyHistory().startNewKeyCombination(e,r),this.logger.verbose(this._logPrefix(n,{focusTreeId:t}),"Started a new combination with '".concat(e,"'.")),this.logger.verbose(this._logPrefix(n,{focusTreeId:t}),"Key history: ".concat(qo(this.getKeyHistory().toJSON()),"."))}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n,r,o){this.getKeyHistory().addKeyToCurrentCombination(e,t,o),t===Jn.keydown&&this.logger.verbose(this._logPrefix(r,{focusTreeId:n}),"Added '".concat(e,"' to current combination: '").concat(this.getCurrentCombination().describe(),"'.")),this.logger.verbose(this._logPrefix(r,{focusTreeId:n}),"Key history: ".concat(qo(this.getKeyHistory().toJSON()),"."))}},{key:"_handleEventSimulation",value:function(e,t,n,r){var o=r.event,i=r.key,a=r.focusTreeId,s=r.componentId,u=r.options;if(n&&Wn.option("simulateMissingKeyPressEvents")){var l=this._cloneAndMergeEvent(o,{key:i,simulated:!0});this[e].push({event:l,focusTreeId:a,componentId:s,options:u})}(this.componentList.isRoot(s)||this.eventPropagator.isStopped())&&(this.keyEventManager.isGlobalListenersBound()||this[t]())}},{key:"simulatePendingKeyPressEvents",value:function(){this._simulatePendingKeyEvents("keypressEventsToSimulate","handleKeyPress")}},{key:"simulatePendingKeyUpEvents",value:function(){this._simulatePendingKeyEvents("keyupEventsToSimulate","handleKeyUp")}},{key:"_simulatePendingKeyEvents",value:function(e,t){var n=this;this[e].length>0&&Jo.incrementId(),this[e].forEach((function(e){var r=e.event,o=e.focusTreeId,i=e.componentId,a=e.options;n[t](r,o,i,a)})),this[e]=[]}},{key:"_callHandlerIfActionNotHandled",value:function(e,t,n,r,o){var i=Fo(n),a=this.getCurrentCombination().describe();if(this.componentList.anyActionsForEventType(n))if(this.eventPropagator.isHandled())this.logger.debug(this._logPrefix(r,{focusTreeId:o}),"Ignored '".concat(a,"' ").concat(i," as it has already been handled."));else{this.logger.verbose(this._logPrefix(r,{focusTreeId:o}),"Attempting to find action matching '".concat(a,"' ").concat(i," . . ."));var s=this.eventPropagator.getPreviousPosition(),u=this.componentList.getIndexById(r);this._callClosestMatchingHandler(e,t,n,u,-1===s?0:s)&&this.eventPropagator.setHandled()}else this.logger.verbose(this._logPrefix(r,{focusTreeId:o}),"Ignored '".concat(a,"' ").concat(i," because it doesn't have any ").concat(i," handlers."))}},{key:"_logPrefix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$n.logIcons,r=$n.eventIcons,o=$n.componentIcons,i="HotKeys (";if(!1!==t.focusTreeId){var a=Gr(t.focusTreeId)?this.focusTreeId:t.focusTreeId;i+="F".concat(a).concat(n[a%n.length],"-")}if(!1!==t.eventId){var s=Gr(t.eventId)?Jo.getId():t.eventId;i+="E".concat(s).concat(r[s%r.length],"-")}i+="C".concat(e).concat(o[e%o.length]);var u=this.componentList.getIndexById(e);return Gr(u)||(i+="-P".concat(u).concat(o[u%o.length],":")),"".concat(i,")")}}])&&ci(n.prototype,r),o&&ci(n,o),t}();function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(e)||sr(e)?n.stringifyFirst?!Gr(e.find((function(e){return e.toString()===t.toString()}))):-1!==e.indexOf(t):Zr(e)?tr(e,t):n.stringifyFirst?e.toString()===t.toString():e===t}function gi(e){return e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}function mi(e){return"".concat(gi(e.slice(0,3))).concat(gi(e.slice(3)))}function bi(t){return(bi="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return!t||"object"!==bi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oi(e,t,n){return(Oi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return _i(this,t),(e=Ei(this,wi(t).call(this,n,r))).listenersBound=!1,e.eventOptions={ignoreEventsCondition:Wn.option("ignoreEventsCondition")},e.listeners={},e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(t,Vo),n=t,(r=[{key:"enableHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;this.eventOptions=o,this._addComponent(e,t,n,r),this._updateDocumentHandlers(),this._initHandlerResolutionState(),this.logger.debug(this._logPrefix(e,{eventId:!1}),"Mounted."),this.logger.verbose(this._logPrefix(e,{eventId:!1}),"Component options: \n",qo(this.componentList.get(e)))}},{key:"updateEnabledHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;this.eventOptions=o,this.componentList.update(e,t,n,r),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState(),this.logger.debug(this._logPrefix(e,{eventId:!1}),"Global component ".concat(e," updated.")),this.logger.verbose(this._logPrefix(e,{eventId:!1}),"Component options: \n",qo(this.componentList.get(e)))}},{key:"disableHotKeys",value:function(e){this.componentList.remove(e),this.getKeyHistory().setMaxLength(this.componentList.getLongestSequence()),this._updateDocumentHandlers(),this._initHandlerResolutionState(),this.logger.debug(this._logPrefix(e,{eventId:!1}),"Unmounted global component ".concat(e))}},{key:"_updateDocumentHandlers",value:function(){var e=this,t=this._listenersShouldBeBound();!this.listenersBound&&t?(Object.values(Jn).forEach((function(t){var n=Fo(t);document["on".concat(n)]=function(t){e.keyEventManager["handleGlobal".concat(mi(n))](t)},e.logger.debug(e._logPrefix(e.componentId,{eventId:!1}),"Bound handler handleGlobal".concat(mi(n),"() to document.on").concat(n,"()"))})),this.listenersBound=!0):this.listenersBound&&!t&&(Object.values(Jn).forEach((function(t){var n=Fo(t);delete document["on".concat(n)],e.logger.debug(e._logPrefix(e.componentId,{eventId:!1}),"Removed handler handleGlobal".concat(mi(n),"() from document.on").concat(n,"()"))})),this.listenersBound=!1)}},{key:"_listenersShouldBeBound",value:function(){return this.componentList.any()||this.listeners.keyCombination}},{key:"handleKeydown",value:function(e){var t=Qo(e);if(e.repeat&&Wn.option("ignoreRepeatedEventsWhenKeyHeldDown"))return this.logger.debug(this._logPrefix(),"Ignored repeated ".concat(ti(e,t,Jn.keydown)," event.")),!0;this._checkForModifierFlagDiscrepancies(e,t,Jn.keydown);var n=this._howReactAppRespondedTo(e,t,Jn.keydown);if(n===ni&&this.eventOptions.ignoreEventsCondition(e))this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,Jn.keydown)," event because ignoreEventsFilter rejected it."));else{if(n!==ri){var r=Bo(e),o=this.getCurrentCombination();o.isKeyIncluded(t)||o.isEnding()?this._startAndLogNewKeyCombination(t,r):this._addToAndLogCurrentKeyCombination(t,Jn.keydown,r)}vi([ri,ii],n)||this._callHandlerIfExists(e,t,Jn.keydown),this._simulateKeyPressForNonPrintableKeys(e,t)}}},{key:"_howReactAppRespondedTo",value:function(e,t,n){var r=this.keyEventManager.reactAppHistoryWithEvent(t,n);switch(r){case ii:this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,n)," event because React app has already handled it."));break;case ri:this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,n)," event because React app has declared it should be ignored."));break;case oi:this.logger.debug(this._logPrefix(),"Received ".concat(ti(e,t,n)," event (that has already passed through React app)."));break;default:Jo.incrementId(),this.logger.debug(this._logPrefix(),"New ".concat(ti(e,t,n)," event (that has NOT passed through React app)."))}return r}},{key:"handleKeyPress",value:function(e){var t=Qo(e);if(e.repeat&&Wn.option("ignoreRepeatedEventsWhenKeyHeldDown"))return this.logger.debug(this._logPrefix(),"Ignored repeated ".concat(ti(e,t,Jn.keypress)," event.")),!0;var n=this.getCurrentCombination();if(n.isKeyPressSimulated(t))return this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,Jn.keypress)," as it was not expected, and has already been simulated.")),!0;var r=this._howReactAppRespondedTo(e,t,Jn.keypress);n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,Jn.keypress,Bo(e)),r===ni&&(this.keyEventManager.closeHangingKeyCombination(t,Jn.keypress),this.eventOptions.ignoreEventsCondition(e))?this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,Jn.keypress)," event because ignoreEventsFilter rejected it.")):vi([ri,ii],r)||this._callHandlerIfExists(e,t,Jn.keypress)}},{key:"handleKeyUp",value:function(e){var t=Qo(e),n=this.getCurrentCombination();if(n.isKeyUpSimulated(t))return this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,Jn.keyup)," as it was not expected, and has already been simulated.")),!0;var r=this._howReactAppRespondedTo(e,t,Jn.keyup);n.isKeyIncluded(t)&&this._addToAndLogCurrentKeyCombination(t,Jn.keyup,Bo(e)),r===ni?(this.keyEventManager.closeHangingKeyCombination(t,Jn.keyup),this.eventOptions.ignoreEventsCondition(e)?this.logger.debug(this._logPrefix(),"Ignored ".concat(ti(e,t,Jn.keyup)," event because ignoreEventsFilter rejected it.")):vi([ri,ii],r)||this._callHandlerIfExists(e,t,Jn.keyup)):vi([ri,ii],r)||this._callHandlerIfExists(e,t,Jn.keyup),this._simulateKeyUpEventsHiddenByCmd(e,t),this.listeners.keyCombination&&this._allKeysAreReleased()&&this.listeners.keyCombination({keys:n.getKeyDictionary(),id:n.describe()})}},{key:"_simulateKeyPressForNonPrintableKeys",value:function(e,t){this.keyEventManager.simulatePendingKeyPressEvents(),this._handleEventSimulation("handleKeyPress",this._shouldSimulate(Jn.keypress,t),{event:e,key:t})}},{key:"_simulateKeyUpEventsHiddenByCmd",value:function(e,t){var n=this;ei(t)&&(this.keyEventManager.simulatePendingKeyUpEvents(),this.getCurrentCombination().forEachKey((function(t){ei(t)||n._handleEventSimulation("handleKeyUp",n._shouldSimulate(Jn.keyup,t),{event:e,key:t})})))}},{key:"_startAndLogNewKeyCombination",value:function(e,t){this.getKeyHistory().startNewKeyCombination(e,t),this.logger.verbose(this._logPrefix(),"Started a new combination with '".concat(e,"'.")),this.logger.verbose(this._logPrefix(),"Key history: ".concat(qo(this.getKeyHistory().toJSON()),"."))}},{key:"_addToAndLogCurrentKeyCombination",value:function(e,t,n){this.getKeyHistory().addKeyToCurrentCombination(e,t,n),t===Jn.keydown&&this.logger.verbose(this._logPrefix(),"Added '".concat(e,"' to current combination: '").concat(this.getCurrentCombination().describe(),"'.")),this.logger.verbose(this._logPrefix(),"Key history: ".concat(qo(this.getKeyHistory().toJSON()),"."))}},{key:"_handleEventSimulation",value:function(e,t,n){var r=n.event,o=n.key;if(t&&Wn.option("simulateMissingKeyPressEvents")){var i=this._cloneAndMergeEvent(r,{key:o,simulated:!0});this[e](i)}}},{key:"_callHandlerIfExists",value:function(e,t,n){var r=Fo(n),o=this.getCurrentCombination().describe();this.componentList.anyActionsForEventType(n)?(this.logger.verbose(this._logPrefix(),"Attempting to find action matching '".concat(o,"' ").concat(r," . . .")),this._callClosestMatchingHandler(e,t,n)):this.logger.debug(this._logPrefix(),"Ignored '".concat(o,"' ").concat(r," because it doesn't have any ").concat(r," handlers."))}},{key:"_callClosestMatchingHandler",value:function(e,n,r){for(var o=this.componentList.getNewIterator();o.next();)if(Oi(wi(t.prototype),"_callClosestMatchingHandler",this).call(this,e,n,r,o.getPosition(),0))return void this.logger.debug(this._logPrefix(),"Searching no further, as handler has been found (and called).")}},{key:"_stopEventPropagation",value:function(e,t){this.logger.debug(this._logPrefix(t),"Stopping further event propagation."),e.simulated||e.stopPropagation()}},{key:"addKeyCombinationListener",value:function(e){var t=this,n=function(){delete t.listeners.keyCombination};return this.listeners.keyCombination=function(t){e(t),n()},this._updateDocumentHandlers(),n}},{key:"_logPrefix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$n.eventIcons,r=$n.componentIcons,o="HotKeys (GLOBAL";if(!1!==t.eventId){var i=Gr(t.eventId)?Jo.getId():t.eventId;o="".concat(o,"-E").concat(i).concat(n[i%n.length])}return Gr(e)?"".concat(o,"):"):"".concat(o,"-C").concat(e).concat(r[e%r.length],"):")}}])&&ki(n.prototype,r),o&&ki(n,o),t}();function Ci(e){return!Gr(e)}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t,n){return t&&Ti(e.prototype,t),n&&Ti(e,n),e}var xi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ii(this,e),this.logger=t.logger||new $n(Wn.option("logLevel")),this._focusOnlyEventStrategy=new yi({configuration:t,logger:this.logger},this),this._globalEventStrategy=new Pi({configuration:t,logger:this.logger},this),this.mountedComponentsCount=0}return ji(e,null,[{key:"getInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.instance||(this.instance=new e(t)),this.instance}},{key:"clear",value:function(){delete this.instance}}]),ji(e,[{key:"getApplicationKeyMap",value:function(){return Object.assign(this._globalEventStrategy.getApplicationKeyMap(),this._focusOnlyEventStrategy.getApplicationKeyMap())}},{key:"registerKeyMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._focusOnlyEventStrategy.registerKeyMap(e)}},{key:"reregisterKeyMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._focusOnlyEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterKeyMap",value:function(e){this._focusOnlyEventStrategy.deregisterKeyMap(e)}},{key:"registerComponentMount",value:function(e,t){return this._incrementComponentCount(),this._focusOnlyEventStrategy.registerComponentMount(e,t)}},{key:"registerComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"_incrementComponentCount",value:function(){var e=this,t=this.mountedComponentsCount;this.mountedComponentsCount+=1,0===t&&1===this.mountedComponentsCount&&(window.onblur=function(){return e._clearKeyHistory()})}},{key:"_decrementComponentCount",value:function(){var e=this.mountedComponentsCount;this.mountedComponentsCount-=1,1===e&&0===this.mountedComponentsCount&&delete window.onblur}},{key:"_clearKeyHistory",value:function(){this.logger.info("HotKeys: Window focused - clearing key history"),this._focusOnlyEventStrategy.resetKeyHistory({force:!0}),this._globalEventStrategy.resetKeyHistory({force:!0})}},{key:"registerGlobalKeyMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._globalEventStrategy.registerKeyMap(e)}},{key:"registerGlobalComponentUnmount",value:function(){this._decrementComponentCount()}},{key:"registerGlobalComponentMount",value:function(e,t){return this._incrementComponentCount(),this._globalEventStrategy.registerComponentMount(e,t)}},{key:"reregisterGlobalKeyMap",value:function(e,t){this._globalEventStrategy.reregisterKeyMap(e,t)}},{key:"deregisterGlobalKeyMap",value:function(e){this._globalEventStrategy.deregisterKeyMap(e)}},{key:"addKeyCombinationListener",value:function(e){return this._globalEventStrategy.addKeyCombinationListener(e)}},{key:"enableHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return this._focusOnlyEventStrategy.enableHotKeys(e,t,n,r)}},{key:"updateEnabledHotKeys",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;return this._focusOnlyEventStrategy.updateEnabledHotKeys(e,t,n,r,o)}},{key:"disableHotKeys",value:function(e,t){return this._focusOnlyEventStrategy.disableHotKeys(e,t)}},{key:"handleKeydown",value:function(e,t,n,r){if(Ci(t))return this._focusOnlyEventStrategy.handleKeydown(e,t,n,r)}},{key:"handleKeyPress",value:function(e,t,n,r){if(Ci(t))return this._focusOnlyEventStrategy.handleKeyPress(e,t,n,r)}},{key:"handleKeyUp",value:function(e,t,n,r){if(Ci(t))return this._focusOnlyEventStrategy.handleKeyUp(e,t,n,r)}},{key:"enableGlobalHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return this._globalEventStrategy.enableHotKeys(e,t,n,r,o)}},{key:"updateEnabledGlobalHotKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return this._globalEventStrategy.updateEnabledHotKeys(e,t,n,r,o)}},{key:"disableGlobalHotKeys",value:function(e){return this._globalEventStrategy.disableHotKeys(e)}},{key:"handleGlobalKeyDown",value:function(e){return this._globalEventStrategy.handleKeydown(e)}},{key:"handleGlobalKeyPress",value:function(e){return this._globalEventStrategy.handleKeyPress(e)}},{key:"handleGlobalKeyUp",value:function(e){return this._globalEventStrategy.handleKeyUp(e)}},{key:"ignoreEvent",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().ignoreEvent(e)}},{key:"observeIgnoredEvents",value:function(e){this._focusOnlyEventStrategy.getEventPropagator().observeIgnoredEvents(e)}},{key:"closeHangingKeyCombination",value:function(e,t){this._focusOnlyEventStrategy.closeHangingKeyCombination(e,t)}},{key:"reactAppHistoryWithEvent",value:function(e,t){var n=this._focusOnlyEventStrategy.eventPropagator.getPreviousPropagation();return n.isForKey(e)&&n.isForEventType(t)?n.isHandled()?ii:n.isIgnoringEvent()?ri:oi:ni}},{key:"simulatePendingKeyPressEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyPressEvents()}},{key:"simulatePendingKeyUpEvents",value:function(){this._focusOnlyEventStrategy.simulatePendingKeyUpEvents()}},{key:"isGlobalListenersBound",value:function(){return this._globalEventStrategy.listenersBound}}]),e}();function Ki(e,t){var n=t.deprecatedAPI,r=n.contextTypes,o=n.childContextTypes,a=t.newAPI.contextType;if(void 0===i.createContext)e.contextTypes=r,e.childContextTypes=o,e.prototype.getChildContext=function(){return this._childContext};else{var s=i.createContext(a);e.contextType=s,e.prototype._originalRender=e.prototype.render,e.prototype.render=function(){var e=this._originalRender();return e?i.createElement(s.Provider,{value:this._childContext},e):null}}return e}function Mi(t){return(Mi="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ai(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t,n){return t&&Di(e.prototype,t),n&&Di(e,n),e}function Hi(e,t){return!t||"object"!==Mi(t)&&"function"!=typeof t?Bi(e):t}function Fi(e){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gi(e,t,n[t])}))}return e}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ji(e,t){return!t||"object"!==Wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qi(e,t){return(Qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(t){return(ea="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(e,n){return zi({},t[e]||{},n[e]||{})}function r(e){return n("handlers",e)}function o(e){return n("keyMap",e)}var a=function(t){function n(e){var t;return Ri(this,n),(t=Hi(this,Fi(n).call(this,e)))._handleFocus=t._handleFocus.bind(Bi(Bi(t))),t._handleBlur=t._handleBlur.bind(Bi(Bi(t))),t._handleKeyDown=t._handleKeyDown.bind(Bi(Bi(t))),t._handleKeyPress=t._handleKeyPress.bind(Bi(Bi(t))),t._handleKeyUp=t._handleKeyUp.bind(Bi(Bi(t))),t._componentIsFocused=t._componentIsFocused.bind(Bi(Bi(t))),t._id=xi.getInstance().registerKeyMap(e.keyMap),t._childContext={hotKeysParentId:t._id},t}return qi(n,s),Ni(n,[{key:"render",value:function(){var t=this.props,n=(t.keyMap,t.handlers,t.allowChanges,t.root,Ai(t,["keyMap","handlers","allowChanges","root"])),r={onFocus:this._wrapFunction("onFocus",this._handleFocus),onBlur:this._wrapFunction("onBlur",this._handleBlur),tabIndex:Wn.option("defaultTabIndex")};return this._shouldBindKeyListeners()&&(r.onKeyDown=this._handleKeyDown,r.onKeyPress=this._handleKeyPress,r.onKeyUp=this._handleKeyUp),i.createElement(e,Li({hotKeys:r},n))}},{key:"_shouldBindKeyListeners",value:function(){var e=o(this.props);return!Qr(e)||this.props.root||Wn.option("enableHardSequences")&&this._handlersIncludeHardSequences(e,r(this.props))}},{key:"_handlersIncludeHardSequences",value:function(e,t){return Object.keys(t).some((function(t){return!e[t]&&Ur.isValidKeySerialization(t)}))}},{key:"_wrapFunction",value:function(e,t){var n=this;return"function"==typeof this.props[e]?function(r){n.props[e](r),t(r)}:t}},{key:"_focusTreeIdsPush",value:function(e){this._focusTreeIds||(this._focusTreeIds=[]),this._focusTreeIds.push(e)}},{key:"_focusTreeIdsShift",value:function(){this._focusTreeIds&&this._focusTreeIds.shift()}},{key:"_getFocusTreeId",value:function(){if(this._focusTreeIds)return this._focusTreeIds[0]}},{key:"componentDidUpdate",value:function(){var e=xi.getInstance();if(e.reregisterKeyMap(this._id,this.props.keyMap),this._componentIsFocused()&&(this.props.allowChanges||!Wn.option("ignoreKeymapAndHandlerChangesByDefault"))){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledHotKeys(this._getFocusTreeId(),this._id,n,r,this._getComponentOptions())}}},{key:"_componentIsFocused",value:function(){return!0===this._focused}},{key:"componentDidMount",value:function(){var e=xi.getInstance(),t=this.context.hotKeysParentId;e.registerComponentMount(this._id,t)}},{key:"_handleFocus",value:function(){var e;this.props.onFocus&&(e=this.props).onFocus.apply(e,arguments);var t=xi.getInstance().enableHotKeys(this._id,o(this.props),r(this.props),this._getComponentOptions());Gr(t)||this._focusTreeIdsPush(t),this._focused=!0}},{key:"componentWillUnmount",value:function(){var e=xi.getInstance();e.deregisterKeyMap(this._id),e.registerComponentUnmount(),this._handleBlur()}},{key:"_handleBlur",value:function(){var e;this.props.onBlur&&(e=this.props).onBlur.apply(e,arguments);var t=xi.getInstance().disableHotKeys(this._getFocusTreeId(),this._id);t||this._focusTreeIdsShift(),this._focused=!1}},{key:"_handleKeyDown",value:function(e){xi.getInstance().handleKeydown(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyPress",value:function(e){xi.getInstance().handleKeyPress(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_handleKeyUp",value:function(e){xi.getInstance().handleKeyUp(e,this._getFocusTreeId(),this._id,this._getEventOptions())&&this._focusTreeIdsShift()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Wn.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Wn.option("ignoreEventsCondition")}}}]),n}();return Gi(a,"propTypes",{keyMap:l.object,handlers:l.object,onFocus:l.func,onBlur:l.func,allowChanges:l.bool,root:l.bool}),Ki(a,{deprecatedAPI:{contextTypes:{hotKeysParentId:l.number},childContextTypes:{hotKeysParentId:l.number}},newAPI:{contextType:{hotKeysParentId:void 0}}})}(function(e){function t(){return Vi(this,t),Ji(this,Zi(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qi(e,t)}(t,a),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=e.innerRef,r=e.component,o=Yi(e,["hotKeys","innerRef","component"]),a=r||Wn.option("defaultComponent");return i.createElement(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xi(e,t,n[t])}))}return e}({},t,{ref:n},o))}}])&&$i(n.prototype,r),o&&$i(n,o),t}())).propTypes={innerRef:l.oneOfType([l.object,l.func])};var ia,aa,sa,ua=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=na(this,ra(t).call(this,e)))._id=xi.getInstance().registerGlobalKeyMap(e.keyMap),n._childContext={globalHotKeysParentId:n._id},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,a),n=t,(r=[{key:"render",value:function(){return this.props.children||null}},{key:"componentDidUpdate",value:function(){var e=xi.getInstance();if(e.reregisterGlobalKeyMap(this._id,this.props.keyMap),this.props.allowChanges||!Wn.option("ignoreKeymapAndHandlerChangesByDefault")){var t=this.props,n=t.keyMap,r=t.handlers;e.updateEnabledGlobalHotKeys(this._id,n,r,this._getComponentOptions(),this._getEventOptions())}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.keyMap,n=e.handlers,r=this.context.globalHotKeysParentId,o=xi.getInstance();o.registerGlobalComponentMount(this._id,r),o.enableGlobalHotKeys(this._id,t,n,this._getComponentOptions(),this._getEventOptions())}},{key:"componentWillUnmount",value:function(){var e=xi.getInstance();e.deregisterGlobalKeyMap(this._id),e.disableGlobalHotKeys(this._id),e.registerGlobalComponentUnmount()}},{key:"_getComponentOptions",value:function(){return{defaultKeyEvent:Wn.option("defaultKeyEvent")}}},{key:"_getEventOptions",value:function(){return{ignoreEventsCondition:Wn.option("ignoreEventsCondition")}}}])&&ta(n.prototype,r),o&&ta(n,o),t}();function la(t){return(la="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),e}function ya(e,t){return!t||"object"!==la(t)&&"function"!=typeof t?ba(e):t}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{only:[],except:[]},o=arguments.length>2?arguments[2]:void 0;return n=t=function(t){function n(e){var t;return da(this,n),(t=ya(this,va(n).call(this,e)))._handleKeyEvent=t._handleKeyEvent.bind(ba(ba(t))),t._reloadDictionaries=t._reloadDictionaries.bind(ba(ba(t))),t}return ga(n,s),ha(n,[{key:"render",value:function(){var t=this.props,n=(t.only,t.except,fa(t,["only","except"])),r={onKeyDown:this._handleKeyEvent,onKeyPress:this._handleKeyEvent,onKeyUp:this._handleKeyEvent,onFocus:this._reloadDictionaries};return i.createElement(e,ca({hotKeys:r},n))}},{key:"_reloadDictionaries",value:function(){var e=this.props,t=e.only,n=e.except;this._onlyDict=Ea(t),this._exceptDict=Ea(n)}},{key:"_shouldIgnoreEvent",value:function(e){var t=e.key;return Qr(this._onlyDict)?!!Qr(this._exceptDict)||!tr(this._exceptDict,t):Qr(this._exceptDict)?tr(this._onlyDict,t):tr(this._onlyDict,t)&&!tr(this._exceptDict,t)}},{key:"_handleKeyEvent",value:function(e){this._shouldIgnoreEvent(e)&&xi.getInstance()[o](e)}}]),n}(),_a(t,"propTypes",{only:l.oneOfType([l.string,l.arrayOf(l.string)]),except:l.oneOfType([l.string,l.arrayOf(l.string)])}),_a(t,"defaultProps",r),n}function Ea(e){return lo(e).reduce((function(e,t){var n=fr(t);if(!Sr(n))throw new Pr(t);return[Nr,Dr,er,ir,Lr,Mr].forEach((function(t){e[t(n)]=!0})),e}),{})}function Oa(t){return(Oa="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xa(t){return(xa="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function La(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t){return!t||"object"!==xa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ia=ua,aa="propTypes",sa={keyMap:l.object,handlers:l.object,allowChanges:l.bool},aa in ia?Object.defineProperty(ia,aa,{value:sa,enumerable:!0,configurable:!0,writable:!0}):ia[aa]=sa,Ki(ua,{deprecatedAPI:{contextTypes:{globalHotKeysParentId:l.number},childContextTypes:{globalHotKeysParentId:l.number}},newAPI:{contextType:{globalHotKeysParentId:void 0}}}),ka(function(e){function t(){return Pa(this,t),Ia(this,Ta(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ja(e,t)}(t,a),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=Sa(e,["hotKeys"]),r=n.component||Wn.option("defaultComponent");return i.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wa(e,t,n[t])}))}return e}({},t,n))}}])&&Ca(n.prototype,r),o&&Ca(n,o),t}(),{},"ignoreEvent"),ka(function(e){function t(){return La(this,t),Ra(this,Da(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,a),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.hotKeys,n=Ma(e,["hotKeys"]),r=n.component||Wn.option("defaultComponent");return i.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ka(e,t,n[t])}))}return e}({},t,n))}}])&&Aa(n.prototype,r),o&&Aa(n,o),t}(),{},"observeIgnoredEvents");var Ha=t((function(e){e.exports=Fn})),Fa=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(i);var r=c.styled.div((function(e){var t=e.theme;return{display:"flex",paddingTop:20,marginTop:20,borderTop:"1px solid ".concat(t.appBorderColor),fontWeight:t.typography.weight.bold,"& > * + *":{marginLeft:20}}})),o=n.default.createElement(k.Link,{secondary:!0,href:"https://storybook.js.org",cancel:!1,target:"_blank"},"Docs"),a=n.default.createElement(k.Link,{secondary:!0,href:"https://github.com/storybookjs/storybook",cancel:!1,target:"_blank"},"GitHub"),s=n.default.createElement(k.Link,{secondary:!0,href:"https://storybook.js.org/support",cancel:!1,target:"_blank"},"Support"),u=function(e){return n.default.createElement(r,e,o,a,s)};u.displayName="SettingsFooter";var l=u;t.default=l}));n(Fa);var qa=t((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,t&&t.set(e,r);return r}(i),o=f(Ne),a=f(l),s=f(E),u=f(Fa);function f(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}var p={CLOSE:"escape"},h=c.styled.header((function(e){var t=e.theme;return{marginBottom:20,fontSize:t.typography.size.m3,fontWeight:t.typography.weight.black,alignItems:"center",display:"flex","> svg":{height:32,width:"auto",marginRight:8}}})),y=c.styled.span((function(e){var t=e.theme;return{letterSpacing:"0.35em",textTransform:"uppercase",fontWeight:t.typography.weight.black,fontSize:t.typography.size.s2-1,lineHeight:"24px",color:t.color.mediumdark}})),v=(0,c.styled)(k.Link)((function(e){return{fontSize:e.theme.typography.size.s1}})),g=c.styled.div({display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:".75rem"}),m=c.styled.div((function(e){var t=e.status,n=e.theme;return"positive"===t?{background:n.background.positive,color:n.color.positive}:"negative"===t?{background:n.background.negative,color:n.color.negative}:{background:"#EAF3FC",color:n.color.darkest}}),(function(e){var t=e.theme;return{fontWeight:t.typography.weight.bold,fontSize:t.typography.size.s2,padding:"10px 20px",marginBottom:24,borderRadius:t.appBorderRadius,border:"1px solid ".concat(t.appBorderColor),textAlign:"center"}})),b=c.styled.div((function(e){return{fontWeight:e.theme.typography.weight.bold,textAlign:"center"}})),_=c.styled.div((function(e){var t=e.theme;return{marginTop:20,borderTop:"1px solid ".concat(t.appBorderColor)}})),O=c.styled.div({padding:"3rem 20px",maxWidth:600,margin:"0 auto"}),w=r.default.createElement(m,{status:"neutral"},"Looking good! You're up to date."),S=r.default.createElement(m,{status:"negative"},"Oops! The latest version of Storybook couldn't be fetched."),P=r.default.createElement(k.Icons,{icon:"close"}),C=r.default.createElement(k.StorybookIcon,null),I=r.default.createElement(v,{secondary:!0,href:"https://github.com/storybookjs/storybook/blob/next/CHANGELOG.md",withArrow:!0,cancel:!1,target:"_blank"},"Read full changelog"),T=r.default.createElement(b,null,r.default.createElement(k.Link,{href:"https://github.com/storybookjs/storybook/releases",target:"_blank",withArrow:!0,secondary:!0,cancel:!1},"Check Storybook's release history")),j=r.default.createElement(_,null,r.default.createElement(k.DocumentWrapper,null,r.default.createElement("p",null,r.default.createElement("b",null,"Upgrade all Storybook packages to latest:")),r.default.createElement(k.SyntaxHighlighter,{language:"bash",copyable:!0,padded:!0,bordered:!0},"npx npm-check-updates '/storybook/' -u && npm install"),r.default.createElement("p",null,"Alternatively, if you're using yarn run the following command, and check all Storybook related packages:"),r.default.createElement(k.SyntaxHighlighter,{language:"bash",copyable:!0,padded:!0,bordered:!0},"yarn upgrade-interactive --latest"))),x=r.default.createElement(u.default,null),K=function(e){var t,n=e.latest,i=e.current,a=e.onClose,u=n&&o.default.gt(n.version,i.version);return t=n?u?r.default.createElement(m,{status:"positive"},"Storybook ",n.version," is available. Upgrade from ",i.version," now."):w:S,r.default.createElement(Ha.GlobalHotKeys,{handlers:{CLOSE:a},keyMap:p},r.default.createElement(k.Tabs,{absolute:!0,selected:"about",actions:{onSelect:function(){}},tools:r.default.createElement(r.Fragment,null,r.default.createElement(k.IconButton,{onClick:function(e){return e.preventDefault(),a()},title:"close"},P))},r.default.createElement("div",{id:"about",title:"About"},r.default.createElement(O,null,r.default.createElement(h,null,C,"Storybook ",i.version),t,n?r.default.createElement(r.Fragment,null,r.default.createElement(g,null,r.default.createElement(y,null,n.version," Changelog"),I),r.default.createElement(k.DocumentWrapper,null,r.default.createElement(s.default,null,n.info.plain))):T,u&&j,x))))};t.default=K,K.displayName="AboutScreen",K.propTypes={current:a.default.shape({version:a.default.string.isRequired}).isRequired,latest:a.default.shape({version:a.default.string.isRequired,info:a.default.shape({plain:a.default.string.isRequired}).isRequired}),onClose:a.default.func.isRequired},K.defaultProps={latest:null}}));n(qa);var Ua=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),r=a(l),o=a(qa);function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return f(this,t),p(this,h(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.api,n=e.notificationId;t.clearNotification(n)}},{key:"render",value:function(){return this.props.children}}])&&d(n.prototype,r),o&&d(n,o),t}(n.Component);g.displayName="NotificationClearer",g.propTypes={api:r.default.shape({clearNotification:r.default.func.isRequired}).isRequired,notificationId:r.default.string.isRequired,children:r.default.node.isRequired};t.default=function(){return n.default.createElement(y.Route,{path:"about"},n.default.createElement(S.Consumer,null,(function(e){var t=e.api;return n.default.createElement(g,{api:t,notificationId:"update"},n.default.createElement(o.default,{current:t.getCurrentVersion(),latest:t.getLatestVersion(),onClose:function(){return u.history.back()}}))})))}}));n(Ua);var Ba=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SuccessIcon=t.Fade=t.TextInput=t.Description=t.GridWrapper=t.Row=t.GridHeaderRow=t.HeaderItem=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(i),r=a(l),o=a(Fa);function a(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n0%,100% { opacity: 0; }\n  50% { opacity: 1; }\n"]);return b=function(){return e},e}var _=k.Form.Button,E=k.Form.Input,O=c.styled.header((function(e){var t=e.theme;return{marginBottom:20,fontSize:t.typography.size.m3,fontWeight:t.typography.weight.black,alignItems:"center",display:"flex"}})),w=c.styled.div((function(e){return{fontWeight:e.theme.typography.weight.bold}}));t.HeaderItem=w;var S=c.styled.div({alignSelf:"flex-end",display:"grid",margin:"10px 0",gridTemplateColumns:"1fr 1fr 12px","& > *:last-of-type":{gridColumn:"2 / 2",justifySelf:"flex-end",gridRow:"1"}});t.GridHeaderRow=S;var P=c.styled.div((function(e){var t=e.theme;return{padding:"6px 0",borderTop:"1px solid ".concat(t.appBorderColor),display:"grid",gridTemplateColumns:"1fr 1fr 0px"}}));t.Row=P;var C=c.styled.div({display:"grid",gridTemplateColumns:"1fr",gridAutoRows:"minmax(auto, auto)",marginBottom:20});t.GridWrapper=C;var I=c.styled.div({alignSelf:"center"});t.Description=I;var T=(0,c.styled)(E)((function(e){var t=e.valid,n=e.theme;return"error"===t?{animation:"".concat(n.animation.jiggle," 700ms ease-out")}:{}}),{display:"flex",width:80,flexDirection:"column",justifySelf:"flex-end",paddingLeft:4,paddingRight:4,textAlign:"center"});t.TextInput=T;var j=(0,c.keyframes)(b());t.Fade=j;var x=(0,c.styled)(k.Icons)((function(e){var t=e.valid,n=e.theme;return"valid"===t?{color:n.color.positive,animation:"".concat(j," 2s ease forwards")}:{opacity:0}}),{alignSelf:"center",display:"flex",marginLeft:10,height:14,width:14});t.SuccessIcon=x;var K=c.styled.div((function(e){return{fontSize:e.theme.typography.size.s2,padding:"3rem 20px",maxWidth:600,margin:"0 auto"}})),M={fullScreen:"Go full screen",togglePanel:"Toggle addons",panelPosition:"Toggle addons orientation",toggleNav:"Toggle sidebar",toolbar:"Toggle canvas toolbar",search:"Focus search",focusNav:"Focus sidebar",focusIframe:"Focus canvas",focusPanel:"Focus addons",prevComponent:"Previous component",nextComponent:"Next component",prevStory:"Previous story",nextStory:"Next story",shortcutsPage:"Go to shortcuts page",aboutPage:"Go to about page",collapseAll:"Collapse all items on sidebar",expandAll:"Expand all items on sidebar"},L=["escape"];function A(e){return Object.entries(e).reduce((function(e,t){var n=m(t,2),r=n[0],o=n[1];return L.includes(r)?e:Object.assign({},e,g({},r,{shortcut:o,error:!1}))}),{})}var R={CLOSE:"escape"},D=n.default.createElement(S,null,n.default.createElement(w,null,"Commands"),n.default.createElement(w,null,"Shortcut")),N=n.default.createElement(k.Icons,{icon:"close"}),H=n.default.createElement(O,null,"Keyboard shortcuts"),F=n.default.createElement(o.default,null),q=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=h(this,y(t).call(this,e))).onKeyDown=function(e){var t=r.state,n=t.activeFeature,o=t.shortcutKeys;if("Backspace"===e.key)return r.restoreDefault();var i=(0,he.eventToShortcut)(e);if(!i)return!1;var a=!!Object.entries(o).find((function(e){var t=m(e,2),r=t[0],o=t[1].shortcut;return r!==n&&o&&(0,he.shortcutMatchesShortcut)(i,o)}));return r.setState({shortcutKeys:Object.assign({},o,g({},n,{shortcut:i,error:a}))})},r.onFocus=function(e){return function(){var t=r.state.shortcutKeys;r.setState({activeFeature:e,shortcutKeys:Object.assign({},t,g({},e,{shortcut:null,error:!1}))})}},r.onBlur=d(regeneratorRuntime.mark((function e(){var t,n,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.shortcutKeys,o=t.activeFeature,!n[o]){e.next=6;break}if(i=n[o],a=i.shortcut,s=i.error,a&&!s){e.next=5;break}return e.abrupt("return",r.restoreDefault());case 5:return e.abrupt("return",r.saveShortcut());case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)}))),r.saveShortcut=d(regeneratorRuntime.mark((function e(){var t,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.activeFeature,o=t.shortcutKeys,i=r.props.setShortcut,e.next=4,i(n,o[n].shortcut);case 4:r.setState({successField:n});case 5:case"end":return e.stop()}}),e)}))),r.restoreDefaults=d(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.restoreAllDefaultShortcuts,e.next=3,t();case 3:return n=e.sent,e.abrupt("return",r.setState({shortcutKeys:A(n)}));case 5:case"end":return e.stop()}}),e)}))),r.restoreDefault=d(regeneratorRuntime.mark((function e(){var t,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.activeFeature,o=t.shortcutKeys,i=r.props.restoreDefaultShortcut,e.next=4,i(n);case 4:return a=e.sent,e.abrupt("return",r.setState({shortcutKeys:Object.assign({},o,{},A(g({},n,a)))}));case 6:case"end":return e.stop()}}),e)}))),r.displaySuccessMessage=function(e){var t=r.state,n=t.successField,o=t.shortcutKeys;return e===n&&!1===o[e].error?"valid":""},r.displayError=function(e){var t=r.state,n=t.activeFeature,o=t.shortcutKeys;return e===n&&!0===o[e].error?"error":""},r.renderKeyInput=function(){var e=r.state.shortcutKeys;return Object.entries(e).map((function(e){var t=m(e,2),o=t[0],i=t[1].shortcut;return n.default.createElement(P,{key:o},n.default.createElement(I,null,M[o]),n.default.createElement(T,{spellCheck:"false",valid:r.displayError(o),className:"modalInput",onBlur:r.onBlur,onFocus:r.onFocus(o),onKeyDown:r.onKeyDown,value:i?(0,he.shortcutToHumanString)(i):"",placeholder:"Type keys",readOnly:!0}),n.default.createElement(x,{valid:r.displaySuccessMessage(o),icon:"check"}))}))},r.renderKeyForm=function(){return n.default.createElement(C,null,D,r.renderKeyInput())},r.state={activeFeature:"",successField:"",shortcutKeys:A(e.shortcutKeys)},r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this.props.onClose,t=this.renderKeyForm();return n.default.createElement(Ha.GlobalHotKeys,{handlers:{CLOSE:e},keyMap:R},n.default.createElement(k.Tabs,{absolute:!0,selected:"shortcuts",actions:{onSelect:function(){}},tools:n.default.createElement(n.Fragment,null,n.default.createElement(k.IconButton,{onClick:function(t){return t.preventDefault(),e()}},N))},n.default.createElement("div",{id:"shortcuts",title:"Keyboard Shortcuts"},n.default.createElement(K,null,H,t,n.default.createElement(_,{tertiary:!0,small:!0,id:"restoreDefaultsHotkeys",onClick:this.restoreDefaults},"Restore defaults"),F))))}}])&&p(r.prototype,o),i&&p(r,i),t}(n.Component);q.displayName="ShortcutsScreen",q.propTypes={shortcutKeys:r.default.shape({}).isRequired,setShortcut:r.default.func.isRequired,restoreDefaultShortcut:r.default.func.isRequired,restoreAllDefaultShortcuts:r.default.func.isRequired,onClose:r.default.func.isRequired};var U=q;t.default=U}));n(Ba);Ba.SuccessIcon,Ba.Fade,Ba.TextInput,Ba.Description,Ba.GridWrapper,Ba.Row,Ba.GridHeaderRow,Ba.HeaderItem;var za=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i),r=o(Ba);function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return e.api};t.default=function(){return n.default.createElement(y.Route,{path:"shortcuts"},n.default.createElement(S.Consumer,{filter:s},(function(e){var t=e.getShortcutKeys,o=e.setShortcut,i=e.restoreDefaultShortcut,s=e.restoreAllDefaultShortcuts;return n.default.createElement(y.Route,{path:"shortcuts"},n.default.createElement(r.default,a({shortcutKeys:t()},{setShortcut:o,restoreDefaultShortcut:i,restoreAllDefaultShortcuts:s},{onClose:function(){return u.history.back()}})))})))}}));n(za);var Ga=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i),r=a(Ua),o=a(za);function a(e){return e&&e.__esModule?e:{default:e}}var s=n.default.createElement(r.default,{key:"about"}),u=n.default.createElement(o.default,{key:"shortcuts"});t.default=function(){return[s,u]}}));n(Ga);var Wa=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(i),r=v(l),o=v(d),a=v(b),s=v(Pe),u=v(Ke),f=v(Le),p=v(De),h=v(Ga);function v(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=n.default.createElement(h.default,null),_=(0,o.default)(1)((function(){return{Nav:s.default,Preview:u.default,Panel:f.default,Notifications:p.default,pages:[{key:"settings",render:function(){return m},route:function(e){var t=e.children;return n.default.createElement(y.Route,{path:"/settings",startsWith:!0},t)}}]}})),k=c.styled.div({position:"fixed",overflow:"hidden",height:"100vh",width:"100vw"}),E=n.default.createElement(c.Global,{styles:c.createGlobal}),O=n.default.memo((function(e){var t,r=e.viewMode,o=e.docsOnly,i=e.layout,a=e.panelCount,s=e.size,u=s.width,l=s.height,c=_();return t=u&&l?u<600?n.default.createElement(de.Mobile,g({},c,{viewMode:r,options:i,panelCount:a})):n.default.createElement(pe.Desktop,g({},c,{viewMode:r,options:i,docsOnly:o},{width:u,height:l},{panelCount:a})):n.default.createElement("div",null,u," x ",l),n.default.createElement(k,null,E,t)}));O.propTypes={viewMode:r.default.string,panelCount:r.default.number.isRequired,layout:r.default.shape({}).isRequired,size:r.default.shape({width:r.default.number,height:r.default.number}).isRequired,docsOnly:r.default.bool},O.defaultProps={viewMode:void 0,docsOnly:!1};var w=(0,a.default)({monitorHeight:!0})(O);O.displayName="App";var S=w;t.default=S}));n(Wa);var Xa=t((function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,(r=[{key:"getElements",value:function(){throw new Error("Provider.getElements() is not implemented!")}},{key:"handleAPI",value:function(){throw new Error("Provider.handleAPI() is not implemented!")}},{key:"getConfig",value:function(){throw new Error("Provider.getConfig() is not implemented!")}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=r}));n(Xa);var Ya=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(t instanceof s.default))throw new Error("provider is not extended from the base Provider");o.default.render(n.default.createElement(v,{key:"root",provider:t}),e)},Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return s.default}}),t.Root=void 0;var n=f(i),r=f(l),o=f(_),a=f(Wa),s=f(Xa);function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}c.ThemeProvider.displayName="ThemeProvider",se.HelmetProvider.displayName="HelmetProvider";var p=function(){try{return!!u.DOCS_MODE}catch(e){return!1}},h=n.default.Fragment,v=function(e){var t=e.provider;return n.default.createElement(h,{key:"container"},n.default.createElement(se.HelmetProvider,{key:"helmet.Provider"},n.default.createElement(y.LocationProvider,{key:"location.provider"},n.default.createElement(y.Location,{key:"location.consumer"},(function(e){return n.default.createElement(S.Provider,d({key:"manager",provider:t},e,{docsMode:p()}),(function(e){var t=e.state,r=e.api,o=Object.keys(r.getPanels()).length,i=t.storiesHash[t.storyId];return n.default.createElement(c.ThemeProvider,{key:"theme.provider",theme:(0,c.ensure)(t.theme)},n.default.createElement(a.default,{key:"app",viewMode:t.viewMode,layout:t.layout,panelCount:o,docsOnly:i&&i.parameters&&i.parameters.docsOnly}))}))})))))};t.Root=v,v.displayName="Root",v.propTypes={provider:r.default.shape({}).isRequired}}));n(Ya);Ya.Root;var Va=t((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(w),r=i(C),o=i(p);function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=u(this,l(t).call(this));var i=(0,r.default)({page:"manager"});return n.default.setChannel(i),i.emit(o.default.CHANNEL_CREATED),e.addons=n.default,e.channel=i,e}var i,a,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,Ya.Provider),i=t,(a=[{key:"getElements",value:function(e){return this.addons.getElements(e)}},{key:"getConfig",value:function(){return this.addons.getConfig()}},{key:"handleAPI",value:function(e){this.addons.loadAddons(e)}}])&&s(i.prototype,a),f&&s(i,f),t}();t.default=f}));n(Va);var $a=o(Object.freeze({__proto__:null,default:function(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={};for(var u in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(function e(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:e,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(u,t.headers[u]);o.send(t.body||null)}))}})),Ja=t((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.importPolyfills=void 0;t.importPolyfills=function(){var e=[];if(!u.window.fetch){e.push(Promise.resolve().then((function(){return function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}($a)})).then((function(e){var t=e.default;u.window.fetch=t})))}return Promise.all(e)}}));n(Ja);Ja.importPolyfills;n(t((function(e){var t=r(Ya),n=r(Va);function r(e){return e&&e.__esModule?e:{default:e}}(0,Ja.importPolyfills)().then((function(){var e=u.document.getElementById("root");(0,t.default)(e,new n.default)}))})));
//# sourceMappingURL=manager.js.map
