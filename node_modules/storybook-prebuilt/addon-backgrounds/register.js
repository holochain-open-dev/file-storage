import"../dist/storybook-prebuilt-53103ce5.js";import{c as t,u as e}from"../dist/storybook-prebuilt-3ba63d3f.js";import"../dist/storybook-prebuilt-4dae7756.js";import"../dist/storybook-prebuilt-c9cef5f5.js";import{r}from"../dist/storybook-prebuilt-9dd61b75.js";import"../dist/storybook-prebuilt-0b3b0ce5.js";import{_ as o}from"../dist/storybook-prebuilt-2f55489d.js";import"../dist/storybook-prebuilt-0b1685b3.js";import"../dist/storybook-prebuilt-d03cde97.js";import"../dist/storybook-prebuilt-ef0ce90f.js";import{r as n}from"../dist/storybook-prebuilt-c5081207.js";import"../dist/storybook-prebuilt-e17bc3b1.js";import"../dist/storybook-prebuilt-1a6e3162.js";import"../dist/storybook-prebuilt-6918c481.js";import"../dist/storybook-prebuilt-c5aee634.js";import"../dist/storybook-prebuilt-29c1a26d.js";import"../dist/storybook-prebuilt-d050466c.js";import"../dist/storybook-prebuilt-d40d7550.js";import"../dist/storybook-prebuilt-da3f7036.js";import"../dist/storybook-prebuilt-4e5e6cbb.js";import"../dist/storybook-prebuilt-8f2fc776.js";import"../dist/storybook-prebuilt-617f6ed7.js";import"../dist/storybook-prebuilt-52e8b197.js";import{_ as i}from"../dist/storybook-prebuilt-e1e8d54e.js";import"../dist/storybook-prebuilt-e856152c.js";import{r as a}from"../dist/storybook-prebuilt-6aa1ee92.js";import{_ as u}from"../dist/storybook-prebuilt-ffb249b0.js";var c=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EVENTS=e.GRID_PARAM_KEY=e.PARAM_KEY=e.ADDON_ID=void 0;e.ADDON_ID="storybook/background";e.PARAM_KEY="backgrounds";e.GRID_PARAM_KEY="grid";var r={UPDATE:"".concat("storybook/background","/update")};e.EVENTS=r}));e(c);c.EVENTS,c.GRID_PARAM_KEY,c.PARAM_KEY,c.ADDON_ID;var l=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorIcon=void 0;var r=o.styled.span((function(t){return{borderRadius:"1rem",display:"block",height:"1rem",width:"1rem",background:t.background}}),(function(t){var e=t.theme;return{boxShadow:"".concat(e.appBorderColor," 0 0 0 1px inset")}}));e.ColorIcon=r}));e(l);l.ColorIcon;var f=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundSelector=void 0;var a,f=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==b(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=o?Object.getOwnPropertyDescriptor(t,n):null;i&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=t[n]}r.default=t,e&&e.set(t,r);return r}(r),p=(a=n)&&a.__esModule?a:{default:a};function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var j=(0,p.default)(1e3)((function(t,e,r,o,n){return{id:t||e,title:e,onClick:function(){n({selected:r,name:e})},value:r,right:o?f.default.createElement(l.ColorIcon,{background:r}):void 0}})),O=function(t){var e=t.api,r=t.state,o=r.storiesHash[r.storyId];return{items:(o?e.getParameters(o.id,c.PARAM_KEY):[])||[],selected:r.addons[c.PARAM_KEY]||null}},h=(0,p.default)(10)((function(t,e,r){var o=[];return"transparent"!==e&&o.push(j("reset","Clear background","transparent",null,r)),t.length&&(o=[].concat(k(o),k(t.map((function(t){var e=t.name,o=t.value;return j(null,e,o,!0,r)}))))),o})),_=function(t){function e(){var t,r;d(this,e);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(r=m(this,(t=g(e)).call.apply(t,[this].concat(n)))).change=function(t){var e=t.selected,o=t.name,n=r.props.api;"string"==typeof e&&n.setAddonState(c.PARAM_KEY,e),n.emit(c.EVENTS.UPDATE,{selected:e,name:o})},r}var r,n,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,t),r=e,(n=[{key:"render",value:function(){var t=this;return f.default.createElement(u.Consumer,{filter:O},(function(e){var r,n,a=e.items,u=e.selected,c=(n=u,(r=a).length?"transparent"===n?n:r.find((function(t){return t.value===n}))?n:r.find((function(t){return t.default}))?r.find((function(t){return t.default})).value:"transparent":"transparent");return a.length?f.default.createElement(f.Fragment,null,c?f.default.createElement(o.Global,{styles:function(t){return function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},"#".concat("storybook-preview-iframe"),{backgroundColor:"transparent"===c?t.background.content:c})}}):null,f.default.createElement(i.WithTooltip,{placement:"top",trigger:"click",tooltip:function(e){var r=e.onHide;return f.default.createElement(i.TooltipLinkList,{links:h(a,c,(function(e){t.change(e),r()}))})},closeOnClick:!0},f.default.createElement(i.IconButton,{key:"background",active:"transparent"!==c,title:"Change the background of the preview"},f.default.createElement(i.Icons,{icon:"photo"})))):null}))}}])&&y(r.prototype,n),a&&y(r,a),e}(f.Component);e.BackgroundSelector=_}));e(f);f.BackgroundSelector;var p=t((function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.GridSelector=void 0;var a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=t[i]}r.default=t,e&&e.set(t,r);return r}(r);function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],o=!0,n=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);o=!0);}catch(t){n=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(n)throw i}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=(0,a.memo)((function(){var t,e,r,n=f((0,u.useAddonState)("".concat(c.ADDON_ID,"/grid")),2),l=n[0],p=n[1],s=(0,u.useParameter)(c.GRID_PARAM_KEY,{cellSize:20}).cellSize;return a.default.createElement(i.IconButton,{key:"background",active:l,title:"Change the background of the preview",onClick:function(){return p(!l)}},a.default.createElement(i.Icons,{icon:"grid"}),l?a.default.createElement(o.Global,{styles:(t={},e="#".concat("storybook-preview-iframe"),r={backgroundSize:["".concat(5*s,"px ").concat(5*s,"px"),"".concat(5*s,"px ").concat(5*s,"px"),"".concat(s,"px ").concat(s,"px"),"".concat(s,"px ").concat(s,"px")].join(", "),backgroundPosition:"-1px -1px, -1px -1px, -1px -1px, -1px -1px",backgroundBlendMode:"difference",backgroundImage:["linear-gradient(rgba(130, 130, 130, 0.5) 1px, transparent 1px)","linear-gradient(90deg, rgba(130, 130, 130, 0.5) 1px, transparent 1px)","linear-gradient(rgba(130, 130, 130, 0.25) 1px, transparent 1px)","linear-gradient(90deg, rgba(130, 130, 130, 0.25) 1px, transparent 1px)"].join(", ")},e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t)}):null)}));e.GridSelector=p}));e(p);p.GridSelector;e(t((function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==e(t)&&"function"!=typeof t)return{default:t};var r=n();if(r&&r.has(t))return r.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u=i?Object.getOwnPropertyDescriptor(t,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=t[a]}o.default=t,r&&r.set(t,o);return o}(r);function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}a.addons.register(c.ADDON_ID,(function(t){a.addons.add(c.ADDON_ID,{title:"Backgrounds",type:a.types.TOOL,match:function(t){return"story"===t.viewMode},render:function(){return o.default.createElement(o.Fragment,null,o.default.createElement(f.BackgroundSelector,{api:t}),o.default.createElement(p.GridSelector,null))}})}))})));
//# sourceMappingURL=register.js.map
