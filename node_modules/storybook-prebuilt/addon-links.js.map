{"version":3,"file":"addon-links.js","sources":["node_modules/@storybook/addon-links/dist/preview.js","node_modules/@storybook/addon-links/dist/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.find\");\n\nrequire(\"core-js/modules/es.array.from\");\n\nrequire(\"core-js/modules/es.array.is-array\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.promise\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/es.string.search\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withLinks = exports.hrefTo = exports.linkTo = exports.navigate = void 0;\n\nvar _global = require(\"global\");\n\nvar _qs = _interopRequireDefault(require(\"qs\"));\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _coreEvents = require(\"@storybook/core-events\");\n\nvar _csf = require(\"@storybook/csf\");\n\nvar _clientLogger = require(\"@storybook/client-logger\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar navigate = function navigate(params) {\n  return _addons[\"default\"].getChannel().emit(_coreEvents.SELECT_STORY, params);\n};\n\nexports.navigate = navigate;\n\nvar generateUrl = function generateUrl(id) {\n  var location = _global.document.location;\n\n  var query = _qs[\"default\"].parse(location.search, {\n    ignoreQueryPrefix: true\n  });\n\n  return \"\".concat(location.origin + location.pathname, \"?\").concat(_qs[\"default\"].stringify(Object.assign({}, query, {\n    id: id\n  }), {\n    encode: false\n  }));\n};\n\nvar valueOrCall = function valueOrCall(args) {\n  return function (value) {\n    return typeof value === 'function' ? value.apply(void 0, _toConsumableArray(args)) : value;\n  };\n};\n\nvar linkTo = function linkTo(idOrKindInput, storyInput) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var resolver = valueOrCall(args);\n\n    var _storyStore$getSelect = _global.__STORYBOOK_STORY_STORE__.getSelection(),\n        storyId = _storyStore$getSelect.storyId;\n\n    var current = _global.__STORYBOOK_STORY_STORE__.fromId(storyId) || {};\n    var kindVal = resolver(idOrKindInput);\n    var storyVal = resolver(storyInput);\n\n    var fromid = _global.__STORYBOOK_STORY_STORE__.fromId(kindVal);\n\n    var item = fromid || _global.__STORYBOOK_CLIENT_API__.raw().find(function (i) {\n      if (kindVal && storyVal) {\n        return i.kind === kindVal && i.story === storyVal;\n      }\n\n      if (!kindVal && storyVal) {\n        return i.kind === current.kind && i.story === storyVal;\n      }\n\n      if (kindVal && !storyVal) {\n        return i.kind === kindVal;\n      }\n\n      if (!kindVal && !storyVal) {\n        return i.kind === current.kind;\n      }\n\n      return false;\n    });\n\n    if (item) {\n      navigate({\n        kind: item.kind,\n        story: item.story\n      });\n    } else {\n      _clientLogger.logger.error('could not navigate to provided story');\n    }\n  };\n};\n\nexports.linkTo = linkTo;\n\nvar hrefTo = function hrefTo(kind, name) {\n  return new Promise(function (resolve) {\n    var _storyStore$getSelect2 = _global.__STORYBOOK_STORY_STORE__.getSelection(),\n        storyId = _storyStore$getSelect2.storyId;\n\n    var current = _global.__STORYBOOK_STORY_STORE__.fromId(storyId);\n\n    resolve(generateUrl((0, _csf.toId)(kind || current.kind, name)));\n  });\n};\n\nexports.hrefTo = hrefTo;\n\nvar linksListener = function linksListener(e) {\n  var target = e.target;\n\n  if (!(target instanceof _global.HTMLElement)) {\n    return;\n  }\n\n  var element = target;\n  var _element$dataset = element.dataset,\n      kind = _element$dataset.sbKind,\n      story = _element$dataset.sbStory;\n\n  if (kind || story) {\n    e.preventDefault();\n    navigate({\n      kind: kind,\n      story: story\n    });\n  }\n};\n\nvar hasListener = false;\n\nvar on = function on() {\n  if (!hasListener) {\n    hasListener = true;\n\n    _global.document.addEventListener('click', linksListener);\n  }\n};\n\nvar off = function off() {\n  if (hasListener) {\n    hasListener = false;\n\n    _global.document.removeEventListener('click', linksListener);\n  }\n};\n\nvar withLinks = function withLinks(storyFn) {\n  on();\n\n  _addons[\"default\"].getChannel().once(_coreEvents.STORY_CHANGED, off);\n\n  return storyFn();\n};\n\nexports.withLinks = withLinks;","\"use strict\";\n\nrequire(\"core-js/modules/es.array.slice\");\n\nrequire(\"core-js/modules/es.object.define-properties\");\n\nrequire(\"core-js/modules/es.object.freeze\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkTo = LinkTo;\nObject.defineProperty(exports, \"linkTo\", {\n  enumerable: true,\n  get: function get() {\n    return _preview.linkTo;\n  }\n});\nObject.defineProperty(exports, \"hrefTo\", {\n  enumerable: true,\n  get: function get() {\n    return _preview.hrefTo;\n  }\n});\nObject.defineProperty(exports, \"withLinks\", {\n  enumerable: true,\n  get: function get() {\n    return _preview.withLinks;\n  }\n});\n\nvar _tsDedent = _interopRequireDefault(require(\"ts-dedent\"));\n\nvar _preview = require(\"./preview\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n      LinkTo has moved to addon-links/react:\\n      import LinkTo from '@storybook/addon-links/react';\\n    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar hasWarned = false;\n\nfunction LinkTo() {\n  if (!hasWarned) {\n    // eslint-disable-next-line no-console\n    console.error((0, _tsDedent[\"default\"])(_templateObject()));\n    hasWarned = true;\n  }\n\n  return null;\n}\n\nif (module && module.hot && module.hot.decline) {\n  module.hot.decline();\n}"],"names":["Object","defineProperty","exports","value","_qs","_interopRequireDefault","require$$17","_addons","require$$18","obj","__esModule","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","navigate","params","getChannel","emit","_coreEvents","SELECT_STORY","valueOrCall","args","apply","idOrKindInput","storyInput","_len","arguments","_key","resolver","_storyStore$getSelect","_global","__STORYBOOK_STORY_STORE__","getSelection","storyId","current","fromId","kindVal","storyVal","fromid","item","__STORYBOOK_CLIENT_API__","raw","find","kind","story","_clientLogger","logger","error","name","Promise","resolve","id","location","query","_csf","toId","document","parse","search","ignoreQueryPrefix","concat","origin","pathname","stringify","assign","encode","linksListener","e","target","HTMLElement","_element$dataset","dataset","sbKind","sbStory","preventDefault","hasListener","off","removeEventListener","storyFn","addEventListener","once","STORY_CHANGED","hasWarned","console","_tsDedent","_templateObject","enumerable","get","_preview","linkTo","hrefTo","withLinks","require$$3","data","strings","slice","freeze","defineProperties","_taggedTemplateLiteral","module","hot","decline"],"mappings":"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"}