{"version":3,"file":"header.js","sourceRoot":"","sources":["../src/header.ts"],"names":[],"mappings":"AAkBA,MAAM,CAAN,IAAY,UAWX;AAXD,WAAY,UAAU;IACpB,yBAAW,CAAA;IACX,uDAAyC,CAAA;IACzC,qDAAuC,CAAA;IACvC,uCAAyB,CAAA;IACzB,uCAAyB,CAAA;IACzB,qCAAuB,CAAA;IACvB,uCAAyB,CAAA;IACzB,+BAAiB,CAAA;IACjB,+BAAiB,CAAA;IACjB,+BAAiB,CAAA;AACnB,CAAC,EAXW,UAAU,KAAV,UAAU,QAWrB","sourcesContent":["import {\n  AgentPubKeyB64,\n  DnaHashB64,\n  EntryHashB64,\n  HeaderHashB64,\n  Signature,\n} from './common';\nimport { EntryType } from './entry';\nimport { HoloHashed } from './hashed';\nimport { Timestamp } from './timestamp';\n\nexport interface SignedHeaderHashed<H extends Header = Header> {\n  header: HoloHashed<H>;\n  signature: Signature;\n}\n\nexport type HeaderHashed = HoloHashed<Header>;\n\nexport enum HeaderType {\n  Dna = 'Dna',\n  AgentValidationPkg = 'AgentValidationPkg',\n  InitZomesComplete = 'InitZomesComplete',\n  CreateLink = 'CreateLink',\n  DeleteLink = 'DeleteLink',\n  OpenChain = 'OpenChain',\n  CloseChain = 'CloseChain',\n  Create = 'Create',\n  Update = 'Update',\n  Delete = 'Delete',\n}\n\nexport type HeaderContent<T extends HeaderType, H> = H & {\n  type: T;\n};\n\nexport type Header =\n  | Dna\n  | AgentValidationPkg\n  | InitZomesComplete\n  | CreateLink\n  | DeleteLink\n  | OpenChain\n  | CloseChain\n  | Delete\n  | NewEntryHeader;\n\nexport type NewEntryHeader = Create | Update;\n\nexport interface Dna {\n  type: HeaderType.Dna;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  hash: DnaHashB64;\n}\n\nexport interface AgentValidationPkg {\n  type: HeaderType.AgentValidationPkg;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  membrane_proof: any;\n}\n\nexport interface InitZomesComplete {\n  type: HeaderType.InitZomesComplete;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n}\n\nexport interface CreateLink {\n  type: HeaderType.CreateLink;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  base_address: EntryHashB64;\n  target_address: EntryHashB64;\n  zome_id: number;\n  tag: any;\n}\n\nexport interface DeleteLink {\n  type: HeaderType.DeleteLink;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  base_address: EntryHashB64;\n  link_add_address: HeaderHashB64;\n}\n\nexport interface OpenChain {\n  type: HeaderType.OpenChain;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  prev_dna_hash: DnaHashB64;\n}\n\nexport interface CloseChain {\n  type: HeaderType.CloseChain;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  new_dna_hash: DnaHashB64;\n}\n\nexport interface Update {\n  type: HeaderType.Update;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  original_header_address: HeaderHashB64;\n  original_entry_address: EntryHashB64;\n\n  entry_type: EntryType;\n  entry_hash: EntryHashB64;\n}\n\nexport interface Delete {\n  type: HeaderType.Delete;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  deletes_address: HeaderHashB64;\n  deletes_entry_address: EntryHashB64;\n}\n\nexport interface Create {\n  type: HeaderType.Create;\n\n  author: AgentPubKeyB64;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: HeaderHashB64;\n\n  entry_type: EntryType;\n  entry_hash: EntryHashB64;\n}\n"]}