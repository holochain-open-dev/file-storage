"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createStackLocationRegExp = void 0;
const validUrlChars = "\\w|-|\\.|_|~|:|\\/|\\\\|\\[|\\]|@|!|\\$|&|'|\\(|\\)|\\*|\\+|,|;|%";
function createStackLocationRegExp(protocol, hostname, port) {
    return new RegExp(
    // must start with a space and an optional (, OR with a @ and an optional space
    `(\\s\\(|\\s|@)` +
        // may optionally contain the server address, in which case it is stripped off
        `(?:${protocol}\\/\\/${hostname}:${port}\\/)*` +
        // must contain valid URL characters and end witha file extension
        `((?:${validUrlChars})*\\.\\w{2,6})` +
        // must end with a file extension
        // may optionally contain query params or hashes, which are stripped off
        `(?:(?:${validUrlChars}|#|\\?|=)*)` +
        // must contain line and column markers
        '(?::(\\d+))(?::(\\d+))' +
        // must end at the end of the string, with an optional )
        '(\\)$|$)');
}
exports.createStackLocationRegExp = createStackLocationRegExp;
//# sourceMappingURL=createStackLocationRegExp.js.map