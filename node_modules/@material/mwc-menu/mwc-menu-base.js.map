{"version":3,"file":"mwc-menu-base.js","sourceRoot":"","sources":["mwc-menu-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n@license\nCopyright 2020 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport '@material/mwc-list';\nimport './mwc-menu-surface';\n\nimport {MDCMenuAdapter} from '@material/menu/adapter';\nimport {DefaultFocusState as DefaultFocusStateEnum} from '@material/menu/constants';\nimport MDCMenuFoundation from '@material/menu/foundation';\nimport {BaseElement} from '@material/mwc-base/base-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {List, MWCListIndex} from '@material/mwc-list';\nimport {ActionDetail} from '@material/mwc-list/mwc-list-foundation';\nimport {ListItemBase} from '@material/mwc-list/mwc-list-item-base';\nimport {html, property, query} from 'lit-element';\n\nimport {MenuSurface} from './mwc-menu-surface';\nimport {Corner, MenuCorner} from './mwc-menu-surface-base';\n\nexport {ActionDetail, createSetFromIndex, isEventMulti, isIndexSet, MWCListIndex, SelectedDetail} from '@material/mwc-list/mwc-list-foundation';\nexport {Corner, MenuCorner} from './mwc-menu-surface-base';\n\nexport type DefaultFocusState = keyof typeof DefaultFocusStateEnum;\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires items-updated\n * @fires opened\n * @fires closed\n */\nexport abstract class MenuBase extends BaseElement {\n  protected mdcFoundation!: MDCMenuFoundation;\n\n  protected readonly mdcFoundationClass = MDCMenuFoundation;\n\n  protected listElement_: List|null = null;\n\n  @query('.mdc-menu') mdcRoot!: MenuSurface;\n\n  @query('slot') slotElement!: HTMLSlotElement|null;\n\n  @property({type: Object}) anchor: HTMLElement|null = null;\n\n  @property({type: Boolean, reflect: true}) open = false;\n\n  @property({type: Boolean}) quick = false;\n\n  @property({type: Boolean}) wrapFocus = false;\n\n  @property({type: String}) innerRole: 'menu'|'listbox' = 'menu';\n\n  @property({type: String}) corner: Corner = 'TOP_START';\n\n  @property({type: Number}) x: number|null = null;\n\n  @property({type: Number}) y: number|null = null;\n\n  @property({type: Boolean}) absolute = false;\n\n  @property({type: Boolean}) multi = false;\n\n  @property({type: Boolean}) activatable = false;\n\n  @property({type: Boolean}) fixed = false;\n\n  @property({type: Boolean}) forceGroupSelection = false;\n\n  @property({type: Boolean}) fullwidth = false;\n\n  @property({type: String}) menuCorner: MenuCorner = 'START';\n\n  @property({type: String})\n  @observer(function(this: MenuBase, value: DefaultFocusState) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setDefaultFocusState(DefaultFocusStateEnum[value]);\n    }\n  })\n  defaultFocus: DefaultFocusState = 'LIST_ROOT';\n\n  protected _listUpdateComplete: null|Promise<unknown> = null;\n\n  protected get listElement() {\n    if (!this.listElement_) {\n      this.listElement_ = this.renderRoot.querySelector('mwc-list');\n      return this.listElement_;\n    }\n\n    return this.listElement_;\n  }\n\n  get items(): ListItemBase[] {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.items;\n    }\n\n    return [];\n  }\n\n  get index(): MWCListIndex {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.index;\n    }\n\n    return -1;\n  }\n\n  get selected(): ListItemBase|ListItemBase[]|null {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.selected;\n    }\n\n    return null;\n  }\n\n  render() {\n    const itemRoles = this.innerRole === 'menu' ? 'menuitem' : 'option';\n\n    return html`\n      <mwc-menu-surface\n          ?hidden=${!this.open}\n          .anchor=${this.anchor}\n          .open=${this.open}\n          .quick=${this.quick}\n          .corner=${this.corner}\n          .x=${this.x}\n          .y=${this.y}\n          .absolute=${this.absolute}\n          .fixed=${this.fixed}\n          .fullwidth=${this.fullwidth}\n          .menuCorner=${this.menuCorner}\n          class=\"mdc-menu mdc-menu-surface\"\n          @closed=${this.onClosed}\n          @opened=${this.onOpened}\n          @keydown=${this.onKeydown}>\n        <mwc-list\n          rootTabbable\n          .innerRole=${this.innerRole}\n          .multi=${this.multi}\n          class=\"mdc-list\"\n          .itemRoles=${itemRoles}\n          .wrapFocus=${this.wrapFocus}\n          .activatable=${this.activatable}\n          @action=${this.onAction}>\n        <slot></slot>\n      </mwc-list>\n    </mwc-menu-surface>`;\n  }\n\n  protected createAdapter(): MDCMenuAdapter {\n    return {\n      addClassToElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        if (className === 'mdc-menu-item--selected') {\n          if (this.forceGroupSelection && !element.selected) {\n            listElement.toggle(index, true);\n          }\n        } else {\n          element.classList.add(className);\n        }\n      },\n      removeClassFromElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        if (className === 'mdc-menu-item--selected') {\n          if (element.selected) {\n            listElement.toggle(index, false);\n          }\n        } else {\n          element.classList.remove(className);\n        }\n      },\n      addAttributeToElementAtIndex: (index, attr, value) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.setAttribute(attr, value);\n      },\n      removeAttributeFromElementAtIndex: (index, attr) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.removeAttribute(attr);\n      },\n      elementContainsClass: (element, className) =>\n          element.classList.contains(className),\n      closeSurface: () => {\n        this.open = false;\n      },\n      getElementIndex: (element) => {\n        const listElement = this.listElement;\n        if (listElement) {\n          return listElement.items.indexOf(element as ListItemBase);\n        }\n\n        return -1;\n      },\n      notifySelected: () => { /** handled by list */ },\n      getMenuItemCount: () => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return 0;\n        }\n\n        return listElement.items.length;\n      },\n      focusItemAtIndex: (index) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n        const element = listElement.items[index];\n\n        if (element) {\n          (element as HTMLElement).focus();\n        }\n      },\n      focusListRoot: () => {\n        if (this.listElement) {\n          this.listElement.focus();\n        }\n      },\n      getSelectedSiblingOfItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return -1;\n        }\n\n        const elementAtIndex = listElement.items[index];\n\n        if (!elementAtIndex || !elementAtIndex.group) {\n          return -1;\n        }\n\n        for (let i = 0; i < listElement.items.length; i++) {\n          if (i === index) {\n            continue;\n          }\n\n          const current = listElement.items[i];\n          if (current.selected && current.group === elementAtIndex.group) {\n            return i;\n          }\n        }\n\n        return -1;\n      },\n      isSelectableItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return false;\n        }\n\n        const elementAtIndex = listElement.items[index];\n\n        if (!elementAtIndex) {\n          return false;\n        }\n\n        return elementAtIndex.hasAttribute('group');\n      },\n    };\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  protected onAction(evt: CustomEvent<ActionDetail>) {\n    const listElement = this.listElement;\n    if (this.mdcFoundation && listElement) {\n      const index = evt.detail.index;\n\n      const el = listElement.items[index];\n\n      if (el) {\n        this.mdcFoundation.handleItemAction(el);\n      }\n    }\n  }\n\n  protected onOpened() {\n    this.open = true;\n\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleMenuSurfaceOpened();\n    }\n  }\n\n  protected onClosed() {\n    this.open = false;\n  }\n\n  protected async _getUpdateComplete() {\n    await this._listUpdateComplete;\n    await super._getUpdateComplete();\n  }\n\n  protected async firstUpdated() {\n    super.firstUpdated();\n    const listElement = this.listElement;\n\n    if (listElement) {\n      this._listUpdateComplete = listElement.updateComplete;\n      await this._listUpdateComplete;\n    }\n  }\n\n  select(index: MWCListIndex) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.select(index);\n    }\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n\n  getFocusedItemIndex() {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.getFocusedItemIndex();\n    }\n\n    return -1;\n  }\n\n  focusItemAtIndex(index: number) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.focusItemAtIndex(index);\n    }\n  }\n\n  layout(updateItems = true) {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      listElement.layout(updateItems);\n    }\n  }\n}\n"]}