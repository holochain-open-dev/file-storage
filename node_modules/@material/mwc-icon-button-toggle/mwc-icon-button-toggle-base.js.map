{"version":3,"file":"mwc-icon-button-toggle-base.js","sourceRoot":"","sources":["mwc-icon-button-toggle-base.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport '@material/mwc-ripple/mwc-ripple';\n\nimport {MDCIconButtonToggleAdapter} from '@material/icon-button/adapter';\nimport MDCIconButtonToggleFoundation from '@material/icon-button/foundation';\nimport {addHasRemoveClass, BaseElement} from '@material/mwc-base/base-element';\nimport {observer} from '@material/mwc-base/observer';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers';\nimport {eventOptions, html, internalProperty, property, query, queryAsync} from 'lit-element';\n\nexport class IconButtonToggleBase extends BaseElement {\n  protected mdcFoundationClass = MDCIconButtonToggleFoundation;\n\n  protected mdcFoundation!: MDCIconButtonToggleFoundation;\n\n  @query('.mdc-icon-button') protected mdcRoot!: HTMLElement;\n\n  @property({type: String}) label = '';\n\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: String}) onIcon = '';\n\n  @property({type: String}) offIcon = '';\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: IconButtonToggleBase, state: boolean) {\n    this.mdcFoundation.toggle(state);\n  })\n  on = false;\n\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @internalProperty() protected shouldRenderRipple = false;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n\n  protected createAdapter(): MDCIconButtonToggleAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      getAttr: (name: string) => {\n        return this.mdcRoot.getAttribute(name);\n      },\n      setAttr: (name: string, value: string) => {\n        this.mdcRoot.setAttribute(name, value);\n      },\n      notifyChange: (evtData: {isOn: boolean}) => {\n        this.dispatchEvent(new CustomEvent(\n            'MDCIconButtonToggle:change', {detail: evtData, bubbles: true}));\n      },\n    };\n  }\n\n  protected handleClick() {\n    this.on = !this.on;\n    this.mdcFoundation.handleClick();\n  }\n\n  focus() {\n    this.rippleHandlers.startFocus();\n    this.mdcRoot.focus();\n  }\n\n  blur() {\n    this.rippleHandlers.endFocus();\n    this.mdcRoot.blur();\n  }\n\n  protected renderRipple() {\n    return this.shouldRenderRipple ? html`\n            <mwc-ripple\n                .disabled=\"${this.disabled}\"\n                unbounded>\n            </mwc-ripple>` :\n                                     '';\n  }\n\n  protected render() {\n    return html`\n      <button\n          class=\"mdc-icon-button\"\n          @click=\"${this.handleClick}\"\n          aria-label=\"${this.label}\"\n          ?disabled=\"${this.disabled}\"\n          @focus=\"${this.handleRippleFocus}\"\n          @blur=\"${this.handleRippleBlur}\"\n          @mousedown=\"${this.handleRippleMouseDown}\"\n          @mouseenter=\"${this.handleRippleMouseEnter}\"\n          @mouseleave=\"${this.handleRippleMouseLeave}\"\n          @touchstart=\"${this.handleRippleTouchStart}\"\n          @touchend=\"${this.handleRippleDeactivate}\"\n          @touchcancel=\"${this.handleRippleDeactivate}\">\n        ${this.renderRipple()}\n        <span class=\"mdc-icon-button__icon\">\n          <slot name=\"offIcon\">\n            <i class=\"material-icons\">${this.offIcon}</i>\n          </slot>\n        </span>\n        <span class=\"mdc-icon-button__icon mdc-icon-button__icon--on\">\n          <slot name=\"onIcon\">\n            <i class=\"material-icons\">${this.onIcon}</i>\n          </slot>\n        </span>\n      </button>`;\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleMouseDown(event?: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event?: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n"]}