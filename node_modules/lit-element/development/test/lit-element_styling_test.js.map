{"version":3,"file":"lit-element_styling_test.js","sourceRoot":"","sources":["../../src/test/lit-element_styling_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nimport {css, html as htmlWithStyles, LitElement} from '../lit-element.js';\n\nimport {\n  canTestLitElement,\n  generateElementName,\n  getComputedStyleValue,\n  nextFrame,\n} from './test-helpers.js';\nimport {assert} from '@esm-bundle/chai';\n\n(canTestLitElement ? suite : suite.skip)('Styling', () => {\n  suite('Basic styling', () => {\n    let container: HTMLElement;\n\n    setup(() => {\n      container = document.createElement('div');\n      document.body.appendChild(container);\n    });\n\n    teardown(() => {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n\n    test('content shadowRoot is styled', async () => {\n      const name = generateElementName();\n      customElements.define(\n        name,\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              border: 2px solid blue;\n            }\n          </style>\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const el = document.createElement(name);\n      container.appendChild(el);\n      await (el as LitElement).updateComplete;\n      const div = el.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '2px'\n      );\n    });\n\n    test('shared styling rendered into shadowRoot is styled', async () => {\n      const style = htmlWithStyles`<style>\n        div {\n          border: 4px solid blue;\n        }\n      </style>`;\n      const name = generateElementName();\n      customElements.define(\n        name,\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              border: 2px solid blue;\n            }\n          </style>\n          ${style}\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const el = document.createElement(name);\n      container.appendChild(el);\n      await (el as LitElement).updateComplete;\n      const div = el.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '4px'\n      );\n    });\n\n    test('custom properties render', async () => {\n      const name = generateElementName();\n      customElements.define(\n        name,\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            :host {\n              --border: 8px solid red;\n            }\n            div {\n              border: var(--border);\n            }\n          </style>\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const el = document.createElement(name);\n      container.appendChild(el);\n      await (el as LitElement).updateComplete;\n      const div = el.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '8px'\n      );\n    });\n\n    test('custom properties flow to nested elements', async () => {\n      customElements.define(\n        'x-inner',\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              border: var(--border);\n            }\n          </style>\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const name = generateElementName();\n      class E extends LitElement {\n        inner: LitElement | null = null;\n\n        render() {\n          return htmlWithStyles`\n          <style>\n            x-inner {\n              --border: 8px solid red;\n            }\n          </style>\n          <x-inner></x-inner>`;\n        }\n\n        firstUpdated() {\n          this.inner = this.shadowRoot!.querySelector('x-inner')! as LitElement;\n        }\n      }\n      customElements.define(name, E);\n      const el = document.createElement(name) as E;\n      container.appendChild(el);\n\n      // Workaround for Safari 9 Promise timing bugs.\n      (await el.updateComplete) && (await el.inner!.updateComplete);\n\n      await nextFrame();\n      const div = el.inner!.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '8px'\n      );\n    });\n\n    test('elements with custom properties can move between elements', async () => {\n      customElements.define(\n        'x-inner1',\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              border: var(--border);\n            }\n          </style>\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const name1 = generateElementName();\n      customElements.define(\n        name1,\n        class extends LitElement {\n          inner: Element | null = null;\n\n          render() {\n            return htmlWithStyles`\n          <style>\n            x-inner1 {\n              --border: 2px solid red;\n            }\n          </style>\n          <x-inner1></x-inner1>`;\n          }\n\n          firstUpdated() {\n            this.inner = this.shadowRoot!.querySelector('x-inner1');\n          }\n        }\n      );\n      const name2 = generateElementName();\n      customElements.define(\n        name2,\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            x-inner1 {\n              --border: 8px solid red;\n            }\n          </style>`;\n          }\n        }\n      );\n      const el = document.createElement(name1) as LitElement;\n      const el2 = document.createElement(name2);\n      container.appendChild(el);\n      container.appendChild(el2);\n\n      // Workaround for Safari 9 Promise timing bugs.\n      await el.updateComplete;\n\n      await nextFrame();\n      const inner = el.shadowRoot!.querySelector('x-inner1');\n      const div = inner!.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '2px'\n      );\n      el2.shadowRoot!.appendChild(inner!);\n\n      // Workaround for Safari 9 Promise timing bugs.\n      await el.updateComplete;\n\n      await nextFrame();\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '8px'\n      );\n    });\n  });\n\n  suite('Static get styles', () => {\n    let container: HTMLElement;\n\n    setup(() => {\n      container = document.createElement('div');\n      document.body.appendChild(container);\n    });\n\n    teardown(() => {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n\n    test('styles in render compose with `static get styles`', async () => {\n      const name = generateElementName();\n      customElements.define(\n        name,\n        class extends LitElement {\n          static get styles() {\n            return [\n              css`\n                div {\n                  border: 2px solid blue;\n                }\n              `,\n              css`\n                span {\n                  display: block;\n                  border: 3px solid blue;\n                }\n              `,\n            ];\n          }\n\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              padding: 4px;\n            }\n            span {\n              display: block;\n              border: 4px solid blue;\n            }\n          </style>\n          <div>Testing1</div>\n          <span>Testing2</span>`;\n          }\n        }\n      );\n      const el = document.createElement(name);\n      container.appendChild(el);\n      await (el as LitElement).updateComplete;\n      const div = el.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '2px'\n      );\n      assert.equal(getComputedStyleValue(div!, 'padding-top').trim(), '4px');\n      const span = el.shadowRoot!.querySelector('span');\n      assert.equal(\n        getComputedStyleValue(span!, 'border-top-width').trim(),\n        '3px'\n      );\n      // Verify there is one scoping style under ShadyDOM\n      if (window.ShadyDOM?.inUse) {\n        assert.equal(\n          document.querySelectorAll(`style[scope=${name}`).length,\n          1\n        );\n      }\n    });\n  });\n\n  suite('ShadyDOM', () => {\n    let container: HTMLElement;\n\n    setup(function () {\n      if (!window.ShadyDOM) {\n        this.skip();\n      } else {\n        container = document.createElement('div');\n        document.body.appendChild(container);\n      }\n    });\n\n    teardown(() => {\n      if (container && container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    });\n\n    // TODO(sorvell): Bindings in styles are no longer supported.\n    // This will be supported via static bindings only.\n    test.skip('properties in styles render with initial value and cannot be changed', async () => {\n      let border = `6px solid blue`;\n      const name = generateElementName();\n      customElements.define(\n        name,\n        class extends LitElement {\n          render() {\n            return htmlWithStyles`\n          <style>\n            div {\n              border: ${border};\n            }\n          </style>\n          <div>Testing...</div>`;\n          }\n        }\n      );\n      const el = document.createElement(name) as LitElement;\n      container.appendChild(el);\n      await el.updateComplete;\n      const div = el.shadowRoot!.querySelector('div');\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '6px'\n      );\n      border = `4px solid orange`;\n      el.requestUpdate();\n      await el.updateComplete;\n      assert.equal(\n        getComputedStyleValue(div!, 'border-top-width').trim(),\n        '6px'\n      );\n    });\n  });\n});\n"]}