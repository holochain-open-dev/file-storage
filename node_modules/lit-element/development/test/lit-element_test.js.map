{"version":3,"file":"lit-element_test.js","sourceRoot":"","sources":["../../src/test/lit-element_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {\n  html,\n  LitElement,\n  UpdatingElement,\n  ReactiveElement,\n  Part,\n  nothing,\n} from '../lit-element.js';\nimport {directive, AsyncDirective} from 'lit-html/async-directive.js';\nimport {\n  canTestLitElement,\n  generateElementName,\n  nextFrame,\n  stripExpressionComments,\n} from './test-helpers.js';\nimport {assert} from '@esm-bundle/chai';\n\nimport {createRef, ref} from 'lit-html/directives/ref.js';\n\n(canTestLitElement ? suite : suite.skip)('LitElement', () => {\n  let container: HTMLElement;\n\n  setup(() => {\n    container = document.createElement('div');\n    document.body.appendChild(container);\n  });\n\n  teardown(() => {\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  });\n\n  test('renders initial content into shadowRoot', async () => {\n    const rendered = `hello world`;\n    const name = generateElementName();\n    customElements.define(\n      name,\n      class extends LitElement {\n        render() {\n          return html`${rendered}`;\n        }\n      }\n    );\n    const el = document.createElement(name);\n    container.appendChild(el);\n    await new Promise<void>((resolve) => {\n      setTimeout(() => {\n        assert.ok(el.shadowRoot);\n        assert.equal(\n          stripExpressionComments(el.shadowRoot!.innerHTML),\n          rendered\n        );\n        resolve();\n      });\n    });\n  });\n\n  test('can set render target to light dom', async () => {\n    const rendered = `hello world`;\n    const name = generateElementName();\n    customElements.define(\n      name,\n      class extends LitElement {\n        render() {\n          return html`${rendered}`;\n        }\n\n        createRenderRoot() {\n          return this;\n        }\n      }\n    );\n    const el = document.createElement(name);\n    container.appendChild(el);\n    await (el as LitElement).updateComplete;\n    assert.notOk(el.shadowRoot);\n    assert.equal(stripExpressionComments(el.innerHTML), rendered);\n  });\n\n  test('renders when created via constructor', async () => {\n    const rendered = `hello world`;\n    class E extends LitElement {\n      render() {\n        return html`${rendered}`;\n      }\n    }\n    customElements.define(generateElementName(), E);\n    const el = new E();\n    container.appendChild(el);\n    await el.updateComplete;\n    assert.ok(el.shadowRoot);\n    assert.equal(stripExpressionComments(el.shadowRoot!.innerHTML), rendered);\n  });\n\n  test('updates/renders attributes, properties, and event listeners via `lit-html`', async () => {\n    class E extends LitElement {\n      _event?: Event;\n\n      render() {\n        const attr = 'attr';\n        const prop = 'prop';\n        const event = function (this: E, e: Event) {\n          this._event = e;\n        };\n        return html`<div attr=\"${attr}\" .prop=\"${prop}\" @zug=\"${event}\"></div>`;\n      }\n    }\n    customElements.define(generateElementName(), E);\n    const el = new E();\n    container.appendChild(el);\n    await el.updateComplete;\n    const d = el.shadowRoot!.querySelector('div')!;\n    assert.equal(d.getAttribute('attr'), 'attr');\n    assert.equal((d as any).prop, 'prop');\n    const e = new Event('zug');\n    d.dispatchEvent(e);\n    assert.equal(el._event, e);\n  });\n\n  test('event listeners are invoked with the right `this` value', async () => {\n    class E extends LitElement {\n      event?: Event;\n\n      render() {\n        return html`<div @test=${this.onTest}></div>`;\n      }\n\n      onTest(e: Event) {\n        this.event = e;\n      }\n    }\n    customElements.define(generateElementName(), E);\n    const el = new E();\n    container.appendChild(el);\n    await el.updateComplete;\n    const div = el.shadowRoot!.querySelector('div')!;\n    const event = new Event('test');\n    div.dispatchEvent(event);\n    assert.equal(el.event, event);\n  });\n\n  test('can set properties and attributes on sub-element', async () => {\n    class E extends LitElement {\n      static get properties() {\n        return {foo: {}, attr: {}, bool: {type: Boolean}};\n      }\n      foo = 'hi';\n      bool = false;\n\n      render() {\n        return html`${this.foo}`;\n      }\n    }\n    customElements.define('x-2448', E);\n\n    class F extends LitElement {\n      inner: E | null = null;\n\n      static get properties() {\n        return {bar: {}, bool: {type: Boolean}};\n      }\n      bar = 'outer';\n      bool = false;\n\n      render() {\n        return html`<x-2448\n          .foo=\"${this.bar}\"\n          attr=\"${this.bar}\"\n          .bool=\"${this.bool}\"\n        ></x-2448>`;\n      }\n\n      firstUpdated() {\n        this.inner = this.shadowRoot!.querySelector('x-2448');\n      }\n\n      get updateComplete() {\n        return super.updateComplete.then(() => this.inner!.updateComplete);\n      }\n    }\n    customElements.define(generateElementName(), F);\n    const el = new F();\n    container.appendChild(el);\n    await el.updateComplete;\n    assert.equal(el.inner!.shadowRoot!.textContent, 'outer');\n    assert.equal((el.inner! as any).attr, 'outer');\n    assert.equal(el.inner!.getAttribute('attr'), 'outer');\n    assert.equal(el.inner!.bool, false);\n    el.bar = 'test';\n    el.bool = true;\n    await el.updateComplete;\n    assert.equal(el.inner!.shadowRoot!.textContent, 'test');\n    assert.equal((el.inner! as any).attr, 'test');\n    assert.equal(el.inner!.getAttribute('attr'), 'test');\n    assert.equal(el.inner!.bool, true);\n  });\n\n  test('adds a version number', () => {\n    assert.equal(window['litElementVersions'].length, 1);\n  });\n\n  test('event fired during rendering element can trigger an update', async () => {\n    class E extends LitElement {\n      connectedCallback() {\n        super.connectedCallback();\n        this.dispatchEvent(\n          new CustomEvent('foo', {bubbles: true, detail: 'foo'})\n        );\n      }\n    }\n    customElements.define('x-child-61012', E);\n\n    class F extends LitElement {\n      static get properties() {\n        return {foo: {type: String}};\n      }\n\n      foo = '';\n\n      render() {\n        return html`<x-child-61012 @foo=${this._handleFoo}></x-child-61012\n          ><span>${this.foo}</span>`;\n      }\n\n      _handleFoo(e: CustomEvent) {\n        this.foo = e.detail;\n      }\n    }\n\n    customElements.define(generateElementName(), F);\n    const el = new F();\n    container.appendChild(el);\n    // eslint-disable-next-line no-empty\n    while (!(await el.updateComplete)) {}\n    assert.equal(el.shadowRoot!.textContent, 'foo');\n  });\n\n  test('exceptions in `render` throw but do not prevent further updates', async () => {\n    // TODO(sorvell): console errors produced by wtr and upset it.\n    const consoleError = console.error;\n    console.error = () => {};\n    let shouldThrow = false;\n    class A extends LitElement {\n      static properties = {foo: {}};\n      foo = 5;\n      updatedFoo = 0;\n\n      render() {\n        if (shouldThrow) {\n          throw new Error('test error');\n        }\n        return html`${this.foo}`;\n      }\n    }\n    customElements.define(generateElementName(), A);\n    const a = new A();\n    container.appendChild(a);\n    await a.updateComplete;\n    assert.equal(a.shadowRoot!.textContent, '5');\n    shouldThrow = true;\n    a.foo = 10;\n    let threw = false;\n    try {\n      await a.updateComplete;\n    } catch (e) {\n      threw = true;\n    }\n    assert.isTrue(threw);\n    assert.equal(a.foo, 10);\n    assert.equal(a.shadowRoot!.textContent, '5');\n    shouldThrow = false;\n    a.foo = 20;\n    // TODO(sorvell): Make sure to wait beyond error timing or wtr is sad.\n    await new Promise((r) => setTimeout(r));\n    assert.equal(a.foo, 20);\n    assert.equal(a.shadowRoot!.textContent, '20');\n    console.error = consoleError;\n  });\n\n  test('if `render` is unimplemented, do not overwrite renderRoot', async () => {\n    class A extends LitElement {\n      addedDom: HTMLElement | null = null;\n      createRenderRoot() {\n        return this;\n      }\n    }\n    customElements.define(generateElementName(), A);\n    const a = new A();\n    const testDom = document.createElement('div');\n    a.appendChild(testDom);\n    container.appendChild(a);\n    await a.updateComplete;\n    assert.equal(\n      testDom.parentNode,\n      a,\n      'testDom should be a child of the component'\n    );\n  });\n\n  test('can use ReactiveElement', async () => {\n    class A extends ReactiveElement {}\n    customElements.define(generateElementName(), A);\n    const a = new A();\n    container.appendChild(a);\n    await a.updateComplete;\n    assert.ok(a.hasUpdated);\n  });\n\n  test('can use UpdatingElement', async () => {\n    class A extends UpdatingElement {}\n    customElements.define(generateElementName(), A);\n    const a = new A();\n    container.appendChild(a);\n    await a.updateComplete;\n    assert.ok(a.hasUpdated);\n  });\n\n  (window.ShadyDOM && window.ShadyDOM.inUse ? test.skip : test)(\n    'can customize shadowRootOptions',\n    async () => {\n      class A extends LitElement {\n        static shadowRootOptions: ShadowRootInit = {mode: 'closed'};\n      }\n      customElements.define(generateElementName(), A);\n      const a = new A();\n      container.appendChild(a);\n      await a.updateComplete;\n      assert.equal(a.shadowRoot, undefined);\n    }\n  );\n\n  suite('directives', () => {\n    suite('disconnection handling', () => {\n      let host: Host;\n      const log: string[] = [];\n\n      const d = directive(\n        class extends AsyncDirective {\n          id!: unknown;\n          render(id: unknown) {\n            log.push(`render-${id}`);\n            return (this.id = id);\n          }\n          disconnected() {\n            log.push(`disconnect-${this.id}`);\n          }\n          reconnected() {\n            log.push(`reconnect-${this.id}`);\n          }\n        }\n      );\n\n      class Child extends LitElement {\n        static properties = {\n          attr: {type: String},\n          prop: {type: String},\n        };\n        attr = 'default';\n        prop = 'default';\n        render() {\n          return html`<div attr=${d('child-attr')} .prop=${d('child-prop')}>\n            ${d('child-node')}\n          </div>`;\n        }\n        get child() {\n          // Cast to child so we can access .prop off of the div\n          return this.shadowRoot!.firstElementChild as Child;\n        }\n      }\n      customElements.define('disc-child', Child);\n\n      class Host extends LitElement {\n        render() {\n          return html`<disc-child attr=${d('host-attr')} .prop=${d('host-prop')}\n            >${d('host-node')}</disc-child\n          >`;\n        }\n        get child() {\n          // Cast to child so we can access .prop off of the div\n          return this.shadowRoot!.firstElementChild as Child;\n        }\n      }\n      customElements.define('disc-host', Host);\n\n      const assertRendering = (host: Host) => {\n        let child = host.child;\n        assert.equal(child.getAttribute('attr'), 'host-attr');\n        assert.equal(child.prop, 'host-prop');\n        assert.equal(child.textContent?.trim(), 'host-node');\n        child = child.child;\n        assert.equal(child.getAttribute('attr'), 'child-attr');\n        assert.equal(child.prop, 'child-prop');\n        assert.equal(child.textContent?.trim(), 'child-node');\n      };\n\n      setup(() => {\n        log.length = 0;\n        host = new Host();\n      });\n\n      teardown(() => {\n        if (host.isConnected) {\n          container.removeChild(host);\n        }\n      });\n\n      test('directives render on connection', async () => {\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        assert.deepEqual(log, [\n          'render-host-attr',\n          'render-host-prop',\n          'render-host-node',\n          'render-child-attr',\n          'render-child-prop',\n          'render-child-node',\n        ]);\n      });\n\n      test('directives disconnect on disconnection', async () => {\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        log.length = 0;\n        container.removeChild(host);\n        assertRendering(host);\n        // Note: directive disconnection/reconnection is synchronous to\n        // connected/disconnectedCallback\n        assert.deepEqual(log, [\n          'disconnect-host-attr',\n          'disconnect-host-prop',\n          'disconnect-host-node',\n          'disconnect-child-attr',\n          'disconnect-child-prop',\n          'disconnect-child-node',\n        ]);\n      });\n\n      test('directives reconnect on reconnection', async () => {\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        container.removeChild(host);\n        log.length = 0;\n        container.appendChild(host);\n        assertRendering(host);\n        assert.deepEqual(log, [\n          'reconnect-host-attr',\n          'reconnect-host-prop',\n          'reconnect-host-node',\n          'reconnect-child-attr',\n          'reconnect-child-prop',\n          'reconnect-child-node',\n        ]);\n      });\n\n      test('directives reconnect on reconnection', async () => {\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        container.removeChild(host);\n        await nextFrame();\n        log.length = 0;\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        assert.deepEqual(log, [\n          'reconnect-host-attr',\n          'reconnect-host-prop',\n          'reconnect-host-node',\n          'reconnect-child-attr',\n          'reconnect-child-prop',\n          'reconnect-child-node',\n        ]);\n      });\n\n      test('directives reconnect and render on reconnection with pending render', async () => {\n        container.appendChild(host);\n        await nextFrame();\n        assertRendering(host);\n        container.removeChild(host);\n        log.length = 0;\n        host.requestUpdate();\n        host.child.requestUpdate();\n        container.appendChild(host);\n        assertRendering(host);\n        assert.deepEqual(log, [\n          'reconnect-host-attr',\n          'reconnect-host-prop',\n          'reconnect-host-node',\n          'reconnect-child-attr',\n          'reconnect-child-prop',\n          'reconnect-child-node',\n        ]);\n        log.length = 0;\n        await nextFrame();\n        assertRendering(host);\n        assert.deepEqual(log, [\n          'render-host-attr',\n          'render-host-prop',\n          'render-host-node',\n          'render-child-attr',\n          'render-child-prop',\n          'render-child-node',\n        ]);\n      });\n    });\n  });\n\n  test('bind refs between elements', async () => {\n    class RefChild extends LitElement {\n      static properties = {\n        bool: {},\n        ref: {},\n      };\n      bool = false;\n      // default ref, should be unused\n      ref = createRef();\n      cb = (_el: Element | undefined) => {};\n      render() {\n        return html` <span>\n          ${this.bool\n            ? html`<div id=\"true\" ${ref(this.ref)} ${ref(this.cb)}></div>`\n            : html`<div id=\"false\" ${ref(this.ref)} ${ref(this.cb)}></div>`}\n        </span>`;\n      }\n      get trueDiv() {\n        return this.shadowRoot!.querySelector('#true');\n      }\n      get falseDiv() {\n        return this.shadowRoot!.querySelector('#false');\n      }\n    }\n    customElements.define('ref-child', RefChild);\n\n    class RefHost extends LitElement {\n      static properties = {\n        bool: {type: Boolean},\n      };\n      bool = false;\n      elRef = createRef();\n      el: Element | undefined;\n      count = 0;\n      elCallback = (el: Element | undefined) => {\n        this.count++;\n        this.el = el;\n      };\n      render() {\n        return html`<ref-child\n          .bool=${this.bool}\n          .ref=${this.elRef}\n          .cb=${this.elCallback}\n        ></ref-child>`;\n      }\n      get child() {\n        return this.shadowRoot!.querySelector('ref-child') as RefChild;\n      }\n    }\n    customElements.define('x-host', RefHost);\n\n    const host = container.appendChild(new RefHost());\n    await host.updateComplete;\n    await host.child.updateComplete;\n    assert.equal(host.el, host.child.falseDiv);\n    assert.equal(host.elRef.value, host.child.falseDiv);\n    assert.equal(host.count, 1);\n\n    host.requestUpdate();\n    await host.updateComplete;\n    assert.equal(host.el, host.child.falseDiv);\n    assert.equal(host.elRef.value, host.child.falseDiv);\n    assert.equal(host.count, 1);\n\n    host.child.requestUpdate();\n    await host.child.updateComplete;\n    assert.equal(host.el, host.child.falseDiv);\n    assert.equal(host.elRef.value, host.child.falseDiv);\n    assert.equal(host.count, 1);\n\n    host.bool = true;\n    await host.updateComplete;\n    await host.child.updateComplete;\n    assert.equal(host.el, host.child.trueDiv);\n    assert.equal(host.elRef.value, host.child.trueDiv);\n    assert.equal(host.count, 3);\n  });\n\n  test('directive as controller can be added/removed via connect/disconnect', async () => {\n    const log: string[] = [];\n    const controllerDirective = directive(\n      class extends AsyncDirective {\n        part?: Part;\n        host?: Host;\n\n        render() {\n          log.push(`render-${this.host!.x}`);\n          return nothing;\n        }\n        ensureHost() {\n          if (this.host === undefined) {\n            this.host = this.part!.options!.host as Host;\n            this.host.addController(this);\n          }\n        }\n        hostUpdate() {\n          log.push(`hostUpdate-${this.host?.x}`);\n        }\n        hostUpdated() {\n          log.push(`hostUpdated-${this.host!.x}`);\n        }\n        update(part: Part) {\n          if (this.part === undefined) {\n            this.part = part;\n          }\n          this.ensureHost();\n          this.render();\n        }\n        disconnected() {\n          this.host?.removeController(this);\n          this.host = undefined;\n        }\n        reconnected() {\n          this.ensureHost();\n        }\n      }\n    );\n\n    class Host extends LitElement {\n      static properties = {\n        bool: {},\n        x: {},\n      };\n      bool: boolean;\n      x: number;\n\n      constructor() {\n        super();\n        this.bool = true;\n        this.x = 0;\n      }\n      render() {\n        return html` ${this.bool\n          ? html`<div ${controllerDirective()}></div>`\n          : nothing}`;\n      }\n    }\n    customElements.define('controller-host', Host);\n\n    const host = container.appendChild(new Host());\n    await host.updateComplete;\n    assert.deepEqual(log, [`render-${host.x}`, `hostUpdated-${host.x}`]);\n    log.length = 0;\n    host.x = 1;\n    await host.updateComplete;\n    assert.deepEqual(log, [\n      `hostUpdate-${host.x}`,\n      `render-${host.x}`,\n      `hostUpdated-${host.x}`,\n    ]);\n    log.length = 0;\n    // disconnects directive\n    host.bool = false;\n    await host.updateComplete;\n    assert.deepEqual(log, [`hostUpdate-${host.x}`]);\n    log.length = 0;\n    // reconnects directive\n    host.bool = true;\n    await host.updateComplete;\n    assert.deepEqual(log, [`render-${host.x}`, `hostUpdated-${host.x}`]);\n    // disconnects directive\n    log.length = 0;\n    host.bool = false;\n    await host.updateComplete;\n    assert.deepEqual(log, [`hostUpdate-${host.x}`]);\n    log.length = 0;\n    // render while directive is disconnected\n    host.x = 2;\n    await host.updateComplete;\n    assert.deepEqual(log, []);\n    // reconnects directive\n    host.bool = true;\n    await host.updateComplete;\n    assert.deepEqual(log, [`render-${host.x}`, `hostUpdated-${host.x}`]);\n  });\n});\n"]}