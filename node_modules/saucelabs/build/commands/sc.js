"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handler = exports.builder = exports.describe = exports.command = void 0;

var _ = _interopRequireDefault(require("./.."));

var _constants = require("../constants");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const command = 'sc [flags]';
exports.command = command;
const describe = 'Sauce Connect interface';
exports.describe = describe;

const builder = yargs => {
  for (const option of _constants.SAUCE_CONNECT_CLI_PARAMS) {
    yargs.option(option.name, option);
  }
};

exports.builder = builder;

const handler = async argv => {
  const {
    user,
    key,
    headless,
    region,
    proxy
  } = Object.assign({}, _constants.DEFAULT_OPTIONS, argv);
  const api = new _.default({
    user,
    key,
    headless,
    region,
    proxy
  });
  return api.startSauceConnect(argv, true);
};

exports.handler = handler;