"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.handler = exports.builder = exports.describe = exports.command = void 0;

require("source-map-support/register");

var _ = _interopRequireDefault(require("./.."));

var _constants = require("../constants");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const command = 'sc [flags]';
exports.command = command;
const describe = 'Sauce Connect interface';
exports.describe = describe;

const builder = yargs => {
  for (const option of _constants.SAUCE_CONNECT_CLI_PARAMS) {
    yargs.option(option.name, option);
  }
};

exports.builder = builder;

const handler = async argv => {
  const {
    user,
    key,
    headless,
    region,
    proxy
  } = Object.assign({}, _constants.DEFAULT_OPTIONS, argv);
  const api = new _.default({
    user,
    key,
    headless,
    region,
    proxy
  });
  return api.startSauceConnect(argv, true);
};

exports.handler = handler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kcy9zYy5qcyJdLCJuYW1lcyI6WyJjb21tYW5kIiwiZGVzY3JpYmUiLCJidWlsZGVyIiwieWFyZ3MiLCJvcHRpb24iLCJTQVVDRV9DT05ORUNUX0NMSV9QQVJBTVMiLCJuYW1lIiwiaGFuZGxlciIsImFyZ3YiLCJ1c2VyIiwia2V5IiwiaGVhZGxlc3MiLCJyZWdpb24iLCJwcm94eSIsIk9iamVjdCIsImFzc2lnbiIsIkRFRkFVTFRfT1BUSU9OUyIsImFwaSIsIlNhdWNlTGFicyIsInN0YXJ0U2F1Y2VDb25uZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7OztBQUVPLE1BQU1BLE9BQU8sR0FBRyxZQUFoQjs7QUFDQSxNQUFNQyxRQUFRLEdBQUcseUJBQWpCOzs7QUFDQSxNQUFNQyxPQUFPLEdBQUlDLEtBQUQsSUFBVztBQUM5QixPQUFLLE1BQU1DLE1BQVgsSUFBcUJDLG1DQUFyQixFQUErQztBQUMzQ0YsSUFBQUEsS0FBSyxDQUFDQyxNQUFOLENBQWFBLE1BQU0sQ0FBQ0UsSUFBcEIsRUFBMEJGLE1BQTFCO0FBQ0g7QUFDSixDQUpNOzs7O0FBS0EsTUFBTUcsT0FBTyxHQUFHLE1BQU9DLElBQVAsSUFBZ0I7QUFDbkMsUUFBTTtBQUFFQyxJQUFBQSxJQUFGO0FBQVFDLElBQUFBLEdBQVI7QUFBYUMsSUFBQUEsUUFBYjtBQUF1QkMsSUFBQUEsTUFBdkI7QUFBK0JDLElBQUFBO0FBQS9CLE1BQXlDQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCQywwQkFBbEIsRUFBbUNSLElBQW5DLENBQS9DO0FBQ0EsUUFBTVMsR0FBRyxHQUFHLElBQUlDLFNBQUosQ0FBYztBQUFFVCxJQUFBQSxJQUFGO0FBQVFDLElBQUFBLEdBQVI7QUFBYUMsSUFBQUEsUUFBYjtBQUF1QkMsSUFBQUEsTUFBdkI7QUFBK0JDLElBQUFBO0FBQS9CLEdBQWQsQ0FBWjtBQUNBLFNBQU9JLEdBQUcsQ0FBQ0UsaUJBQUosQ0FBc0JYLElBQXRCLEVBQTRCLElBQTVCLENBQVA7QUFDSCxDQUpNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNhdWNlTGFicyBmcm9tICcuLy4uJ1xuaW1wb3J0IHsgREVGQVVMVF9PUFRJT05TLCBTQVVDRV9DT05ORUNUX0NMSV9QQVJBTVMgfSBmcm9tICcuLi9jb25zdGFudHMnXG5cbmV4cG9ydCBjb25zdCBjb21tYW5kID0gJ3NjIFtmbGFnc10nXG5leHBvcnQgY29uc3QgZGVzY3JpYmUgPSAnU2F1Y2UgQ29ubmVjdCBpbnRlcmZhY2UnXG5leHBvcnQgY29uc3QgYnVpbGRlciA9ICh5YXJncykgPT4ge1xuICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIFNBVUNFX0NPTk5FQ1RfQ0xJX1BBUkFNUykge1xuICAgICAgICB5YXJncy5vcHRpb24ob3B0aW9uLm5hbWUsIG9wdGlvbilcbiAgICB9XG59XG5leHBvcnQgY29uc3QgaGFuZGxlciA9IGFzeW5jIChhcmd2KSA9PiB7XG4gICAgY29uc3QgeyB1c2VyLCBrZXksIGhlYWRsZXNzLCByZWdpb24sIHByb3h5IH0gPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIGFyZ3YpXG4gICAgY29uc3QgYXBpID0gbmV3IFNhdWNlTGFicyh7IHVzZXIsIGtleSwgaGVhZGxlc3MsIHJlZ2lvbiwgcHJveHkgfSlcbiAgICByZXR1cm4gYXBpLnN0YXJ0U2F1Y2VDb25uZWN0KGFyZ3YsIHRydWUpXG59XG4iXX0=