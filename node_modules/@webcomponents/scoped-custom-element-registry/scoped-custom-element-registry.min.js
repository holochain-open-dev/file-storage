(function(){
/*

 Copyright (c) 2020 The Polymer Project Authors. All rights reserved.
 This code may only be used under the BSD style license found at
 http://polymer.github.io/LICENSE.txt
 The complete set of authors may be found at
 http://polymer.github.io/AUTHORS.txt
 The complete set of contributors may be found at
 http://polymer.github.io/CONTRIBUTORS.txt
 Code distributed by Google as part of the polymer project is also
 subject to an additional IP rights grant found at
 http://polymer.github.io/PATENTS.txt
*/
'use strict';function g(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var h=window.HTMLElement,l=window.customElements.define,m=window.customElements.get,n=window.customElements,p=new WeakMap,q=new WeakMap,r=new WeakMap,t=new WeakMap;window.CustomElementRegistry=function(){this.g=new Map;this.m=new Map;this.j=new Map;this.l=new Map;this.h=new Map};
window.CustomElementRegistry.prototype.define=function(a,b){a=a.toLowerCase();if(void 0!==this.g.get(a))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': the name \""+a+'" has already been used with this registry');if(void 0!==this.m.get(b))throw new DOMException("Failed to execute 'define' on 'CustomElementRegistry': this constructor has already been used with this registry");var c=b.prototype.attributeChangedCallback,d=new Set(b.observedAttributes||[]);u(b,d,c);c={i:b,
connectedCallback:b.prototype.connectedCallback,disconnectedCallback:b.prototype.disconnectedCallback,adoptedCallback:b.prototype.adoptedCallback,attributeChangedCallback:c,observedAttributes:d};this.g.set(a,c);this.m.set(b,c);d=m.call(n,a);d||(d=v(a),l.call(n,a,d));this===window.customElements&&(r.set(b,c),c.o=d);if(d=this.h.get(a)){this.h.delete(a);var e="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];d=e?e.call(d):{next:g(d)};for(e=d.next();!e.done;e=d.next())e=e.value,q.delete(e),
w(e,c)}(a=this.l.get(a))&&a();return b};window.CustomElementRegistry.prototype.upgrade=function(){x.push(this);n.upgrade.apply(n,arguments);x.pop()};window.CustomElementRegistry.prototype.get=function(a){var b;return null==(b=this.g.get(a))?void 0:b.i};window.CustomElementRegistry.prototype.whenDefined=function(a){var b=this.j.get(a);if(!b){var c;b=new Promise(function(d){return c=d});this.j.set(a,b);this.l.set(a,c)}return b};
function y(a,b,c,d){var e=a.h.get(c);e||a.h.set(c,e=new Set);d?e.add(b):e.delete(b)}var z;window.HTMLElement=function(){var a=z;if(a)return z=void 0,a;var b=r.get(this.constructor);if(!b)throw new TypeError("Illegal constructor (custom element class must be registered with global customElements registry to be newable)");a=Reflect.construct(h,[],b.o);Object.setPrototypeOf(a,this.constructor.prototype);p.set(a,b);return a};window.HTMLElement.prototype=h.prototype;
function v(a){function b(){var c=Reflect.construct(h,[],this.constructor);Object.setPrototypeOf(c,HTMLElement.prototype);a:{var d=c.getRootNode();if(!(d===document||d instanceof ShadowRoot)){d=x[x.length-1];if(d instanceof CustomElementRegistry){var e=d;break a}d=d.getRootNode();d===document||d instanceof ShadowRoot||(d=(null==(e=t.get(d))?void 0:e.getRootNode())||document)}e=d.customElements}e=e||window.customElements;(d=e.g.get(a))?w(c,d):q.set(c,e);return c}b.prototype.connectedCallback=function(){var c=
p.get(this);c?c.connectedCallback&&c.connectedCallback.apply(this,arguments):y(q.get(this),this,a,!0)};b.prototype.disconnectedCallback=function(){var c=p.get(this);c?c.disconnectedCallback&&c.disconnectedCallback.apply(this,arguments):y(q.get(this),this,a,!1)};b.prototype.adoptedCallback=function(){var c,d;null==(c=p.get(this))||null==(d=c.adoptedCallback)||d.apply(this,arguments)};return b}
function u(a,b,c){if(0!==b.size&&void 0!==c){var d=a.prototype.setAttribute;d&&(a.prototype.setAttribute=function(f,k){if(b.has(f)){var C=this.getAttribute(f);d.call(this,f,k);c.call(this,f,C,k)}else d.call(this,f,k)});var e=a.prototype.removeAttribute;e&&(a.prototype.removeAttribute=function(f){if(b.has(f)){var k=this.getAttribute(f);e.call(this,f);c.call(this,f,k,null)}else e.call(this,f)})}}
function w(a,b){Object.setPrototypeOf(a,b.i.prototype);p.set(a,b);z=a;new b.i;b.observedAttributes.forEach(function(c){a.hasAttribute(c)&&b.attributeChangedCallback.call(a,c,null,a.getAttribute(c))})}var A=Element.prototype.attachShadow;Element.prototype.attachShadow=function(a){var b=A.apply(this,arguments);a.customElements&&(b.customElements=a.customElements);return b};var x=[document];
function B(a,b,c){var d=(c?Object.getPrototypeOf(c):a.prototype)[b];a.prototype[b]=function(){x.push(this);var e=d.apply(c||this,arguments);t.set(e,this);x.pop();return e}}B(ShadowRoot,"createElement",document);B(ShadowRoot,"importNode",document);B(Element,"insertAdjacentHTML");function D(a){var b=Object.getOwnPropertyDescriptor(a.prototype,"innerHTML");Object.defineProperty(a.prototype,"innerHTML",Object.assign({},b,{set:function(c){x.push(this);b.set.call(this,c);x.pop()}}))}D(Element);D(ShadowRoot);
Object.defineProperty(window,"customElements",{value:new CustomElementRegistry,configurable:!0,writable:!0});
}).call(self);

//# sourceMappingURL=scoped-custom-element-registry.min.js.map
