{"version":3,"file":"rollup-plugin-babel.esm.js","sources":["../src/constants.js","../src/bundledHelpersPlugin.js","../src/utils.js","../src/preflightCheck.js","../src/transformCode.js","../src/index.js"],"sourcesContent":["export const BUNDLED = 'bundled';\nexport const INLINE = 'inline';\nexport const RUNTIME = 'runtime';\nexport const EXTERNAL = 'external';\n\n// NOTE: DO NOT REMOVE the null character `\\0` as it may be used by other plugins\n// e.g. https://github.com/rollup/rollup-plugin-node-resolve/blob/313a3e32f432f9eb18cc4c231cc7aac6df317a51/src/index.js#L74\nexport const HELPERS = '\\0rollupPluginBabelHelpers.js';\n","import { HELPERS } from './constants.js';\nimport { addNamed } from '@babel/helper-module-imports';\n\nexport default function importHelperPlugin() {\n\treturn {\n\t\tpre(file) {\n\t\t\tconst cachedHelpers = {};\n\t\t\tfile.set('helperGenerator', name => {\n\t\t\t\tif (!file.availableHelper(name)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (cachedHelpers[name]) {\n\t\t\t\t\treturn cachedHelpers[name];\n\t\t\t\t}\n\n\t\t\t\treturn (cachedHelpers[name] = addNamed(file.path, name, HELPERS));\n\t\t\t});\n\t\t},\n\t};\n}\n","export const addBabelPlugin = (options, plugin) => ({\n\t...options,\n\tplugins: options.plugins.concat(plugin),\n});\n\nlet warned = {};\nexport function warnOnce(ctx, msg) {\n\tif (warned[msg]) return;\n\twarned[msg] = true;\n\tctx.warn(msg);\n}\n\nconst regExpCharactersRegExp = /[\\\\^$.*+?()[\\]{}|]/g;\nexport const escapeRegExpCharacters = str => str.replace(regExpCharactersRegExp, '\\\\$&');\n","import * as babel from '@babel/core';\nimport { INLINE, RUNTIME, EXTERNAL, BUNDLED } from './constants.js';\nimport { addBabelPlugin } from './utils.js';\n\nconst MODULE_ERROR =\n\t'Rollup requires that your Babel configuration keeps ES6 module syntax intact. ' +\n\t'Unfortunately it looks like your configuration specifies a module transformer ' +\n\t'to replace ES6 modules with another module format. To continue you have to disable it.' +\n\t'\\n\\n' +\n\t\"Most commonly it's a CommonJS transform added by @babel/preset-env - \" +\n\t'in such case you should disable it by adding `modules: false` option to that preset ' +\n\t'(described in more detail here - https://github.com/rollup/rollup-plugin-babel#modules ).';\n\nconst UNEXPECTED_ERROR =\n\t'An unexpected situation arose. Please raise an issue at ' +\n\t'https://github.com/rollup/rollup-plugin-babel/issues. Thanks!';\n\nconst PREFLIGHT_TEST_STRING = '__ROLLUP__PREFLIGHT_CHECK_DO_NOT_TOUCH__';\nconst PREFLIGHT_INPUT = `export default \"${PREFLIGHT_TEST_STRING}\";`;\n\nfunction helpersTestTransform() {\n\treturn {\n\t\tvisitor: {\n\t\t\tStringLiteral(path, state) {\n\t\t\t\tif (path.node.value === PREFLIGHT_TEST_STRING) {\n\t\t\t\t\tpath.replaceWith(state.file.addHelper('inherits'));\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n}\n\nconst mismatchError = (actual, expected, filename) =>\n\t`You have declared using \"${expected}\" babelHelpers, but transforming ${filename} resulted in \"${actual}\". Please check your configuration.`;\n\nconst inheritsHelperRe = /\\/helpers\\/(esm\\/)?inherits/;\n\nexport default async function preflightCheck(ctx, babelHelpers, transformOptions) {\n\tconst finalOptions = addBabelPlugin(transformOptions, helpersTestTransform);\n\tconst check = (await babel.transformAsync(PREFLIGHT_INPUT, finalOptions)).code;\n\n\t// Babel sometimes splits ExportDefaultDeclaration into 2 statements, so we also check for ExportNamedDeclaration\n\tif (!/export (d|{)/.test(check)) {\n\t\tctx.error(MODULE_ERROR);\n\t}\n\n\tif (inheritsHelperRe.test(check)) {\n\t\tif (babelHelpers === RUNTIME) {\n\t\t\treturn;\n\t\t}\n\t\tctx.error(mismatchError(RUNTIME, babelHelpers, transformOptions.filename));\n\t}\n\n\tif (check.includes('babelHelpers.inherits')) {\n\t\tif (babelHelpers === EXTERNAL) {\n\t\t\treturn;\n\t\t}\n\t\tctx.error(mismatchError(EXTERNAL, babelHelpers, transformOptions.filename));\n\t}\n\n\t// test unminifiable string content\n\tif (check.includes('Super expression must either be null or a function')) {\n\t\tif (babelHelpers === INLINE || babelHelpers === BUNDLED) {\n\t\t\treturn;\n\t\t}\n\t\tif (babelHelpers === RUNTIME && !transformOptions.plugins.length) {\n\t\t\tctx.error(`You must use the \\`@babel/plugin-transform-runtime\\` plugin when \\`babelHelpers\\` is \"${RUNTIME}\".\\n`);\n\t\t}\n\t\tctx.error(mismatchError(INLINE, babelHelpers, transformOptions.filename));\n\t}\n\n\tctx.error(UNEXPECTED_ERROR);\n}\n","import * as babel from '@babel/core';\n\nexport default async function transformCode(inputCode, babelOptions, overrides, customOptions, ctx, finalizeOptions) {\n\tconst config = babel.loadPartialConfig(babelOptions);\n\n\t// file is ignored by babel\n\tif (!config) {\n\t\treturn null;\n\t}\n\n\tlet transformOptions = !overrides.config\n\t\t? config.options\n\t\t: await overrides.config.call(this, config, {\n\t\t\t\tcode,\n\t\t\t\tcustomOptions,\n\t\t  });\n\n\tif (finalizeOptions) {\n\t\ttransformOptions = await finalizeOptions(transformOptions);\n\t}\n\n\tif (!overrides.result) {\n\t\tconst { code, map } = await babel.transformAsync(inputCode, transformOptions);\n\t\treturn {\n\t\t\tcode,\n\t\t\tmap,\n\t\t};\n\t}\n\n\tconst result = await babel.transformAsync(inputCode, transformOptions);\n\tconst { code, map } = await overrides.result.call(ctx, result, {\n\t\tcode: inputCode,\n\t\tcustomOptions,\n\t\tconfig,\n\t\ttransformOptions,\n\t});\n\treturn {\n\t\tcode,\n\t\tmap,\n\t};\n}\n","import * as babel from '@babel/core';\nimport { createFilter } from 'rollup-pluginutils';\nimport { RUNTIME, EXTERNAL, BUNDLED, INLINE, HELPERS } from './constants.js';\nimport bundledHelpersPlugin from './bundledHelpersPlugin.js';\nimport preflightCheck from './preflightCheck.js';\nimport transformCode from './transformCode';\nimport { addBabelPlugin, escapeRegExpCharacters, warnOnce } from './utils.js';\n\nconst unpackOptions = ({\n\textensions = babel.DEFAULT_EXTENSIONS,\n\t// rollup uses sourcemap, babel uses sourceMaps\n\t// just normalize them here so people don't have to worry about it\n\tsourcemap = true,\n\tsourcemaps = true,\n\tsourceMap = true,\n\tsourceMaps = true,\n\t...rest\n} = {}) => ({\n\textensions,\n\tplugins: [],\n\tsourceMaps: sourcemap && sourcemaps && sourceMap && sourceMaps,\n\t...rest,\n\tcaller: {\n\t\tname: 'rollup-plugin-babel',\n\t\t...rest.caller,\n\t},\n});\n\nconst unpackInputPluginOptions = ({ skipPreflightCheck = false, ...rest }) => {\n\tif (!rest.babelHelpers) {\n\t\tconsole.warn(\n\t\t\t'You should specify how do you want to bundle/import \"Babel helpers\" (runtime functions inserted by Babel which are used by some transformations).\\n\\n' +\n\t\t\t\t`Please pass \\`babelHelpers\\` option to the rollup-plugin-babel with one of the following values (\"${BUNDLED}\" is the default):\\n` +\n\t\t\t\t`  - \"${RUNTIME}\" - you should use it especially when building libraries with rollup. It has to be used in combination with \\`@babel/plugin-transform-runtime\\` and you should also specify \\`@babel/runtime\\` as dependency of your package (don't forget to tell rollup to treat it is your external dependency when bundling for cjs & esm formats).\\n` +\n\t\t\t\t`  - \"${BUNDLED}\" - you should use it if you want your resulting bundle to contain those helpers (at most one copy of each). Useful especially if you bundle an application code.\\n` +\n\t\t\t\t`  - \"${EXTERNAL}\" - use it only if you know what you are doing. It will reference helpers on **global** \\`babelHelpers\\` object. Used most commonly in combination with \\`@babel/plugin-external-helpers\\`.\\n` +\n\t\t\t\t`  - \"${INLINE}\" - this is not recommended. Helpers will be inserted in each file using them, this can cause serious code duplication (this is default Babel behaviour)\\n`,\n\t\t);\n\t}\n\treturn unpackOptions({\n\t\t...rest,\n\t\tskipPreflightCheck,\n\t\tbabelHelpers: rest.babelHelpers || BUNDLED,\n\t\tcaller: {\n\t\t\tsupportsStaticESM: true,\n\t\t\tsupportsDynamicImport: true,\n\t\t\tsupportsTopLevelAwait: true,\n\t\t\t...rest.caller,\n\t\t},\n\t});\n};\n\nconst unpackOutputPluginOptions = (options, { format }) =>\n\tunpackOptions({\n\t\tconfigFile: false,\n\t\tsourceType: format === 'es' ? 'module' : 'script',\n\t\t...options,\n\t\tcaller: {\n\t\t\tsupportsStaticESM: format === 'es',\n\t\t\t...options.caller,\n\t\t},\n\t});\n\nfunction getOptionsWithOverrides(pluginOptions = {}, overrides = {}) {\n\tif (!overrides.options) return { customOptions: null, pluginOptionsWithOverrides: pluginOptions };\n\tconst overridden = overrides.options(pluginOptions);\n\n\tif (typeof overridden.then === 'function') {\n\t\tthrow new Error(\n\t\t\t\".options hook can't be asynchronous. It should return `{ customOptions, pluginsOptions }` synchronously.\",\n\t\t);\n\t}\n\n\treturn {\n\t\tcustomOptions: overridden.customOptions || null,\n\t\tpluginOptionsWithOverrides: overridden.pluginOptions || pluginOptions,\n\t};\n}\n\nconst returnObject = () => ({});\n\nfunction createBabelInputPluginFactory(customCallback = returnObject) {\n\tconst overrides = customCallback(babel);\n\n\treturn pluginOptions => {\n\t\tconst { customOptions, pluginOptionsWithOverrides } = getOptionsWithOverrides(pluginOptions, overrides);\n\n\t\tconst {\n\t\t\texclude,\n\t\t\textensions,\n\t\t\tbabelHelpers,\n\t\t\tinclude,\n\t\t\tskipPreflightCheck,\n\t\t\t...babelOptions\n\t\t} = unpackInputPluginOptions(pluginOptionsWithOverrides);\n\n\t\tconst extensionRegExp = new RegExp(`(${extensions.map(escapeRegExpCharacters).join('|')})$`);\n\t\tconst includeExcludeFilter = createFilter(include, exclude);\n\t\tconst filter = id => extensionRegExp.test(id) && includeExcludeFilter(id);\n\n\t\treturn {\n\t\t\tname: 'babel',\n\n\t\t\tresolveId(id) {\n\t\t\t\tif (id === HELPERS) return id;\n\t\t\t},\n\n\t\t\tload(id) {\n\t\t\t\tif (id === HELPERS) return babel.buildExternalHelpers(null, 'module');\n\t\t\t},\n\n\t\t\ttransform(code, filename) {\n\t\t\t\tif (!filter(filename)) return null;\n\t\t\t\tif (filename === HELPERS) return null;\n\n\t\t\t\treturn transformCode(\n\t\t\t\t\tcode,\n\t\t\t\t\t{ ...babelOptions, filename },\n\t\t\t\t\toverrides,\n\t\t\t\t\tcustomOptions,\n\t\t\t\t\tthis,\n\t\t\t\t\tasync transformOptions => {\n\t\t\t\t\t\tif (!skipPreflightCheck) {\n\t\t\t\t\t\t\tawait preflightCheck(this, babelHelpers, transformOptions);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (babelHelpers === BUNDLED) {\n\t\t\t\t\t\t\ttransformOptions = addBabelPlugin(transformOptions, bundledHelpersPlugin);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn transformOptions;\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t},\n\t\t};\n\t};\n}\n\nfunction getRecommendedFormat(rollupFormat) {\n\tswitch (rollupFormat) {\n\t\tcase 'amd':\n\t\t\treturn 'amd';\n\t\tcase 'iife':\n\t\tcase 'umd':\n\t\t\treturn 'umd';\n\t\tcase 'system':\n\t\t\treturn 'systemjs';\n\t\tdefault:\n\t\t\treturn '<module format>';\n\t}\n}\n\nfunction createBabelOutputPluginFactory(customCallback = returnObject) {\n\tconst overrides = customCallback(babel);\n\n\treturn pluginOptions => {\n\t\tconst { customOptions, pluginOptionsWithOverrides } = getOptionsWithOverrides(pluginOptions, overrides);\n\n\t\treturn {\n\t\t\tname: 'babel',\n\n\t\t\trenderStart(outputOptions) {\n\t\t\t\tconst { extensions, include, exclude, allowAllFormats } = pluginOptionsWithOverrides;\n\n\t\t\t\tif (extensions || include || exclude) {\n\t\t\t\t\twarnOnce(this, 'The \"include\", \"exclude\" and \"extensions\" options are ignored when transforming the output.');\n\t\t\t\t}\n\t\t\t\tif (!allowAllFormats && outputOptions.format !== 'es' && outputOptions.format !== 'cjs') {\n\t\t\t\t\tthis.error(\n\t\t\t\t\t\t`Using Babel on the generated chunks is strongly discouraged for formats other than \"esm\" or \"cjs\" as it can easily break wrapper code and lead to accidentally created global variables. Instead, you should set \"output.format\" to \"esm\" and use Babel to transform to another format, e.g. by adding \"presets: [['@babel/env', { modules: '${getRecommendedFormat(\n\t\t\t\t\t\t\toutputOptions.format,\n\t\t\t\t\t\t)}' }]]\" to your Babel options. If you still want to proceed, add \"allowAllFormats: true\" to your plugin options.`,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\trenderChunk(code, chunk, outputOptions) {\n\t\t\t\t/* eslint-disable no-unused-vars */\n\t\t\t\tconst {\n\t\t\t\t\tallowAllFormats,\n\t\t\t\t\texclude,\n\t\t\t\t\textensions,\n\t\t\t\t\texternalHelpers,\n\t\t\t\t\texternalHelpersWhitelist,\n\t\t\t\t\tinclude,\n\t\t\t\t\truntimeHelpers,\n\t\t\t\t\t...babelOptions\n\t\t\t\t} = unpackOutputPluginOptions(pluginOptionsWithOverrides, outputOptions);\n\t\t\t\t/* eslint-enable no-unused-vars */\n\n\t\t\t\treturn transformCode(code, babelOptions, overrides, customOptions, this);\n\t\t\t},\n\t\t};\n\t};\n}\n\nconst babelPluginFactory = createBabelInputPluginFactory();\nbabelPluginFactory.custom = createBabelInputPluginFactory;\nbabelPluginFactory.generated = createBabelOutputPluginFactory();\nbabelPluginFactory.generated.custom = createBabelOutputPluginFactory;\n\nexport default babelPluginFactory;\n"],"names":["const","let","babel.transformAsync","babel.loadPartialConfig","code","map","babel.DEFAULT_EXTENSIONS","babel.buildExternalHelpers","this","bundledHelpersPlugin"],"mappings":"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"}