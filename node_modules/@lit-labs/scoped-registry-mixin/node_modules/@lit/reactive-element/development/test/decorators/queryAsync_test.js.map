{"version":3,"file":"queryAsync_test.js","sourceRoot":"","sources":["../../../src/test/decorators/queryAsync_test.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;;;;;;AAEH,OAAO,EAAC,UAAU,EAAC,MAAM,iCAAiC,CAAC;AAC3D,OAAO,EACL,sBAAsB,EACtB,mBAAmB,EACnB,gBAAgB,EAChB,IAAI,GACL,MAAM,oBAAoB,CAAC;AAC5B,OAAO,EAAC,MAAM,EAAC,MAAM,kBAAkB,CAAC;AAExC,CAAC,sBAAsB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,GAAG,EAAE;IAChE,IAAI,SAAsB,CAAC;IAC3B,IAAI,EAAK,CAAC;IAEV,MAAM,CAAE,SAAQ,gBAAgB;QAQ9B;YACE,KAAK,EAAE,CAAC;YACR,0CAA0C;YAC1C,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;QACnB,CAAC;QAED,MAAM;YACJ,OAAO,IAAI,CAAA;;UAEP,IAAI,CAAC,GAAG;gBACR,CAAC,CAAC,IAAI,CAAA,mCAAmC;gBACzC,CAAC,CAAC,IAAI,CAAA,+BAA+B;OACxC,CAAC;QACJ,CAAC;;IAjBM,YAAU,GAAG,EAAC,GAAG,EAAE,EAAE,EAAC,CAAC;IAHT;QAApB,UAAU,CAAC,OAAO,CAAC;mCAAgC;IAChC;QAAnB,UAAU,CAAC,MAAM,CAAC;mCAAwC;IAqB7D,cAAc,CAAC,MAAM,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC,CAAC;IAEhD,KAAK,CAAC,GAAG,EAAE;QACT,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,SAAS,CAAC,EAAE,GAAG,gBAAgB,CAAC;QAChC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QACrC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QACb,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,GAAG,EAAE;QACZ,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,SAAS,CAAC,aAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC/C,SAAiB,GAAG,SAAS,CAAC;SAChC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;QAChE,IAAI,GAAG,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC;QACxB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;QACvC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;QACxC,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC;QACd,GAAG,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC;QACpB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;QACvC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;IACzC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC;QAC3B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nimport {queryAsync} from '../../decorators/query-async.js';\nimport {\n  canTestReactiveElement,\n  generateElementName,\n  RenderingElement,\n  html,\n} from '../test-helpers.js';\nimport {assert} from '@esm-bundle/chai';\n\n(canTestReactiveElement ? suite : suite.skip)('@queryAsync', () => {\n  let container: HTMLElement;\n  let el: C;\n\n  class C extends RenderingElement {\n    @queryAsync('#blah') blah!: Promise<HTMLDivElement>;\n    @queryAsync('span') nope!: Promise<HTMLSpanElement | null>;\n\n    static properties = {foo: {}};\n\n    declare foo: boolean;\n\n    constructor() {\n      super();\n      // Avoiding class fields for Babel compat.\n      this.foo = false;\n    }\n\n    render() {\n      return html`\n        <div>Not this one</div>\n        ${this.foo\n          ? html`<div id=\"blah\" foo>This one</div>`\n          : html`<div id=\"blah\">This one</div>`}\n      `;\n    }\n  }\n  customElements.define(generateElementName(), C);\n\n  setup(() => {\n    container = document.createElement('div');\n    container.id = 'test-container';\n    document.body.appendChild(container);\n    el = new C();\n    container.appendChild(el);\n  });\n\n  teardown(() => {\n    if (container !== undefined) {\n      container.parentElement!.removeChild(container);\n      (container as any) = undefined;\n    }\n  });\n\n  test('returns an element when it exists after update', async () => {\n    let div = await el.blah;\n    assert.instanceOf(div, HTMLDivElement);\n    assert.isFalse(div.hasAttribute('foo'));\n    el.foo = true;\n    div = await el.blah;\n    assert.instanceOf(div, HTMLDivElement);\n    assert.isTrue(div.hasAttribute('foo'));\n  });\n\n  test('returns null when no match', async () => {\n    const span = await el.nope;\n    assert.isNull(span);\n  });\n});\n"]}