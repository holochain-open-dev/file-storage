{"version":3,"file":"upload-files.js","sourceRoot":"","sources":["../../src/elements/upload-files.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE7C,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,eAAe,EAAE,MAAM,2BAA2B,CAAC;AAC5D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAIpD,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAC;AAC/C,OAAO,EAAE,iBAAiB,EAAE,MAAM,uBAAuB,CAAC;AAC1D,OAAO,EAAE,yBAAyB,EAAE,MAAM,YAAY,CAAC;AAEvD;;;GAGG;AACH,MAAM,OAAO,WAAY,SAAQ,mBAAmB,CAAC,UAAU,CAAC;IAAhE;QACE,wBAAwB;;QAE4B,YAAO,GAAG,KAAK,CAAC;QACX,kBAAa,GAEtD,SAAS,CAAC;IA4C5B,CAAC;IArCC,yBAAyB;IAEzB,YAAY;QACV,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE9B,IAAI,CAAC,mBAAmB,CACtB,WAAW,EACX,KAAM,SAAQ,eAAe;YAC3B,aAAa,CAAC,eAA4B,EAAE,OAAwB;gBAClE,OAAO,IAAI,iBAAiB,CAAC,eAAe,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;YAClE,CAAC;SACF,CACF,CAAC;IAEJ,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;mBAEI,IAAI,CAAC,OAAO;yBACN,IAAI,CAAC,aAAa;yBAClB,CAAC,CAAc,EAAE,EAAE,CAClC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;;KAEzC,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,MAAM;QACf,OAAO;YACL,YAAY;YACZ,GAAG,CAAA;;;;OAIF;SACF,CAAC;IACJ,CAAC;CACF;AA/CqD;IAAnD,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC;4CAAiB;AACX;IAAxD,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,gBAAgB,EAAE,CAAC;kDAE9B;AAK1B;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,yBAAyB,EAAE,CAAC;6CAC1B","sourcesContent":["import { css, html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\n\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { DropzoneElement } from '@scoped-elements/dropzone';\nimport { contextProvided } from '@lit-labs/context';\nimport { DropzoneOptions } from 'dropzone';\n\nimport { FileStorageService } from '../services/file-storage.service';\nimport { sharedStyles } from '../sharedStyles';\nimport { HolochainDropzone } from '../holochain-dropzone';\nimport { fileStorageServiceContext } from '../context';\n\n/**\n * @fires file-uploaded - Fired after having uploaded the file\n * @csspart dropzone - Style the dropzone itself\n */\nexport class UploadFiles extends ScopedElementsMixin(LitElement) {\n  /** Public attributes */\n\n  @property({ type: Boolean, attribute: 'one-file' }) oneFile = false;\n  @property({ type: String, attribute: 'accepted-files' }) acceptedFiles:\n    | string\n    | undefined = undefined;\n\n  /** Dependencies */\n\n  @contextProvided({ context: fileStorageServiceContext })\n  _service!: FileStorageService;\n\n  /** Private properties */\n\n  firstUpdated() {\n    const service = this._service;\n\n    this.defineScopedElement(\n      'drop-zone',\n      class extends DropzoneElement {\n        buildDropzone(dropzoneElement: HTMLElement, options: DropzoneOptions) {\n          return new HolochainDropzone(dropzoneElement, service, options);\n        }\n      }\n    );\n\n  }\n\n  render() {\n    return html`\n      <drop-zone\n        .oneFile=${this.oneFile}\n        .acceptedFiles=${this.acceptedFiles}\n        @file-uploaded=${(e: CustomEvent) =>\n          (e.detail.hash = e.detail.file.hash)}\n      ></drop-zone>\n    `;\n  }\n\n  static get styles() {\n    return [\n      sharedStyles,\n      css`\n        :host {\n          display: contents;\n        }\n      `,\n    ];\n  }\n}\n"]}